(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function If(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hf={exports:{}},wi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=Symbol.for("react.transitional.element"),up=Symbol.for("react.fragment");function $f(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:op,type:e,key:s,ref:t!==void 0?t:null,props:n}}wi.Fragment=up;wi.jsx=$f;wi.jsxs=$f;Hf.exports=wi;var a=Hf.exports,qf={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.transitional.element"),dp=Symbol.for("react.portal"),hp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),gp=Symbol.for("react.consumer"),xp=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),bp=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),vp=Symbol.for("react.activity"),Td=Symbol.iterator;function jp(e){return e===null||typeof e!="object"?null:(e=Td&&e[Td]||e["@@iterator"],typeof e=="function"?e:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qf=Object.assign,Yf={};function ps(e,t,n){this.props=e,this.context=t,this.refs=Yf,this.updater=n||Gf}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xf(){}Xf.prototype=ps.prototype;function au(e,t,n){this.props=e,this.context=t,this.refs=Yf,this.updater=n||Gf}var su=au.prototype=new Xf;su.constructor=au;Qf(su,ps.prototype);su.isPureReactComponent=!0;var Ed=Array.isArray;function Qc(){}var Ae={H:null,A:null,T:null,S:null},Pf=Object.prototype.hasOwnProperty;function ru(e,t,n){var s=n.ref;return{$$typeof:nu,type:e,key:t,ref:s!==void 0?s:null,props:n}}function Np(e,t){return ru(e.type,t,e.props)}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===nu}function wp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ad=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wp(""+e.key):t.toString(36)}function Sp(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Qc,Qc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function za(e,t,n,s,r){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case nu:case dp:i=!0;break;case Ff:return i=e._init,za(i(e._payload),t,n,s,r)}}if(i)return r=r(e),i=s===""?"."+Wi(e,0):s,Ed(r)?(n="",i!=null&&(n=i.replace(Ad,"$&/")+"/"),za(r,t,n,"",function(d){return d})):r!=null&&(lu(r)&&(r=Np(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Ad,"$&/")+"/")+i)),t.push(r)),1;i=0;var c=s===""?".":s+":";if(Ed(e))for(var o=0;o<e.length;o++)s=e[o],l=c+Wi(s,o),i+=za(s,t,n,l,r);else if(o=jp(e),typeof o=="function")for(e=o.call(e),o=0;!(s=e.next()).done;)s=s.value,l=c+Wi(s,o++),i+=za(s,t,n,l,r);else if(l==="object"){if(typeof e.then=="function")return za(Sp(e),t,n,s,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function Yr(e,t,n){if(e==null)return e;var s=[],r=0;return za(e,s,"","",function(l){return t.call(n,l,r++)}),s}function Cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Od=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tp={map:Yr,forEach:function(e,t,n){Yr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yr(e,function(){t++}),t},toArray:function(e){return Yr(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Activity=vp;se.Children=Tp;se.Component=ps;se.Fragment=hp;se.Profiler=mp;se.PureComponent=au;se.StrictMode=fp;se.Suspense=yp;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ae.H.useMemoCache(e)}};se.cache=function(e){return function(){return e.apply(null,arguments)}};se.cacheSignal=function(){return null};se.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=Qf({},e.props),r=e.key;if(t!=null)for(l in t.key!==void 0&&(r=""+t.key),t)!Pf.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(s[l]=t[l]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var i=Array(l),c=0;c<l;c++)i[c]=arguments[c+2];s.children=i}return ru(e.type,r,s)};se.createContext=function(e){return e={$$typeof:xp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:gp,_context:e},e};se.createElement=function(e,t,n){var s,r={},l=null;if(t!=null)for(s in t.key!==void 0&&(l=""+t.key),t)Pf.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=t[s]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var c=Array(i),o=0;o<i;o++)c[o]=arguments[o+2];r.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)r[s]===void 0&&(r[s]=i[s]);return ru(e,l,r)};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:pp,render:e}};se.isValidElement=lu;se.lazy=function(e){return{$$typeof:Ff,_payload:{_status:-1,_result:e},_init:Cp}};se.memo=function(e,t){return{$$typeof:bp,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Ae.T,n={};Ae.T=n;try{var s=e(),r=Ae.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Qc,Od)}catch(l){Od(l)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ae.T=t}};se.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()};se.use=function(e){return Ae.H.use(e)};se.useActionState=function(e,t,n){return Ae.H.useActionState(e,t,n)};se.useCallback=function(e,t){return Ae.H.useCallback(e,t)};se.useContext=function(e){return Ae.H.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e,t){return Ae.H.useDeferredValue(e,t)};se.useEffect=function(e,t){return Ae.H.useEffect(e,t)};se.useEffectEvent=function(e){return Ae.H.useEffectEvent(e)};se.useId=function(){return Ae.H.useId()};se.useImperativeHandle=function(e,t,n){return Ae.H.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Ae.H.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Ae.H.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Ae.H.useMemo(e,t)};se.useOptimistic=function(e,t){return Ae.H.useOptimistic(e,t)};se.useReducer=function(e,t,n){return Ae.H.useReducer(e,t,n)};se.useRef=function(e){return Ae.H.useRef(e)};se.useState=function(e){return Ae.H.useState(e)};se.useSyncExternalStore=function(e,t,n){return Ae.H.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Ae.H.useTransition()};se.version="19.2.3";qf.exports=se;var g=qf.exports;const Hn=If(g);var Kf={exports:{}},Si={},Zf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,_){var U=V.length;V.push(_);e:for(;0<U;){var J=U-1>>>1,ee=V[J];if(0<r(ee,_))V[J]=_,V[U]=ee,U=J;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var _=V[0],U=V.pop();if(U!==_){V[0]=U;e:for(var J=0,ee=V.length,ae=ee>>>1;J<ae;){var z=2*(J+1)-1,Y=V[z],k=z+1,L=V[k];if(0>r(Y,U))k<ee&&0>r(L,Y)?(V[J]=L,V[k]=U,J=k):(V[J]=Y,V[z]=U,J=z);else if(k<ee&&0>r(L,U))V[J]=L,V[k]=U,J=k;else break e}}return _}function r(V,_){var U=V.sortIndex-_.sortIndex;return U!==0?U:V.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],f=1,h=null,p=3,x=!1,v=!1,S=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;function j(V){for(var _=n(d);_!==null;){if(_.callback===null)s(d);else if(_.startTime<=V)s(d),_.sortIndex=_.expirationTime,t(o,_);else break;_=n(d)}}function N(V){if(S=!1,j(V),!v)if(n(o)!==null)v=!0,O||(O=!0,M());else{var _=n(d);_!==null&&K(N,_.startTime-V)}}var O=!1,T=-1,b=5,C=-1;function E(){return w?!0:!(e.unstable_now()-C<b)}function D(){if(w=!1,O){var V=e.unstable_now();C=V;var _=!0;try{e:{v=!1,S&&(S=!1,u(T),T=-1),x=!0;var U=p;try{t:{for(j(V),h=n(o);h!==null&&!(h.expirationTime>V&&E());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var ee=J(h.expirationTime<=V);if(V=e.unstable_now(),typeof ee=="function"){h.callback=ee,j(V),_=!0;break t}h===n(o)&&s(o),j(V)}else s(o);h=n(o)}if(h!==null)_=!0;else{var ae=n(d);ae!==null&&K(N,ae.startTime-V),_=!1}}break e}finally{h=null,p=U,x=!1}_=void 0}}finally{_?M():O=!1}}}var M;if(typeof m=="function")M=function(){m(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,H=B.port2;B.port1.onmessage=D,M=function(){H.postMessage(null)}}else M=function(){y(D,0)};function K(V,_){T=y(function(){V(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var _=3;break;default:_=p}var U=p;p=_;try{return V()}finally{p=U}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(V,_){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=p;p=V;try{return _()}finally{p=U}},e.unstable_scheduleCallback=function(V,_,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,V){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=U+ee,V={id:f++,callback:_,priorityLevel:V,startTime:U,expirationTime:ee,sortIndex:-1},U>J?(V.sortIndex=U,t(d,V),n(o)===null&&V===n(d)&&(S?(u(T),T=-1):S=!0,K(N,U-J))):(V.sortIndex=ee,t(o,V),v||x||(v=!0,O||(O=!0,M()))),V},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(V){var _=p;return function(){var U=p;p=_;try{return V.apply(this,arguments)}finally{p=U}}}})(Jf);Zf.exports=Jf;var Ep=Zf.exports,Wf={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=g;function em(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function An(){}var nt={d:{f:An,r:function(){throw Error(em(522))},D:An,C:An,L:An,m:An,X:An,S:An,M:An},p:0,findDOMNode:null},Op=Symbol.for("react.portal");function kp(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Op,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var Ys=Ap.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ci(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(em(299));return kp(e,t,null,n)};at.flushSync=function(e){var t=Ys.T,n=nt.p;try{if(Ys.T=null,nt.p=2,e)return e()}finally{Ys.T=t,nt.p=n,nt.d.f()}};at.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,nt.d.C(e,t))};at.prefetchDNS=function(e){typeof e=="string"&&nt.d.D(e)};at.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=Ci(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?nt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:l}):n==="script"&&nt.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};at.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ci(t.as,t.crossOrigin);nt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&nt.d.M(e)};at.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=Ci(n,t.crossOrigin);nt.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};at.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ci(t.as,t.crossOrigin);nt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else nt.d.m(e)};at.requestFormReset=function(e){nt.d.r(e)};at.unstable_batchedUpdates=function(e,t){return e(t)};at.useFormState=function(e,t,n){return Ys.H.useFormState(e,t,n)};at.useFormStatus=function(){return Ys.H.useHostTransitionStatus()};at.version="19.2.3";function tm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tm)}catch(e){console.error(e)}}tm(),Wf.exports=at;var Dp=Wf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe=Ep,nm=g,Mp=Dp;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rm(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kd(e){if(Er(e)!==e)throw Error($(188))}function _p(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var l=r.alternate;if(l===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return kd(r),e;if(l===s)return kd(r),t;l=l.sibling}throw Error($(188))}if(n.return!==s.return)n=r,s=l;else{for(var i=!1,c=r.child;c;){if(c===n){i=!0,n=r,s=l;break}if(c===s){i=!0,s=r,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,s=r;break}if(c===s){i=!0,s=l,n=r;break}c=c.sibling}if(!i)throw Error($(189))}}if(n.alternate!==s)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function lm(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=lm(e),t!==null)return t;e=e.sibling}return null}var Oe=Object.assign,Rp=Symbol.for("react.element"),Xr=Symbol.for("react.transitional.element"),Hs=Symbol.for("react.portal"),Ba=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),cm=Symbol.for("react.consumer"),hn=Symbol.for("react.context"),iu=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),cu=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Kc=Symbol.for("react.activity"),zp=Symbol.for("react.memo_cache_sentinel"),Dd=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Dd&&e[Dd]||e["@@iterator"],typeof e=="function"?e:null)}var Lp=Symbol.for("react.client.reference");function Zc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Lp?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ba:return"Fragment";case Yc:return"Profiler";case im:return"StrictMode";case Xc:return"Suspense";case Pc:return"SuspenseList";case Kc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Hs:return"Portal";case hn:return e.displayName||"Context";case cm:return(e._context.displayName||"Context")+".Consumer";case iu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cu:return t=e.displayName||null,t!==null?t:Zc(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return Zc(e(t))}catch{}}return null}var $s=Array.isArray,te=nm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=Mp.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xa={pending:!1,data:null,method:null,action:null},Jc=[],Ua=-1;function nn(e){return{current:e}}function Ye(e){0>Ua||(e.current=Jc[Ua],Jc[Ua]=null,Ua--)}function Ce(e,t){Ua++,Jc[Ua]=e.current,e.current=t}var Wt=nn(null),or=nn(null),$n=nn(null),Vl=nn(null);function Bl(e,t){switch(Ce($n,t),Ce(or,e),Ce(Wt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vh(t),e=Ag(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ye(Wt),Ce(Wt,e)}function ss(){Ye(Wt),Ye(or),Ye($n)}function Wc(e){e.memoizedState!==null&&Ce(Vl,e);var t=Wt.current,n=Ag(t,e.type);t!==n&&(Ce(or,e),Ce(Wt,n))}function Ul(e){or.current===e&&(Ye(Wt),Ye(or)),Vl.current===e&&(Ye(Vl),vr._currentValue=xa)}var ec,Md;function ua(e){if(ec===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ec=t&&t[1]||"",Md=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ec+e+Md}var tc=!1;function nc(e,t){if(!e||tc)return"";tc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(x){var p=x}Reflect.construct(e,[],h)}else{try{h.call()}catch(x){p=x}e.call(h.prototype)}}else{try{throw Error()}catch(x){p=x}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(x){if(x&&p&&typeof x.stack=="string")return[x.stack,p.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=s.DetermineComponentFrameRoot(),i=l[0],c=l[1];if(i&&c){var o=i.split(`
`),d=c.split(`
`);for(r=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;r<d.length&&!d[r].includes("DetermineComponentFrameRoot");)r++;if(s===o.length||r===d.length)for(s=o.length-1,r=d.length-1;1<=s&&0<=r&&o[s]!==d[r];)r--;for(;1<=s&&0<=r;s--,r--)if(o[s]!==d[r]){if(s!==1||r!==1)do if(s--,r--,0>r||o[s]!==d[r]){var f=`
`+o[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=r);break}}}finally{tc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ua(n):""}function Vp(e,t){switch(e.tag){case 26:case 27:case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return e.child!==t&&t!==null?ua("Suspense Fallback"):ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return nc(e.type,!1);case 11:return nc(e.type.render,!1);case 1:return nc(e.type,!0);case 31:return ua("Activity");default:return""}}function _d(e){try{var t="",n=null;do t+=Vp(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var eo=Object.prototype.hasOwnProperty,ou=Fe.unstable_scheduleCallback,ac=Fe.unstable_cancelCallback,Bp=Fe.unstable_shouldYield,Up=Fe.unstable_requestPaint,pt=Fe.unstable_now,Ip=Fe.unstable_getCurrentPriorityLevel,om=Fe.unstable_ImmediatePriority,um=Fe.unstable_UserBlockingPriority,Il=Fe.unstable_NormalPriority,Hp=Fe.unstable_LowPriority,dm=Fe.unstable_IdlePriority,$p=Fe.log,qp=Fe.unstable_setDisableYieldValue,Ar=null,yt=null;function zn(e){if(typeof $p=="function"&&qp(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ar,e)}catch{}}var bt=Math.clz32?Math.clz32:Qp,Fp=Math.log,Gp=Math.LN2;function Qp(e){return e>>>=0,e===0?32:31-(Fp(e)/Gp|0)|0}var Pr=256,Kr=262144,Zr=4194304;function da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var c=s&134217727;return c!==0?(s=c&~l,s!==0?r=da(s):(i&=c,i!==0?r=da(i):n||(n=c&~e,n!==0&&(r=da(n))))):(c=s&~l,c!==0?r=da(c):i!==0?r=da(i):n||(n=s&~e,n!==0&&(r=da(n)))),r===0?0:t!==0&&t!==r&&!(t&l)&&(l=r&-r,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:r}function Or(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Yp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hm(){var e=Zr;return Zr<<=1,!(Zr&62914560)&&(Zr=4194304),e}function sc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xp(e,t,n,s,r,l){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,d=e.hiddenUpdates;for(n=i&~n;0<n;){var f=31-bt(n),h=1<<f;c[f]=0,o[f]=-1;var p=d[f];if(p!==null)for(d[f]=null,f=0;f<p.length;f++){var x=p[f];x!==null&&(x.lane&=-536870913)}n&=~h}s!==0&&fm(e,s,0),l!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=l&~(i&~t))}function fm(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-bt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function mm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-bt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function gm(e,t){var n=t&-t;return n=n&42?1:uu(n),n&(e.suspendedLanes|t)?0:n}function uu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function du(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function xm(){var e=ye.p;return e!==0?e:(e=window.event,e===void 0?32:Ug(e.type))}function Rd(e,t){var n=ye.p;try{return ye.p=e,t()}finally{ye.p=n}}var ra=Math.random().toString(36).slice(2),Pe="__reactFiber$"+ra,dt="__reactProps$"+ra,ys="__reactContainer$"+ra,to="__reactEvents$"+ra,Pp="__reactListeners$"+ra,Kp="__reactHandles$"+ra,zd="__reactResources$"+ra,Dr="__reactMarker$"+ra;function hu(e){delete e[Pe],delete e[dt],delete e[to],delete e[Pp],delete e[Kp]}function Ia(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ys]||n[Pe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$h(e);e!==null;){if(n=e[Pe])return n;e=$h(e)}return t}e=n,n=e.parentNode}return null}function bs(e){if(e=e[Pe]||e[ys]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function Ka(e){var t=e[zd];return t||(t=e[zd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Dr]=!0}var pm=new Set,ym={};function Aa(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(ym[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var Zp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ld={},Vd={};function Jp(e){return eo.call(Vd,e)?!0:eo.call(Ld,e)?!1:Zp.test(e)?Vd[e]=!0:(Ld[e]=!0,!1)}function fl(e,t,n){if(Jp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Jr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Et(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wp(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function no(e){if(!e._valueTracker){var t=bm(e)?"checked":"value";e._valueTracker=Wp(e,t,""+e[t])}}function vm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=bm(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ey=/[\n"\\]/g;function Dt(e){return e.replace(ey,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ao(e,t,n,s,r,l,i,c){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Et(t)):e.value!==""+Et(t)&&(e.value=""+Et(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?so(e,i,Et(t)):n!=null?so(e,i,Et(n)):s!=null&&e.removeAttribute("value"),r==null&&l!=null&&(e.defaultChecked=!!l),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+Et(c):e.removeAttribute("name")}function jm(e,t,n,s,r,l,i,c){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){no(e);return}n=n!=null?""+Et(n):"",t=t!=null?""+Et(t):n,c||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=c?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),no(e)}function so(e,t,n){t==="number"&&Hl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Za(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Et(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Nm(e,t,n){if(t!=null&&(t=""+Et(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Et(n):""}function wm(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error($(92));if($s(s)){if(1<s.length)throw Error($(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Et(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),no(e)}function ls(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ty=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||ty.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sm(e,t,n){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&Bd(e,r,s)}else for(var l in t)t.hasOwnProperty(l)&&Bd(e,l,t[l])}function fu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ay=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(e){return ay.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fn(){}var ro=null;function mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,Ja=null;function Ud(e){var t=bs(e);if(t&&(e=t.stateNode)){var n=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ao(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[dt]||null;if(!r)throw Error($(90));ao(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&vm(s)}break e;case"textarea":Nm(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Za(e,!!n.multiple,t,!1)}}}var rc=!1;function Cm(e,t,n){if(rc)return e(t,n);rc=!0;try{var s=e(t);return s}finally{if(rc=!1,(Ha!==null||Ja!==null)&&(Bi(),Ha&&(t=Ha,e=Ja,Ja=Ha=null,Ud(t),e)))for(t=0;t<e.length;t++)Ud(e[t])}}function ur(e,t){var n=e.stateNode;if(n===null)return null;var s=n[dt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=!1;if(vn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{lo=!1}var Ln=null,gu=null,gl=null;function Tm(){if(gl)return gl;var e,t=gu,n=t.length,s,r="value"in Ln?Ln.value:Ln.textContent,l=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===r[l-s];s++);return gl=r.slice(e,1<s?1-s:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wr(){return!0}function Id(){return!1}function ht(e){function t(n,s,r,l,i){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Wr:Id,this.isPropagationStopped=Id,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=ht(Oa),Mr=Oe({},Oa,{view:0,detail:0}),sy=ht(Mr),lc,ic,_s,Ai=Oe({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(lc=e.screenX-_s.screenX,ic=e.screenY-_s.screenY):ic=lc=0,_s=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:ic}}),Hd=ht(Ai),ry=Oe({},Ai,{dataTransfer:0}),ly=ht(ry),iy=Oe({},Mr,{relatedTarget:0}),cc=ht(iy),cy=Oe({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),oy=ht(cy),uy=Oe({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dy=ht(uy),hy=Oe({},Oa,{data:0}),$d=ht(hy),fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},my={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gy[e])?!!t[e]:!1}function xu(){return xy}var py=Oe({},Mr,{key:function(e){if(e.key){var t=fy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?my[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yy=ht(py),by=Oe({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=ht(by),vy=Oe({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),jy=ht(vy),Ny=Oe({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),wy=ht(Ny),Sy=Oe({},Ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cy=ht(Sy),Ty=Oe({},Oa,{newState:0,oldState:0}),Ey=ht(Ty),Ay=[9,13,27,32],pu=vn&&"CompositionEvent"in window,Xs=null;vn&&"documentMode"in document&&(Xs=document.documentMode);var Oy=vn&&"TextEvent"in window&&!Xs,Em=vn&&(!pu||Xs&&8<Xs&&11>=Xs),Fd=" ",Gd=!1;function Am(e,t){switch(e){case"keyup":return Ay.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function ky(e,t){switch(e){case"compositionend":return Om(t);case"keypress":return t.which!==32?null:(Gd=!0,Fd);case"textInput":return e=t.data,e===Fd&&Gd?null:e;default:return null}}function Dy(e,t){if($a)return e==="compositionend"||!pu&&Am(e,t)?(e=Tm(),gl=gu=Ln=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Em&&t.locale!=="ko"?null:t.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!My[e.type]:t==="textarea"}function km(e,t,n,s){Ha?Ja?Ja.push(s):Ja=[s]:Ha=s,t=ri(t,"onChange"),0<t.length&&(n=new Ei("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ps=null,dr=null;function _y(e){Cg(e,0)}function Oi(e){var t=qs(e);if(vm(t))return e}function Yd(e,t){if(e==="change")return t}var Dm=!1;if(vn){var oc;if(vn){var uc="oninput"in document;if(!uc){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),uc=typeof Xd.oninput=="function"}oc=uc}else oc=!1;Dm=oc&&(!document.documentMode||9<document.documentMode)}function Pd(){Ps&&(Ps.detachEvent("onpropertychange",Mm),dr=Ps=null)}function Mm(e){if(e.propertyName==="value"&&Oi(dr)){var t=[];km(t,dr,e,mu(e)),Cm(_y,t)}}function Ry(e,t,n){e==="focusin"?(Pd(),Ps=t,dr=n,Ps.attachEvent("onpropertychange",Mm)):e==="focusout"&&Pd()}function zy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oi(dr)}function Ly(e,t){if(e==="click")return Oi(t)}function Vy(e,t){if(e==="input"||e==="change")return Oi(t)}function By(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:By;function hr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!eo.call(t,r)||!jt(e[r],t[r]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zd(e,t){var n=Kd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function _m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hl(e.document)}return t}function yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Uy=vn&&"documentMode"in document&&11>=document.documentMode,qa=null,io=null,Ks=null,co=!1;function Jd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;co||qa==null||qa!==Hl(s)||(s=qa,"selectionStart"in s&&yu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ks&&hr(Ks,s)||(Ks=s,s=ri(io,"onSelect"),0<s.length&&(t=new Ei("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=qa)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fa={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},dc={},zm={};vn&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function ka(e){if(dc[e])return dc[e];if(!Fa[e])return e;var t=Fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zm)return dc[e]=t[n];return e}var Lm=ka("animationend"),Vm=ka("animationiteration"),Bm=ka("animationstart"),Iy=ka("transitionrun"),Hy=ka("transitionstart"),$y=ka("transitioncancel"),Um=ka("transitionend"),Im=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function Ft(e,t){Im.set(e,t),Aa(t,[e])}var $l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tt=[],Ga=0,bu=0;function ki(){for(var e=Ga,t=bu=Ga=0;t<e;){var n=Tt[t];Tt[t++]=null;var s=Tt[t];Tt[t++]=null;var r=Tt[t];Tt[t++]=null;var l=Tt[t];if(Tt[t++]=null,s!==null&&r!==null){var i=s.pending;i===null?r.next=r:(r.next=i.next,i.next=r),s.pending=r}l!==0&&Hm(n,r,l)}}function Di(e,t,n,s){Tt[Ga++]=e,Tt[Ga++]=t,Tt[Ga++]=n,Tt[Ga++]=s,bu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function vu(e,t,n,s){return Di(e,t,n,s),ql(e)}function Da(e,t){return Di(e,null,null,t),ql(e)}function Hm(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,l=e.return;l!==null;)l.childLanes|=n,s=l.alternate,s!==null&&(s.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(r=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,r&&t!==null&&(r=31-bt(n),e=l.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),l):null}function ql(e){if(50<rr)throw rr=0,Do=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qa={};function qy(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,s){return new qy(e,t,n,s)}function ju(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $m(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pl(e,t,n,s,r,l){var i=0;if(s=e,typeof e=="function")ju(e)&&(i=1);else if(typeof e=="string")i=Xb(e,n,Wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Kc:return e=gt(31,n,t,r),e.elementType=Kc,e.lanes=l,e;case Ba:return pa(n.children,r,l,t);case im:i=8,r|=24;break;case Yc:return e=gt(12,n,t,r|2),e.elementType=Yc,e.lanes=l,e;case Xc:return e=gt(13,n,t,r),e.elementType=Xc,e.lanes=l,e;case Pc:return e=gt(19,n,t,r),e.elementType=Pc,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hn:i=10;break e;case cm:i=9;break e;case iu:i=11;break e;case cu:i=14;break e;case On:i=16,s=null;break e}i=29,n=Error($(130,e===null?"null":typeof e,"")),s=null}return t=gt(i,n,t,r),t.elementType=e,t.type=s,t.lanes=l,t}function pa(e,t,n,s){return e=gt(7,e,s,t),e.lanes=n,e}function hc(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function qm(e){var t=gt(18,null,null,0);return t.stateNode=e,t}function fc(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wd=new WeakMap;function Mt(e,t){if(typeof e=="object"&&e!==null){var n=Wd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:_d(t)},Wd.set(e,t),t)}return{value:e,source:t,stack:_d(t)}}var Ya=[],Xa=0,Fl=null,fr=0,At=[],Ot=0,Jn=null,Kt=1,Zt="";function un(e,t){Ya[Xa++]=fr,Ya[Xa++]=Fl,Fl=e,fr=t}function Fm(e,t,n){At[Ot++]=Kt,At[Ot++]=Zt,At[Ot++]=Jn,Jn=e;var s=Kt;e=Zt;var r=32-bt(s)-1;s&=~(1<<r),n+=1;var l=32-bt(t)+r;if(30<l){var i=r-r%5;l=(s&(1<<i)-1).toString(32),s>>=i,r-=i,Kt=1<<32-bt(t)+r|n<<r|s,Zt=l+e}else Kt=1<<l|n<<r|s,Zt=e}function Nu(e){e.return!==null&&(un(e,1),Fm(e,1,0))}function wu(e){for(;e===Fl;)Fl=Ya[--Xa],Ya[Xa]=null,fr=Ya[--Xa],Ya[Xa]=null;for(;e===Jn;)Jn=At[--Ot],At[Ot]=null,Zt=At[--Ot],At[Ot]=null,Kt=At[--Ot],At[Ot]=null}function Gm(e,t){At[Ot++]=Kt,At[Ot++]=Zt,At[Ot++]=Jn,Kt=t.id,Zt=t.overflow,Jn=e}var Ke=null,Ee=null,me=!1,qn=null,_t=!1,uo=Error($(519));function Wn(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mr(Mt(t,e)),uo}function eh(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Pe]=e,t[dt]=s,n){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(n=0;n<yr.length;n++)ue(yr[n],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),jm(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),wm(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Eg(t.textContent,n)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=fn),t=!0):t=!1,t||Wn(e,!0)}function th(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:_t=!1;return;case 27:case 3:_t=!0;return;default:Ke=Ke.return}}function _a(e){if(e!==Ke)return!1;if(!me)return th(e),me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Lo(e.type,e.memoizedProps)),n=!n),n&&Ee&&Wn(e),th(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ee=Hh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ee=Hh(e)}else t===27?(t=Ee,la(e.type)?(e=Io,Io=null,Ee=e):Ee=t):Ee=Ke?zt(e.stateNode.nextSibling):null;return!0}function Na(){Ee=Ke=null,me=!1}function mc(){var e=qn;return e!==null&&(it===null?it=e:it.push.apply(it,e),qn=null),e}function mr(e){qn===null?qn=[e]:qn.push(e)}var ho=nn(null),Ma=null,mn=null;function Dn(e,t,n){Ce(ho,t._currentValue),t._currentValue=n}function xn(e){e._currentValue=ho.current,Ye(ho)}function fo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function mo(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){var i=r.child;l=l.firstContext;e:for(;l!==null;){var c=l;l=r;for(var o=0;o<t.length;o++)if(c.context===t[o]){l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),fo(l.return,n,e),s||(i=null);break e}l=c.next}}else if(r.tag===18){if(i=r.return,i===null)throw Error($(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),fo(i,n,e),i=null}else i=r.child;if(i!==null)i.return=r;else for(i=r;i!==null;){if(i===e){i=null;break}if(r=i.sibling,r!==null){r.return=i.return,i=r;break}i=i.return}r=i}}function vs(e,t,n,s){e=null;for(var r=t,l=!1;r!==null;){if(!l){if(r.flags&524288)l=!0;else if(r.flags&262144)break}if(r.tag===10){var i=r.alternate;if(i===null)throw Error($(387));if(i=i.memoizedProps,i!==null){var c=r.type;jt(r.pendingProps.value,i.value)||(e!==null?e.push(c):e=[c])}}else if(r===Vl.current){if(i=r.alternate,i===null)throw Error($(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(vr):e=[vr])}r=r.return}e!==null&&mo(t,e,n,s),t.flags|=262144}function Gl(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wa(e){Ma=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return Qm(Ma,e)}function el(e,t){return Ma===null&&wa(e),Qm(e,t)}function Qm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},mn===null){if(e===null)throw Error($(308));mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mn=mn.next=t;return n}var Fy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Gy=Fe.unstable_scheduleCallback,Qy=Fe.unstable_NormalPriority,Ie={$$typeof:hn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Su(){return{controller:new Fy,data:new Map,refCount:0}}function _r(e){e.refCount--,e.refCount===0&&Gy(Qy,function(){e.controller.abort()})}var Zs=null,go=0,is=0,Wa=null;function Yy(e,t){if(Zs===null){var n=Zs=[];go=0,is=Pu(),Wa={status:"pending",value:void 0,then:function(s){n.push(s)}}}return go++,t.then(nh,nh),t}function nh(){if(--go===0&&Zs!==null){Wa!==null&&(Wa.status="fulfilled");var e=Zs;Zs=null,is=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xy(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var ah=te.S;te.S=function(e,t){lg=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Yy(e,t),ah!==null&&ah(e,t)};var ya=nn(null);function Cu(){var e=ya.current;return e!==null?e:Se.pooledCache}function yl(e,t){t===null?Ce(ya,ya.current):Ce(ya,t.pool)}function Ym(){var e=Cu();return e===null?null:{parent:Ie._currentValue,pool:e}}var js=Error($(460)),Tu=Error($(474)),Mi=Error($(542)),Ql={then:function(){}};function sh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fn,fn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e;default:if(typeof t.status=="string")t.then(fn,fn);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e}throw ba=t,js}}function ha(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ba=n,js):n}}var ba=null;function rh(){if(ba===null)throw Error($(459));var e=ba;return ba=null,e}function lh(e){if(e===js||e===Mi)throw Error($(483))}var es=null,gr=0;function tl(e){var t=gr;return gr+=1,es===null&&(es=[]),Xm(es,e,t)}function Rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nl(e,t){throw t.$$typeof===Rp?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pm(e){function t(y,u){if(e){var m=y.deletions;m===null?(y.deletions=[u],y.flags|=16):m.push(u)}}function n(y,u){if(!e)return null;for(;u!==null;)t(y,u),u=u.sibling;return null}function s(y){for(var u=new Map;y!==null;)y.key!==null?u.set(y.key,y):u.set(y.index,y),y=y.sibling;return u}function r(y,u){return y=gn(y,u),y.index=0,y.sibling=null,y}function l(y,u,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<u?(y.flags|=67108866,u):m):(y.flags|=67108866,u)):(y.flags|=1048576,u)}function i(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function c(y,u,m,j){return u===null||u.tag!==6?(u=hc(m,y.mode,j),u.return=y,u):(u=r(u,m),u.return=y,u)}function o(y,u,m,j){var N=m.type;return N===Ba?f(y,u,m.props.children,j,m.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===On&&ha(N)===u.type)?(u=r(u,m.props),Rs(u,m),u.return=y,u):(u=pl(m.type,m.key,m.props,null,y.mode,j),Rs(u,m),u.return=y,u)}function d(y,u,m,j){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=fc(m,y.mode,j),u.return=y,u):(u=r(u,m.children||[]),u.return=y,u)}function f(y,u,m,j,N){return u===null||u.tag!==7?(u=pa(m,y.mode,j,N),u.return=y,u):(u=r(u,m),u.return=y,u)}function h(y,u,m){if(typeof u=="string"&&u!==""||typeof u=="number"||typeof u=="bigint")return u=hc(""+u,y.mode,m),u.return=y,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Xr:return m=pl(u.type,u.key,u.props,null,y.mode,m),Rs(m,u),m.return=y,m;case Hs:return u=fc(u,y.mode,m),u.return=y,u;case On:return u=ha(u),h(y,u,m)}if($s(u)||Ds(u))return u=pa(u,y.mode,m,null),u.return=y,u;if(typeof u.then=="function")return h(y,tl(u),m);if(u.$$typeof===hn)return h(y,el(y,u),m);nl(y,u)}return null}function p(y,u,m,j){var N=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return N!==null?null:c(y,u,""+m,j);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xr:return m.key===N?o(y,u,m,j):null;case Hs:return m.key===N?d(y,u,m,j):null;case On:return m=ha(m),p(y,u,m,j)}if($s(m)||Ds(m))return N!==null?null:f(y,u,m,j,null);if(typeof m.then=="function")return p(y,u,tl(m),j);if(m.$$typeof===hn)return p(y,u,el(y,m),j);nl(y,m)}return null}function x(y,u,m,j,N){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return y=y.get(m)||null,c(u,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xr:return y=y.get(j.key===null?m:j.key)||null,o(u,y,j,N);case Hs:return y=y.get(j.key===null?m:j.key)||null,d(u,y,j,N);case On:return j=ha(j),x(y,u,m,j,N)}if($s(j)||Ds(j))return y=y.get(m)||null,f(u,y,j,N,null);if(typeof j.then=="function")return x(y,u,m,tl(j),N);if(j.$$typeof===hn)return x(y,u,m,el(u,j),N);nl(u,j)}return null}function v(y,u,m,j){for(var N=null,O=null,T=u,b=u=0,C=null;T!==null&&b<m.length;b++){T.index>b?(C=T,T=null):C=T.sibling;var E=p(y,T,m[b],j);if(E===null){T===null&&(T=C);break}e&&T&&E.alternate===null&&t(y,T),u=l(E,u,b),O===null?N=E:O.sibling=E,O=E,T=C}if(b===m.length)return n(y,T),me&&un(y,b),N;if(T===null){for(;b<m.length;b++)T=h(y,m[b],j),T!==null&&(u=l(T,u,b),O===null?N=T:O.sibling=T,O=T);return me&&un(y,b),N}for(T=s(T);b<m.length;b++)C=x(T,y,b,m[b],j),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?b:C.key),u=l(C,u,b),O===null?N=C:O.sibling=C,O=C);return e&&T.forEach(function(D){return t(y,D)}),me&&un(y,b),N}function S(y,u,m,j){if(m==null)throw Error($(151));for(var N=null,O=null,T=u,b=u=0,C=null,E=m.next();T!==null&&!E.done;b++,E=m.next()){T.index>b?(C=T,T=null):C=T.sibling;var D=p(y,T,E.value,j);if(D===null){T===null&&(T=C);break}e&&T&&D.alternate===null&&t(y,T),u=l(D,u,b),O===null?N=D:O.sibling=D,O=D,T=C}if(E.done)return n(y,T),me&&un(y,b),N;if(T===null){for(;!E.done;b++,E=m.next())E=h(y,E.value,j),E!==null&&(u=l(E,u,b),O===null?N=E:O.sibling=E,O=E);return me&&un(y,b),N}for(T=s(T);!E.done;b++,E=m.next())E=x(T,y,b,E.value,j),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?b:E.key),u=l(E,u,b),O===null?N=E:O.sibling=E,O=E);return e&&T.forEach(function(M){return t(y,M)}),me&&un(y,b),N}function w(y,u,m,j){if(typeof m=="object"&&m!==null&&m.type===Ba&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Xr:e:{for(var N=m.key;u!==null;){if(u.key===N){if(N=m.type,N===Ba){if(u.tag===7){n(y,u.sibling),j=r(u,m.props.children),j.return=y,y=j;break e}}else if(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===On&&ha(N)===u.type){n(y,u.sibling),j=r(u,m.props),Rs(j,m),j.return=y,y=j;break e}n(y,u);break}else t(y,u);u=u.sibling}m.type===Ba?(j=pa(m.props.children,y.mode,j,m.key),j.return=y,y=j):(j=pl(m.type,m.key,m.props,null,y.mode,j),Rs(j,m),j.return=y,y=j)}return i(y);case Hs:e:{for(N=m.key;u!==null;){if(u.key===N)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){n(y,u.sibling),j=r(u,m.children||[]),j.return=y,y=j;break e}else{n(y,u);break}else t(y,u);u=u.sibling}j=fc(m,y.mode,j),j.return=y,y=j}return i(y);case On:return m=ha(m),w(y,u,m,j)}if($s(m))return v(y,u,m,j);if(Ds(m)){if(N=Ds(m),typeof N!="function")throw Error($(150));return m=N.call(m),S(y,u,m,j)}if(typeof m.then=="function")return w(y,u,tl(m),j);if(m.$$typeof===hn)return w(y,u,el(y,m),j);nl(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint"?(m=""+m,u!==null&&u.tag===6?(n(y,u.sibling),j=r(u,m),j.return=y,y=j):(n(y,u),j=hc(m,y.mode,j),j.return=y,y=j),i(y)):n(y,u)}return function(y,u,m,j){try{gr=0;var N=w(y,u,m,j);return es=null,N}catch(T){if(T===js||T===Mi)throw T;var O=gt(29,T,null,y.mode);return O.lanes=j,O.return=y,O}finally{}}}var Sa=Pm(!0),Km=Pm(!1),kn=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,xe&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=ql(e),Hm(e,null,n),t}return Di(e,s,t,n),ql(e)}function Js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mm(e,n)}}function gc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?r=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?r=l=t:l=l.next=t}else r=l=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var po=!1;function Ws(){if(po){var e=Wa;if(e!==null)throw e}}function er(e,t,n,s){po=!1;var r=e.updateQueue;kn=!1;var l=r.firstBaseUpdate,i=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?l=d:i.next=d,i=o;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==i&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=o))}if(l!==null){var h=r.baseState;i=0,f=d=o=null,c=l;do{var p=c.lane&-536870913,x=p!==c.lane;if(x?(he&p)===p:(s&p)===p){p!==0&&p===is&&(po=!0),f!==null&&(f=f.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var v=e,S=c;p=t;var w=n;switch(S.tag){case 1:if(v=S.payload,typeof v=="function"){h=v.call(w,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,p=typeof v=="function"?v.call(w,h,p):v,p==null)break e;h=Oe({},h,p);break e;case 2:kn=!0}}p=c.callback,p!==null&&(e.flags|=64,x&&(e.flags|=8192),x=r.callbacks,x===null?r.callbacks=[p]:x.push(p))}else x={lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=x,o=h):f=f.next=x,i|=p;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;x=c,c=x.next,x.next=null,r.lastBaseUpdate=x,r.shared.pending=null}}while(!0);f===null&&(o=h),r.baseState=o,r.firstBaseUpdate=d,r.lastBaseUpdate=f,l===null&&(r.shared.lanes=0),ta|=i,e.lanes=i,e.memoizedState=h}}function Zm(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function Jm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Zm(n[e],t)}var cs=nn(null),Yl=nn(0);function ih(e,t){e=Sn,Ce(Yl,e),Ce(cs,t),Sn=e|t.baseLanes}function yo(){Ce(Yl,Sn),Ce(cs,cs.current)}function Au(){Sn=Yl.current,Ye(cs),Ye(Yl)}var Nt=nn(null),Rt=null;function Mn(e){var t=e.alternate;Ce(Le,Le.current&1),Ce(Nt,e),Rt===null&&(t===null||cs.current!==null||t.memoizedState!==null)&&(Rt=e)}function bo(e){Ce(Le,Le.current),Ce(Nt,e),Rt===null&&(Rt=e)}function Wm(e){e.tag===22?(Ce(Le,Le.current),Ce(Nt,e),Rt===null&&(Rt=e)):_n()}function _n(){Ce(Le,Le.current),Ce(Nt,Nt.current)}function mt(e){Ye(Nt),Rt===e&&(Rt=null),Ye(Le)}var Le=nn(0);function Xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Bo(n)||Uo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=0,le=null,we=null,Be=null,Pl=!1,ts=!1,Ca=!1,Kl=0,xr=0,ns=null,Py=0;function _e(){throw Error($(321))}function Ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function ku(e,t,n,s,r,l){return jn=l,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,te.H=e===null||e.memoizedState===null?k0:Hu,Ca=!1,l=n(s,r),Ca=!1,ts&&(l=t0(t,n,s,r)),e0(e),l}function e0(e){te.H=pr;var t=we!==null&&we.next!==null;if(jn=0,Be=we=le=null,Pl=!1,xr=0,ns=null,t)throw Error($(300));e===null||He||(e=e.dependencies,e!==null&&Gl(e)&&(He=!0))}function t0(e,t,n,s){le=e;var r=0;do{if(ts&&(ns=null),xr=0,ts=!1,25<=r)throw Error($(301));if(r+=1,Be=we=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}te.H=D0,l=t(n,s)}while(ts);return l}function Ky(){var e=te.H,t=e.useState()[0];return t=typeof t.then=="function"?Rr(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(le.flags|=1024),t}function Du(){var e=Kl!==0;return Kl=0,e}function Mu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _u(e){if(Pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pl=!1}jn=0,Be=we=le=null,ts=!1,xr=Kl=0,ns=null}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?le.memoizedState=Be=e:Be=Be.next=e,Be}function Ve(){if(we===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Be===null?le.memoizedState:Be.next;if(t!==null)Be=t,we=e;else{if(e===null)throw le.alternate===null?Error($(467)):Error($(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Be===null?le.memoizedState=Be=e:Be=Be.next=e}return Be}function _i(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rr(e){var t=xr;return xr+=1,ns===null&&(ns=[]),e=Xm(ns,e,t),t=le,(Be===null?t.memoizedState:Be.next)===null&&(t=t.alternate,te.H=t===null||t.memoizedState===null?k0:Hu),e}function Ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Rr(e);if(e.$$typeof===hn)return Ze(e)}throw Error($(438,String(e)))}function Ru(e){var t=null,n=le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=le.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=_i(),le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=zp;return t.index++,n}function Nn(e,t){return typeof t=="function"?t(e):t}function bl(e){var t=Ve();return zu(t,we,e)}function zu(e,t,n){var s=e.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=n;var r=e.baseQueue,l=s.pending;if(l!==null){if(r!==null){var i=r.next;r.next=l.next,l.next=i}t.baseQueue=r=l,s.pending=null}if(l=e.baseState,r===null)e.memoizedState=l;else{t=r.next;var c=i=null,o=null,d=t,f=!1;do{var h=d.lane&-536870913;if(h!==d.lane?(he&h)===h:(jn&h)===h){var p=d.revertLane;if(p===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===is&&(f=!0);else if((jn&p)===p){d=d.next,p===is&&(f=!0);continue}else h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=h,i=l):o=o.next=h,le.lanes|=p,ta|=p;h=d.action,Ca&&n(l,h),l=d.hasEagerState?d.eagerState:n(l,h)}else p={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=p,i=l):o=o.next=p,le.lanes|=h,ta|=h;d=d.next}while(d!==null&&d!==t);if(o===null?i=l:o.next=c,!jt(l,e.memoizedState)&&(He=!0,f&&(n=Wa,n!==null)))throw n;e.memoizedState=l,e.baseState=i,e.baseQueue=o,s.lastRenderedState=l}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function xc(e){var t=Ve(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,l=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do l=e(l,i.action),i=i.next;while(i!==r);jt(l,t.memoizedState)||(He=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function n0(e,t,n){var s=le,r=Ve(),l=me;if(l){if(n===void 0)throw Error($(407));n=n()}else n=t();var i=!jt((we||r).memoizedState,n);if(i&&(r.memoizedState=n,He=!0),r=r.queue,Lu(r0.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(s.flags|=2048,os(9,{destroy:void 0},s0.bind(null,s,r,n,t),null),Se===null)throw Error($(349));l||jn&127||a0(s,t,n)}return n}function a0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t=_i(),le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function s0(e,t,n,s){t.value=n,t.getSnapshot=s,l0(t)&&i0(e)}function r0(e,t,n){return n(function(){l0(t)&&i0(e)})}function l0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function i0(e){var t=Da(e,2);t!==null&&ct(t,e,2)}function vo(e){var t=et();if(typeof e=="function"){var n=e;if(e=n(),Ca){zn(!0);try{n()}finally{zn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function c0(e,t,n,s){return e.baseState=n,zu(e,we,typeof s=="function"?s:Nn)}function Zy(e,t,n,s,r){if(Li(e))throw Error($(485));if(e=t.action,e!==null){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){l.listeners.push(i)}};te.T!==null?n(!0):l.isTransition=!1,s(l),n=t.pending,n===null?(l.next=t.pending=l,o0(t,l)):(l.next=n.next,t.pending=n.next=l)}}function o0(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var l=te.T,i={};te.T=i;try{var c=n(r,s),o=te.S;o!==null&&o(i,c),ch(e,t,c)}catch(d){jo(e,t,d)}finally{l!==null&&i.types!==null&&(l.types=i.types),te.T=l}}else try{l=n(r,s),ch(e,t,l)}catch(d){jo(e,t,d)}}function ch(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){oh(e,t,s)},function(s){return jo(e,t,s)}):oh(e,t,n)}function oh(e,t,n){t.status="fulfilled",t.value=n,u0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,o0(e,n)))}function jo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,u0(t),t=t.next;while(t!==s)}e.action=null}function u0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function d0(e,t){return t}function uh(e,t){if(me){var n=Se.formState;if(n!==null){e:{var s=le;if(me){if(Ee){t:{for(var r=Ee,l=_t;r.nodeType!==8;){if(!l){r=null;break t}if(r=zt(r.nextSibling),r===null){r=null;break t}}l=r.data,r=l==="F!"||l==="F"?r:null}if(r){Ee=zt(r.nextSibling),s=r.data==="F!";break e}}Wn(s)}s=!1}s&&(t=n[0])}}return n=et(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:t},n.queue=s,n=E0.bind(null,le,s),s.dispatch=n,s=vo(!1),l=Iu.bind(null,le,!1,s.queue),s=et(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=Zy.bind(null,le,r,l,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function dh(e){var t=Ve();return h0(t,we,e)}function h0(e,t,n){if(t=zu(e,t,d0)[0],e=bl(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Rr(t)}catch(i){throw i===js?Mi:i}else s=t;t=Ve();var r=t.queue,l=r.dispatch;return n!==t.memoizedState&&(le.flags|=2048,os(9,{destroy:void 0},Jy.bind(null,r,n),null)),[s,l,e]}function Jy(e,t){e.action=t}function hh(e){var t=Ve(),n=we;if(n!==null)return h0(t,n,e);Ve(),t=t.memoizedState,n=Ve();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function os(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=le.updateQueue,t===null&&(t=_i(),le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function f0(){return Ve().memoizedState}function vl(e,t,n,s){var r=et();le.flags|=e,r.memoizedState=os(1|t,{destroy:void 0},n,s===void 0?null:s)}function zi(e,t,n,s){var r=Ve();s=s===void 0?null:s;var l=r.memoizedState.inst;we!==null&&s!==null&&Ou(s,we.memoizedState.deps)?r.memoizedState=os(t,l,n,s):(le.flags|=e,r.memoizedState=os(1|t,l,n,s))}function fh(e,t){vl(8390656,8,e,t)}function Lu(e,t){zi(2048,8,e,t)}function Wy(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=_i(),le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function m0(e){var t=Ve().memoizedState;return Wy({ref:t,nextImpl:e}),function(){if(xe&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function g0(e,t){return zi(4,2,e,t)}function x0(e,t){return zi(4,4,e,t)}function p0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y0(e,t,n){n=n!=null?n.concat([e]):null,zi(4,4,p0.bind(null,t,e),n)}function Vu(){}function b0(e,t){var n=Ve();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Ou(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function v0(e,t){var n=Ve();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Ou(t,s[1]))return s[0];if(s=e(),Ca){zn(!0);try{e()}finally{zn(!1)}}return n.memoizedState=[s,t],s}function Bu(e,t,n){return n===void 0||jn&1073741824&&!(he&261930)?e.memoizedState=t:(e.memoizedState=n,e=cg(),le.lanes|=e,ta|=e,n)}function j0(e,t,n,s){return jt(n,t)?n:cs.current!==null?(e=Bu(e,n,s),jt(e,t)||(He=!0),e):!(jn&42)||jn&1073741824&&!(he&261930)?(He=!0,e.memoizedState=n):(e=cg(),le.lanes|=e,ta|=e,t)}function N0(e,t,n,s,r){var l=ye.p;ye.p=l!==0&&8>l?l:8;var i=te.T,c={};te.T=c,Iu(e,!1,t,n);try{var o=r(),d=te.S;if(d!==null&&d(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=Xy(o,s);tr(e,t,f,vt(e))}else tr(e,t,s,vt(e))}catch(h){tr(e,t,{then:function(){},status:"rejected",reason:h},vt())}finally{ye.p=l,i!==null&&c.types!==null&&(i.types=c.types),te.T=i}}function eb(){}function No(e,t,n,s){if(e.tag!==5)throw Error($(476));var r=w0(e).queue;N0(e,r,t,xa,n===null?eb:function(){return S0(e),n(s)})}function w0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xa,baseState:xa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:xa},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function S0(e){var t=w0(e);t.next===null&&(t=e.alternate.memoizedState),tr(e,t.next.queue,{},vt())}function Uu(){return Ze(vr)}function C0(){return Ve().memoizedState}function T0(){return Ve().memoizedState}function tb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=vt();e=Fn(n);var s=Gn(t,e,n);s!==null&&(ct(s,t,n),Js(s,t,n)),t={cache:Su()},e.payload=t;return}t=t.return}}function nb(e,t,n){var s=vt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Li(e)?A0(t,n):(n=vu(e,t,n,s),n!==null&&(ct(n,e,s),O0(n,t,s)))}function E0(e,t,n){var s=vt();tr(e,t,n,s)}function tr(e,t,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Li(e))A0(t,r);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,c=l(i,n);if(r.hasEagerState=!0,r.eagerState=c,jt(c,i))return Di(e,t,r,0),Se===null&&ki(),!1}catch{}finally{}if(n=vu(e,t,r,s),n!==null)return ct(n,e,s),O0(n,t,s),!0}return!1}function Iu(e,t,n,s){if(s={lane:2,revertLane:Pu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Li(e)){if(t)throw Error($(479))}else t=vu(e,n,s,2),t!==null&&ct(t,e,2)}function Li(e){var t=e.alternate;return e===le||t!==null&&t===le}function A0(e,t){ts=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function O0(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mm(e,n)}}var pr={readContext:Ze,use:Ri,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};pr.useEffectEvent=_e;var k0={readContext:Ze,use:Ri,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:fh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vl(4194308,4,p0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vl(4194308,4,e,t)},useInsertionEffect:function(e,t){vl(4,2,e,t)},useMemo:function(e,t){var n=et();t=t===void 0?null:t;var s=e();if(Ca){zn(!0);try{e()}finally{zn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=et();if(n!==void 0){var r=n(t);if(Ca){zn(!0);try{n(t)}finally{zn(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=nb.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:function(e){e=vo(e);var t=e.queue,n=E0.bind(null,le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Vu,useDeferredValue:function(e,t){var n=et();return Bu(n,e,t)},useTransition:function(){var e=vo(!1);return e=N0.bind(null,le,e.queue,!0,!1),et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=le,r=et();if(me){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Se===null)throw Error($(349));he&127||a0(s,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,fh(r0.bind(null,s,l,e),[e]),s.flags|=2048,os(9,{destroy:void 0},s0.bind(null,s,l,n,t),null),n},useId:function(){var e=et(),t=Se.identifierPrefix;if(me){var n=Zt,s=Kt;n=(s&~(1<<32-bt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Kl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Py++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uu,useFormState:uh,useActionState:uh,useOptimistic:function(e){var t=et();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Iu.bind(null,le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ru,useCacheRefresh:function(){return et().memoizedState=tb.bind(null,le)},useEffectEvent:function(e){var t=et(),n={impl:e};return t.memoizedState=n,function(){if(xe&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},Hu={readContext:Ze,use:Ri,useCallback:b0,useContext:Ze,useEffect:Lu,useImperativeHandle:y0,useInsertionEffect:g0,useLayoutEffect:x0,useMemo:v0,useReducer:bl,useRef:f0,useState:function(){return bl(Nn)},useDebugValue:Vu,useDeferredValue:function(e,t){var n=Ve();return j0(n,we.memoizedState,e,t)},useTransition:function(){var e=bl(Nn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Rr(e),t]},useSyncExternalStore:n0,useId:C0,useHostTransitionStatus:Uu,useFormState:dh,useActionState:dh,useOptimistic:function(e,t){var n=Ve();return c0(n,we,e,t)},useMemoCache:Ru,useCacheRefresh:T0};Hu.useEffectEvent=m0;var D0={readContext:Ze,use:Ri,useCallback:b0,useContext:Ze,useEffect:Lu,useImperativeHandle:y0,useInsertionEffect:g0,useLayoutEffect:x0,useMemo:v0,useReducer:xc,useRef:f0,useState:function(){return xc(Nn)},useDebugValue:Vu,useDeferredValue:function(e,t){var n=Ve();return we===null?Bu(n,e,t):j0(n,we.memoizedState,e,t)},useTransition:function(){var e=xc(Nn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Rr(e),t]},useSyncExternalStore:n0,useId:C0,useHostTransitionStatus:Uu,useFormState:hh,useActionState:hh,useOptimistic:function(e,t){var n=Ve();return we!==null?c0(n,we,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:T0};D0.useEffectEvent=m0;function pc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wo={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=vt(),r=Fn(s);r.payload=t,n!=null&&(r.callback=n),t=Gn(e,r,s),t!==null&&(ct(t,e,s),Js(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=vt(),r=Fn(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Gn(e,r,s),t!==null&&(ct(t,e,s),Js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),s=Fn(n);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,n),t!==null&&(ct(t,e,n),Js(t,e,n))}};function mh(e,t,n,s,r,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!hr(n,s)||!hr(r,l):!0}function gh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function Ta(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=Oe({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function M0(e){$l(e)}function _0(e){console.error(e)}function R0(e){$l(e)}function Zl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return n=Fn(n),n.tag=3,n.payload={element:null},n.callback=function(){Zl(e,t)},n}function z0(e){return e=Fn(e),e.tag=3,e}function L0(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var l=s.value;e.payload=function(){return r(l)},e.callback=function(){xh(t,n,s)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){xh(t,n,s),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function ab(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&vs(t,n,r,!0),n=Nt.current,n!==null){switch(n.tag){case 31:case 13:return Rt===null?ni():n.alternate===null&&Re===0&&(Re=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Ql?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Ac(e,s,r)),!1;case 22:return n.flags|=65536,s===Ql?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Ac(e,s,r)),!1}throw Error($(435,n.tag))}return Ac(e,s,r),ni(),!1}if(me)return t=Nt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==uo&&(e=Error($(422),{cause:s}),mr(Mt(e,n)))):(s!==uo&&(t=Error($(423),{cause:s}),mr(Mt(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Mt(s,n),r=So(e.stateNode,s,r),gc(e,r),Re!==4&&(Re=2)),!1;var l=Error($(520),{cause:s});if(l=Mt(l,n),sr===null?sr=[l]:sr.push(l),Re!==4&&(Re=2),t===null)return!0;s=Mt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=So(n.stateNode,s,e),gc(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Qn===null||!Qn.has(l))))return n.flags|=65536,r&=-r,n.lanes|=r,r=z0(r),L0(r,e,n,s),gc(n,r),!1}n=n.return}while(n!==null);return!1}var $u=Error($(461)),He=!1;function Xe(e,t,n,s){t.child=e===null?Km(t,null,n,s):Sa(t,e.child,n,s)}function ph(e,t,n,s,r){n=n.render;var l=t.ref;if("ref"in s){var i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}else i=s;return wa(t),s=ku(e,t,n,i,l,r),c=Du(),e!==null&&!He?(Mu(e,t,r),wn(e,t,r)):(me&&c&&Nu(t),t.flags|=1,Xe(e,t,s,r),t.child)}function yh(e,t,n,s,r){if(e===null){var l=n.type;return typeof l=="function"&&!ju(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,V0(e,t,l,s,r)):(e=pl(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!qu(e,r)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:hr,n(i,s)&&e.ref===t.ref)return wn(e,t,r)}return t.flags|=1,e=gn(l,s),e.ref=t.ref,e.return=t,t.child=e}function V0(e,t,n,s,r){if(e!==null){var l=e.memoizedProps;if(hr(l,s)&&e.ref===t.ref)if(He=!1,t.pendingProps=s=l,qu(e,r))e.flags&131072&&(He=!0);else return t.lanes=e.lanes,wn(e,t,r)}return Co(e,t,n,s,r)}function B0(e,t,n,s){var r=s.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(t.flags&128){if(l=l!==null?l.baseLanes|n:n,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~l}else s=0,t.child=null;return bh(e,t,l,n,s)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yl(t,l!==null?l.cachePool:null),l!==null?ih(t,l):yo(),Wm(t);else return s=t.lanes=536870912,bh(e,t,l!==null?l.baseLanes|n:n,n,s)}else l!==null?(yl(t,l.cachePool),ih(t,l),_n(),t.memoizedState=null):(e!==null&&yl(t,null),yo(),_n());return Xe(e,t,r,n),t.child}function Fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bh(e,t,n,s,r){var l=Cu();return l=l===null?null:{parent:Ie._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&yl(t,null),yo(),Wm(t),e!==null&&vs(e,t,s,!0),t.childLanes=r,null}function jl(e,t){return t=Jl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vh(e,t,n){return Sa(t,e.child,null,n),e=jl(t,t.pendingProps),e.flags|=2,mt(t),t.memoizedState=null,e}function sb(e,t,n){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(s.mode==="hidden")return e=jl(t,s),t.lanes=536870912,Fs(null,e);if(bo(t),(e=Ee)?(e=kg(e,_t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:Kt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=qm(e),n.return=t,t.child=n,Ke=t,Ee=null)):e=null,e===null)throw Wn(t);return t.lanes=536870912,null}return jl(t,s)}var l=e.memoizedState;if(l!==null){var i=l.dehydrated;if(bo(t),r)if(t.flags&256)t.flags&=-257,t=vh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(He||vs(e,t,n,!1),r=(n&e.childLanes)!==0,He||r){if(s=Se,s!==null&&(i=gm(s,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,Da(e,i),ct(s,e,i),$u;ni(),t=vh(e,t,n)}else e=l.treeContext,Ee=zt(i.nextSibling),Ke=t,me=!0,qn=null,_t=!1,e!==null&&Gm(t,e),t=jl(t,s),t.flags|=4096;return t}return e=gn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Nl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Co(e,t,n,s,r){return wa(t),n=ku(e,t,n,s,void 0,r),s=Du(),e!==null&&!He?(Mu(e,t,r),wn(e,t,r)):(me&&s&&Nu(t),t.flags|=1,Xe(e,t,n,r),t.child)}function jh(e,t,n,s,r,l){return wa(t),t.updateQueue=null,n=t0(t,s,n,r),e0(e),s=Du(),e!==null&&!He?(Mu(e,t,l),wn(e,t,l)):(me&&s&&Nu(t),t.flags|=1,Xe(e,t,n,l),t.child)}function Nh(e,t,n,s,r){if(wa(t),t.stateNode===null){var l=Qa,i=n.contextType;typeof i=="object"&&i!==null&&(l=Ze(i)),l=new n(s,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=wo,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=s,l.state=t.memoizedState,l.refs={},Eu(t),i=n.contextType,l.context=typeof i=="object"&&i!==null?Ze(i):Qa,l.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(pc(t,n,i,s),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(i=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),i!==l.state&&wo.enqueueReplaceState(l,l.state,null),er(t,s,l,r),Ws(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){l=t.stateNode;var c=t.memoizedProps,o=Ta(n,c);l.props=o;var d=l.context,f=n.contextType;i=Qa,typeof f=="object"&&f!==null&&(i=Ze(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c||d!==i)&&gh(t,l,s,i),kn=!1;var p=t.memoizedState;l.state=p,er(t,s,l,r),Ws(),d=t.memoizedState,c||p!==d||kn?(typeof h=="function"&&(pc(t,n,h,s),d=t.memoizedState),(o=kn||mh(t,n,o,s,p,d,i))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),l.props=s,l.state=d,l.context=i,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,xo(e,t),i=t.memoizedProps,f=Ta(n,i),l.props=f,h=t.pendingProps,p=l.context,d=n.contextType,o=Qa,typeof d=="object"&&d!==null&&(o=Ze(d)),c=n.getDerivedStateFromProps,(d=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==h||p!==o)&&gh(t,l,s,o),kn=!1,p=t.memoizedState,l.state=p,er(t,s,l,r),Ws();var x=t.memoizedState;i!==h||p!==x||kn||e!==null&&e.dependencies!==null&&Gl(e.dependencies)?(typeof c=="function"&&(pc(t,n,c,s),x=t.memoizedState),(f=kn||mh(t,n,f,s,p,x,o)||e!==null&&e.dependencies!==null&&Gl(e.dependencies))?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,x,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,x,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),l.props=s,l.state=x,l.context=o,s=f):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return l=s,Nl(e,t),s=(t.flags&128)!==0,l||s?(l=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&s?(t.child=Sa(t,e.child,null,r),t.child=Sa(t,null,n,r)):Xe(e,t,n,r),t.memoizedState=l.state,e=t.child):e=wn(e,t,r),e}function wh(e,t,n,s){return Na(),t.flags|=256,Xe(e,t,n,s),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:Ym()}}function vc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=xt),e}function U0(e,t,n){var s=t.pendingProps,r=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),i&&(r=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(r?Mn(t):_n(),(e=Ee)?(e=kg(e,_t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:Kt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=qm(e),n.return=t,t.child=n,Ke=t,Ee=null)):e=null,e===null)throw Wn(t);return Uo(e)?t.lanes=32:t.lanes=536870912,null}var c=s.children;return s=s.fallback,r?(_n(),r=t.mode,c=Jl({mode:"hidden",children:c},r),s=pa(s,r,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,s=t.child,s.memoizedState=bc(n),s.childLanes=vc(e,i,n),t.memoizedState=yc,Fs(null,s)):(Mn(t),To(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(l)t.flags&256?(Mn(t),t.flags&=-257,t=jc(e,t,n)):t.memoizedState!==null?(_n(),t.child=e.child,t.flags|=128,t=null):(_n(),c=s.fallback,r=t.mode,s=Jl({mode:"visible",children:s.children},r),c=pa(c,r,n,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,Sa(t,e.child,null,n),s=t.child,s.memoizedState=bc(n),s.childLanes=vc(e,i,n),t.memoizedState=yc,t=Fs(null,s));else if(Mn(t),Uo(c)){if(i=c.nextSibling&&c.nextSibling.dataset,i)var d=i.dgst;i=d,s=Error($(419)),s.stack="",s.digest=i,mr({value:s,source:null,stack:null}),t=jc(e,t,n)}else if(He||vs(e,t,n,!1),i=(n&e.childLanes)!==0,He||i){if(i=Se,i!==null&&(s=gm(i,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Da(e,s),ct(i,e,s),$u;Bo(c)||ni(),t=jc(e,t,n)}else Bo(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Ee=zt(c.nextSibling),Ke=t,me=!0,qn=null,_t=!1,e!==null&&Gm(t,e),t=To(t,s.children),t.flags|=4096);return t}return r?(_n(),c=s.fallback,r=t.mode,o=e.child,d=o.sibling,s=gn(o,{mode:"hidden",children:s.children}),s.subtreeFlags=o.subtreeFlags&65011712,d!==null?c=gn(d,c):(c=pa(c,r,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,Fs(null,s),s=t.child,c=e.child.memoizedState,c===null?c=bc(n):(r=c.cachePool,r!==null?(o=Ie._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=Ym(),c={baseLanes:c.baseLanes|n,cachePool:r}),s.memoizedState=c,s.childLanes=vc(e,i,n),t.memoizedState=yc,Fs(e.child,s)):(Mn(t),n=e.child,e=n.sibling,n=gn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function To(e,t){return t=Jl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jl(e,t){return e=gt(22,e,null,t),e.lanes=0,e}function jc(e,t,n){return Sa(t,e.child,null,n),e=To(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),fo(e.return,t,n)}function Nc(e,t,n,s,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r,i.treeForkCount=l)}function I0(e,t,n){var s=t.pendingProps,r=s.revealOrder,l=s.tail;s=s.children;var i=Le.current,c=(i&2)!==0;if(c?(i=i&1|2,t.flags|=128):i&=1,Ce(Le,i),Xe(e,t,s,n),s=me?fr:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sh(e,n,t);else if(e.tag===19)Sh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Xl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Nc(t,!1,r,n,l,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Xl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Nc(t,!0,n,null,l,s);break;case"together":Nc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,!(n&t.childLanes))if(e!==null){if(vs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Gl(e)))}function rb(e,t,n){switch(t.tag){case 3:Bl(t,t.stateNode.containerInfo),Dn(t,Ie,e.memoizedState.cache),Na();break;case 27:case 5:Wc(t);break;case 4:Bl(t,t.stateNode.containerInfo);break;case 10:Dn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Mn(t),t.flags|=128,null):n&t.child.childLanes?U0(e,t,n):(Mn(t),e=wn(e,t,n),e!==null?e.sibling:null);Mn(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(vs(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return I0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ce(Le,Le.current),s)break;return null;case 22:return t.lanes=0,B0(e,t,n,t.pendingProps);case 24:Dn(t,Ie,e.memoizedState.cache)}return wn(e,t,n)}function H0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)He=!0;else{if(!qu(e,n)&&!(t.flags&128))return He=!1,rb(e,t,n);He=!!(e.flags&131072)}else He=!1,me&&t.flags&1048576&&Fm(t,fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ha(t.elementType),t.type=e,typeof e=="function")ju(e)?(s=Ta(e,s),t.tag=1,t=Nh(null,t,e,s,n)):(t.tag=0,t=Co(null,t,e,s,n));else{if(e!=null){var r=e.$$typeof;if(r===iu){t.tag=11,t=ph(null,t,e,s,n);break e}else if(r===cu){t.tag=14,t=yh(null,t,e,s,n);break e}}throw t=Zc(e)||e,Error($(306,t,""))}}return t;case 0:return Co(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=Ta(s,t.pendingProps),Nh(e,t,s,r,n);case 3:e:{if(Bl(t,t.stateNode.containerInfo),e===null)throw Error($(387));s=t.pendingProps;var l=t.memoizedState;r=l.element,xo(e,t),er(t,s,null,n);var i=t.memoizedState;if(s=i.cache,Dn(t,Ie,s),s!==l.cache&&mo(t,[Ie],n,!0),Ws(),s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=wh(e,t,s,n);break e}else if(s!==r){r=Mt(Error($(424)),t),mr(r),t=wh(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ee=zt(e.firstChild),Ke=t,me=!0,qn=null,_t=!0,n=Km(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Na(),s===r){t=wn(e,t,n);break e}Xe(e,t,s,n)}t=t.child}return t;case 26:return Nl(e,t),e===null?(n=Fh(t.type,null,t.pendingProps,null))?t.memoizedState=n:me||(n=t.type,e=t.pendingProps,s=li($n.current).createElement(n),s[Pe]=t,s[dt]=e,Je(s,n,e),Qe(s),t.stateNode=s):t.memoizedState=Fh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wc(t),e===null&&me&&(s=t.stateNode=Dg(t.type,t.pendingProps,$n.current),Ke=t,_t=!0,r=Ee,la(t.type)?(Io=r,Ee=zt(s.firstChild)):Ee=r),Xe(e,t,t.pendingProps.children,n),Nl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((r=s=Ee)&&(s=zb(s,t.type,t.pendingProps,_t),s!==null?(t.stateNode=s,Ke=t,Ee=zt(s.firstChild),_t=!1,r=!0):r=!1),r||Wn(t)),Wc(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,s=l.children,Lo(r,l)?s=null:i!==null&&Lo(r,i)&&(t.flags|=32),t.memoizedState!==null&&(r=ku(e,t,Ky,null,null,n),vr._currentValue=r),Nl(e,t),Xe(e,t,s,n),t.child;case 6:return e===null&&me&&((e=n=Ee)&&(n=Lb(n,t.pendingProps,_t),n!==null?(t.stateNode=n,Ke=t,Ee=null,e=!0):e=!1),e||Wn(t)),null;case 13:return U0(e,t,n);case 4:return Bl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Sa(t,null,s,n):Xe(e,t,s,n),t.child;case 11:return ph(e,t,t.type,t.pendingProps,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Dn(t,t.type,s.value),Xe(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,wa(t),r=Ze(r),s=s(r),t.flags|=1,Xe(e,t,s,n),t.child;case 14:return yh(e,t,t.type,t.pendingProps,n);case 15:return V0(e,t,t.type,t.pendingProps,n);case 19:return I0(e,t,n);case 31:return sb(e,t,n);case 22:return B0(e,t,n,t.pendingProps);case 24:return wa(t),s=Ze(Ie),e===null?(r=Cu(),r===null&&(r=Se,l=Su(),r.pooledCache=l,l.refCount++,l!==null&&(r.pooledCacheLanes|=n),r=l),t.memoizedState={parent:s,cache:r},Eu(t),Dn(t,Ie,r)):(e.lanes&n&&(xo(e,t),er(t,null,null,n),Ws()),r=e.memoizedState,l=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Dn(t,Ie,s)):(s=l.cache,Dn(t,Ie,s),s!==r.cache&&mo(t,[Ie],n,!0))),Xe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function rn(e){e.flags|=4}function wc(e,t,n,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(dg())e.flags|=8192;else throw ba=Ql,Tu}else e.flags&=-16777217}function Ch(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Rg(t))if(dg())e.flags|=8192;else throw ba=Ql,Tu}function al(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hm():536870912,e.lanes|=t,us|=t)}function zs(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function lb(e,t,n){var s=t.pendingProps;switch(wu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Te(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),xn(Ie),ss(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_a(t)?rn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mc())),Te(t),null;case 26:var r=t.type,l=t.memoizedState;return e===null?(rn(t),l!==null?(Te(t),Ch(t,l)):(Te(t),wc(t,r,null,s,n))):l?l!==e.memoizedState?(rn(t),Te(t),Ch(t,l)):(Te(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&rn(t),Te(t),wc(t,r,e,s,n)),null;case 27:if(Ul(t),n=$n.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&rn(t);else{if(!s){if(t.stateNode===null)throw Error($(166));return Te(t),null}e=Wt.current,_a(t)?eh(t):(e=Dg(r,s,n),t.stateNode=e,rn(t))}return Te(t),null;case 5:if(Ul(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&rn(t);else{if(!s){if(t.stateNode===null)throw Error($(166));return Te(t),null}if(l=Wt.current,_a(t))eh(t);else{var i=li($n.current);switch(l){case 1:l=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:l=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":l=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":l=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":l=i.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?l.multiple=!0:s.size&&(l.size=s.size);break;default:l=typeof s.is=="string"?i.createElement(r,{is:s.is}):i.createElement(r)}}l[Pe]=t,l[dt]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)l.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=l;e:switch(Je(l,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&rn(t)}}return Te(t),wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&rn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(e=$n.current,_a(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=Ke,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Eg(e.nodeValue,n)),e||Wn(t,!0)}else e=li(e).createTextNode(s),e[Pe]=t,t.stateNode=e}return Te(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=_a(t),n!==null){if(e===null){if(!s)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[Pe]=t}else Na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),e=!1}else n=mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(mt(t),t):(mt(t),null);if(t.flags&128)throw Error($(558))}return Te(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=_a(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error($(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error($(317));r[Pe]=t}else Na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),r=!1}else r=mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(mt(t),t):(mt(t),null)}return mt(t),t.flags&128?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),al(t,t.updateQueue),Te(t),null);case 4:return ss(),e===null&&Ku(t.stateNode.containerInfo),Te(t),null;case 10:return xn(t.type),Te(t),null;case 19:if(Ye(Le),s=t.memoizedState,s===null)return Te(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)zs(s,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Xl(e),l!==null){for(t.flags|=128,zs(s,!1),e=l.updateQueue,t.updateQueue=e,al(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)$m(n,e),n=n.sibling;return Ce(Le,Le.current&1|2),me&&un(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&pt()>ei&&(t.flags|=128,r=!0,zs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Xl(l),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,al(t,e),zs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!me)return Te(t),null}else 2*pt()-s.renderingStartTime>ei&&n!==536870912&&(t.flags|=128,r=!0,zs(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(e=s.last,e!==null?e.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=Le.current,Ce(Le,r?n&1|2:n&1),me&&un(t,s.treeForkCount),e):(Te(t),null);case 22:case 23:return mt(t),Au(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),n=t.updateQueue,n!==null&&al(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Ye(ya),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xn(Ie),Te(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function ib(e,t){switch(wu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(Ie),ss(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ul(t),null;case 31:if(t.memoizedState!==null){if(mt(t),t.alternate===null)throw Error($(340));Na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(Le),null;case 4:return ss(),null;case 10:return xn(t.type),null;case 22:case 23:return mt(t),Au(),e!==null&&Ye(ya),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(Ie),null;case 25:return null;default:return null}}function $0(e,t){switch(wu(t),t.tag){case 3:xn(Ie),ss();break;case 26:case 27:case 5:Ul(t);break;case 4:ss();break;case 31:t.memoizedState!==null&&mt(t);break;case 13:mt(t);break;case 19:Ye(Le);break;case 10:xn(t.type);break;case 22:case 23:mt(t),Au(),e!==null&&Ye(ya);break;case 24:xn(Ie)}}function zr(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var l=n.create,i=n.inst;s=l(),i.destroy=s}n=n.next}while(n!==r)}}catch(c){je(t,t.return,c)}}function ea(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var l=r.next;s=l;do{if((s.tag&e)===e){var i=s.inst,c=i.destroy;if(c!==void 0){i.destroy=void 0,r=t;var o=n,d=c;try{d()}catch(f){je(r,o,f)}}}s=s.next}while(s!==l)}}catch(f){je(t,t.return,f)}}function q0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Jm(t,n)}catch(s){je(e,e.return,s)}}}function F0(e,t,n){n.props=Ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){je(e,t,s)}}function nr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){je(e,t,r)}}function Jt(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){je(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function G0(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){je(e,e.return,r)}}function Sc(e,t,n){try{var s=e.stateNode;Ob(s,e.type,n,t),s[dt]=t}catch(r){je(e,e.return,r)}}function Q0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&la(e.type)||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Q0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&la(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fn));else if(s!==4&&(s===27&&la(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Eo(e,t,n),e=e.sibling;e!==null;)Eo(e,t,n),e=e.sibling}function Wl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&la(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wl(e,t,n),e=e.sibling;e!==null;)Wl(e,t,n),e=e.sibling}function Y0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Je(t,s,n),t[Pe]=e,t[dt]=n}catch(l){je(e,e.return,l)}}var dn=!1,Ue=!1,Tc=!1,Th=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function cb(e,t){if(e=e.containerInfo,Ro=ui,e=Rm(e),yu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,d=0,f=0,h=e,p=null;t:for(;;){for(var x;h!==n||r!==0&&h.nodeType!==3||(c=i+r),h!==l||s!==0&&h.nodeType!==3||(o=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(x=h.firstChild)!==null;)p=h,h=x;for(;;){if(h===e)break t;if(p===n&&++d===r&&(c=i),p===l&&++f===s&&(o=i),(x=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=x}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(zo={focusedElem:e,selectionRange:n},ui=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,l=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,n=t,r=l.memoizedProps,l=l.memoizedState,s=n.stateNode;try{var v=Ta(n.type,r);e=s.getSnapshotBeforeUpdate(v,l),s.__reactInternalSnapshotBeforeUpdate=e}catch(S){je(n,n.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vo(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function X0(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n),s&4&&zr(5,n);break;case 1:if(cn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(i){je(n,n.return,i)}else{var r=Ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){je(n,n.return,i)}}s&64&&q0(n),s&512&&nr(n,n.return);break;case 3:if(cn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Jm(e,t)}catch(i){je(n,n.return,i)}}break;case 27:t===null&&s&4&&Y0(n);case 26:case 5:cn(e,n),t===null&&s&4&&G0(n),s&512&&nr(n,n.return);break;case 12:cn(e,n);break;case 31:cn(e,n),s&4&&Z0(e,n);break;case 13:cn(e,n),s&4&&J0(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=pb.bind(null,n),Vb(e,n))));break;case 22:if(s=n.memoizedState!==null||dn,!s){t=t!==null&&t.memoizedState!==null||Ue,r=dn;var l=Ue;dn=s,(Ue=t)&&!l?on(e,n,(n.subtreeFlags&8772)!==0):cn(e,n),dn=r,Ue=l}break;case 30:break;default:cn(e,n)}}function P0(e){var t=e.alternate;t!==null&&(e.alternate=null,P0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,lt=!1;function ln(e,t,n){for(n=n.child;n!==null;)K0(e,t,n),n=n.sibling}function K0(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ar,n)}catch{}switch(n.tag){case 26:Ue||Jt(n,t),ln(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ue||Jt(n,t);var s=ke,r=lt;la(n.type)&&(ke=n.stateNode,lt=!1),ln(e,t,n),lr(n.stateNode),ke=s,lt=r;break;case 5:Ue||Jt(n,t);case 6:if(s=ke,r=lt,ke=null,ln(e,t,n),ke=s,lt=r,ke!==null)if(lt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(l){je(n,t,l)}else try{ke.removeChild(n.stateNode)}catch(l){je(n,t,l)}break;case 18:ke!==null&&(lt?(e=ke,Uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ms(e)):Uh(ke,n.stateNode));break;case 4:s=ke,r=lt,ke=n.stateNode.containerInfo,lt=!0,ln(e,t,n),ke=s,lt=r;break;case 0:case 11:case 14:case 15:ea(2,n,t),Ue||ea(4,n,t),ln(e,t,n);break;case 1:Ue||(Jt(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&F0(n,t,s)),ln(e,t,n);break;case 21:ln(e,t,n);break;case 22:Ue=(s=Ue)||n.memoizedState!==null,ln(e,t,n),Ue=s;break;default:ln(e,t,n)}}function Z0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ms(e)}catch(n){je(t,t.return,n)}}}function J0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ms(e)}catch(n){je(t,t.return,n)}}function ob(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Th),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Th),t;default:throw Error($(435,e.tag))}}function sl(e,t){var n=ob(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var r=yb.bind(null,e,s);s.then(r,r)}})}function st(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],l=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 27:if(la(c.type)){ke=c.stateNode,lt=!1;break e}break;case 5:ke=c.stateNode,lt=!1;break e;case 3:case 4:ke=c.stateNode.containerInfo,lt=!0;break e}c=c.return}if(ke===null)throw Error($(160));K0(l,i,r),ke=null,lt=!1,l=r.alternate,l!==null&&(l.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)W0(t,e),t=t.sibling}var $t=null;function W0(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:st(t,e),rt(e),s&4&&(ea(3,e,e.return),zr(3,e),ea(5,e,e.return));break;case 1:st(t,e),rt(e),s&512&&(Ue||n===null||Jt(n,n.return)),s&64&&dn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=$t;if(st(t,e),rt(e),s&512&&(Ue||n===null||Jt(n,n.return)),s&4){var l=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":l=r.getElementsByTagName("title")[0],(!l||l[Dr]||l[Pe]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=r.createElement(s),r.head.insertBefore(l,r.querySelector("head > title"))),Je(l,s,n),l[Pe]=e,Qe(l),s=l;break e;case"link":var i=Qh("link","href",r).get(s+(n.href||""));if(i){for(var c=0;c<i.length;c++)if(l=i[c],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(c,1);break t}}l=r.createElement(s),Je(l,s,n),r.head.appendChild(l);break;case"meta":if(i=Qh("meta","content",r).get(s+(n.content||""))){for(c=0;c<i.length;c++)if(l=i[c],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(c,1);break t}}l=r.createElement(s),Je(l,s,n),r.head.appendChild(l);break;default:throw Error($(468,s))}l[Pe]=e,Qe(l),s=l}e.stateNode=s}else Yh(r,e.type,e.stateNode);else e.stateNode=Gh(r,s,e.memoizedProps);else l!==s?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,s===null?Yh(r,e.type,e.stateNode):Gh(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Sc(e,e.memoizedProps,n.memoizedProps)}break;case 27:st(t,e),rt(e),s&512&&(Ue||n===null||Jt(n,n.return)),n!==null&&s&4&&Sc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(st(t,e),rt(e),s&512&&(Ue||n===null||Jt(n,n.return)),e.flags&32){r=e.stateNode;try{ls(r,"")}catch(v){je(e,e.return,v)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Sc(e,r,n!==null?n.memoizedProps:r)),s&1024&&(Tc=!0);break;case 6:if(st(t,e),rt(e),s&4){if(e.stateNode===null)throw Error($(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(v){je(e,e.return,v)}}break;case 3:if(Cl=null,r=$t,$t=ii(t.containerInfo),st(t,e),$t=r,rt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(v){je(e,e.return,v)}Tc&&(Tc=!1,eg(e));break;case 4:s=$t,$t=ii(e.stateNode.containerInfo),st(t,e),rt(e),$t=s;break;case 12:st(t,e),rt(e);break;case 31:st(t,e),rt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sl(e,s)));break;case 13:st(t,e),rt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vi=pt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sl(e,s)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,d=dn,f=Ue;if(dn=d||r,Ue=f||o,st(t,e),Ue=f,dn=d,rt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||dn||Ue||fa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(l=o.stateNode,r)i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{c=o.stateNode;var h=o.memoizedProps.style,p=h!=null&&h.hasOwnProperty("display")?h.display:null;c.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(v){je(o,o.return,v)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(v){je(o,o.return,v)}}}else if(t.tag===18){if(n===null){o=t;try{var x=o.stateNode;r?Ih(x,!0):Ih(o.stateNode,!1)}catch(v){je(o,o.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,sl(e,n))));break;case 19:st(t,e),rt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sl(e,s)));break;case 30:break;case 21:break;default:st(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Q0(s)){n=s;break}s=s.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var r=n.stateNode,l=Cc(e);Wl(e,l,r);break;case 5:var i=n.stateNode;n.flags&32&&(ls(i,""),n.flags&=-33);var c=Cc(e);Wl(e,c,i);break;case 3:case 4:var o=n.stateNode.containerInfo,d=Cc(e);Eo(e,d,o);break;default:throw Error($(161))}}catch(f){je(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;eg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)X0(e,t.alternate,t),t=t.sibling}function fa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ea(4,t,t.return),fa(t);break;case 1:Jt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&F0(t,t.return,n),fa(t);break;case 27:lr(t.stateNode);case 26:case 5:Jt(t,t.return),fa(t);break;case 22:t.memoizedState===null&&fa(t);break;case 30:fa(t);break;default:fa(t)}e=e.sibling}}function on(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,l=t,i=l.flags;switch(l.tag){case 0:case 11:case 15:on(r,l,n),zr(4,l);break;case 1:if(on(r,l,n),s=l,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(d){je(s,s.return,d)}if(s=l,r=s.updateQueue,r!==null){var c=s.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Zm(o[r],c)}catch(d){je(s,s.return,d)}}n&&i&64&&q0(l),nr(l,l.return);break;case 27:Y0(l);case 26:case 5:on(r,l,n),n&&s===null&&i&4&&G0(l),nr(l,l.return);break;case 12:on(r,l,n);break;case 31:on(r,l,n),n&&i&4&&Z0(r,l);break;case 13:on(r,l,n),n&&i&4&&J0(r,l);break;case 22:l.memoizedState===null&&on(r,l,n),nr(l,l.return);break;case 30:break;default:on(r,l,n)}t=t.sibling}}function Fu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_r(n))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e))}function Ht(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tg(e,t,n,s),t=t.sibling}function tg(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ht(e,t,n,s),r&2048&&zr(9,t);break;case 1:Ht(e,t,n,s);break;case 3:Ht(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e)));break;case 12:if(r&2048){Ht(e,t,n,s),e=t.stateNode;try{var l=t.memoizedProps,i=l.id,c=l.onPostCommit;typeof c=="function"&&c(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){je(t,t.return,o)}}else Ht(e,t,n,s);break;case 31:Ht(e,t,n,s);break;case 13:Ht(e,t,n,s);break;case 23:break;case 22:l=t.stateNode,i=t.alternate,t.memoizedState!==null?l._visibility&2?Ht(e,t,n,s):ar(e,t):l._visibility&2?Ht(e,t,n,s):(l._visibility|=2,La(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Fu(i,t);break;case 24:Ht(e,t,n,s),r&2048&&Gu(t.alternate,t);break;default:Ht(e,t,n,s)}}function La(e,t,n,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,i=t,c=n,o=s,d=i.flags;switch(i.tag){case 0:case 11:case 15:La(l,i,c,o,r),zr(8,i);break;case 23:break;case 22:var f=i.stateNode;i.memoizedState!==null?f._visibility&2?La(l,i,c,o,r):ar(l,i):(f._visibility|=2,La(l,i,c,o,r)),r&&d&2048&&Fu(i.alternate,i);break;case 24:La(l,i,c,o,r),r&&d&2048&&Gu(i.alternate,i);break;default:La(l,i,c,o,r)}t=t.sibling}}function ar(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:ar(n,s),r&2048&&Fu(s.alternate,s);break;case 24:ar(n,s),r&2048&&Gu(s.alternate,s);break;default:ar(n,s)}t=t.sibling}}var Gs=8192;function Ra(e,t,n){if(e.subtreeFlags&Gs)for(e=e.child;e!==null;)ng(e,t,n),e=e.sibling}function ng(e,t,n){switch(e.tag){case 26:Ra(e,t,n),e.flags&Gs&&e.memoizedState!==null&&Pb(n,$t,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,t,n);break;case 3:case 4:var s=$t;$t=ii(e.stateNode.containerInfo),Ra(e,t,n),$t=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Gs,Gs=16777216,Ra(e,t,n),Gs=s):Ra(e,t,n));break;default:Ra(e,t,n)}}function ag(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ls(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ge=s,rg(s,e)}ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sg(e),e=e.sibling}function sg(e){switch(e.tag){case 0:case 11:case 15:Ls(e),e.flags&2048&&ea(9,e,e.return);break;case 3:Ls(e);break;case 12:Ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wl(e)):Ls(e);break;default:Ls(e)}}function wl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ge=s,rg(s,e)}ag(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ea(8,t,t.return),wl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,wl(t));break;default:wl(t)}e=e.sibling}}function rg(e,t){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:ea(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:_r(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ge=s;else e:for(n=e;Ge!==null;){s=Ge;var r=s.sibling,l=s.return;if(P0(s),s===n){Ge=null;break e}if(r!==null){r.return=l,Ge=r;break e}Ge=l}}}var ub={getCacheForType:function(e){var t=Ze(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ze(Ie).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,xe=0,Se=null,de=null,he=0,ve=0,ft=null,Vn=!1,Ns=!1,Qu=!1,Sn=0,Re=0,ta=0,va=0,Yu=0,xt=0,us=0,sr=null,it=null,Ao=!1,Vi=0,lg=0,ei=1/0,ti=null,Qn=null,qe=0,Yn=null,ds=null,pn=0,Oo=0,ko=null,ig=null,rr=0,Do=null;function vt(){return xe&2&&he!==0?he&-he:te.T!==null?Pu():xm()}function cg(){if(xt===0)if(!(he&536870912)||me){var e=Kr;Kr<<=1,!(Kr&3932160)&&(Kr=262144),xt=e}else xt=536870912;return e=Nt.current,e!==null&&(e.flags|=32),xt}function ct(e,t,n){(e===Se&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(hs(e,0),Bn(e,he,xt,!1)),kr(e,n),(!(xe&2)||e!==Se)&&(e===Se&&(!(xe&2)&&(va|=n),Re===4&&Bn(e,he,xt,!1)),an(e))}function og(e,t,n){if(xe&6)throw Error($(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Or(e,t),r=s?mb(e,t):Ec(e,t,!0),l=s;do{if(r===0){Ns&&!s&&Bn(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!hb(n)){r=Ec(e,t,!1),l=!1;continue}if(r===2){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var c=e;r=sr;var o=c.current.memoizedState.isDehydrated;if(o&&(hs(c,i).flags|=256),i=Ec(c,i,!1),i!==2){if(Qu&&!o){c.errorRecoveryDisabledLanes|=l,va|=l,r=4;break e}l=it,it=r,l!==null&&(it===null?it=l:it.push.apply(it,l))}r=i}if(l=!1,r!==2)continue}}if(r===1){hs(e,0),Bn(e,t,0,!0);break}e:{switch(s=e,l=r,l){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:Bn(s,t,xt,!Vn);break e;case 2:it=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(r=Vi+300-pt(),10<r)){if(Bn(s,t,xt,!Vn),Ti(s,0,!0)!==0)break e;pn=t,s.timeoutHandle=Og(Eh.bind(null,s,n,it,ti,Ao,t,xt,va,us,Vn,l,"Throttled",-0,0),r);break e}Eh(s,n,it,ti,Ao,t,xt,va,us,Vn,l,null,-0,0)}}break}while(!0);an(e)}function Eh(e,t,n,s,r,l,i,c,o,d,f,h,p,x){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},ng(t,l,h);var v=(l&62914560)===l?Vi-pt():(l&4194048)===l?lg-pt():0;if(v=Kb(h,v),v!==null){pn=l,e.cancelPendingCommit=v(Oh.bind(null,e,t,l,n,s,r,i,c,o,f,h,null,p,x)),Bn(e,l,i,!d);return}}Oh(e,t,l,n,s,r,i,c,o)}function hb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],l=r.getSnapshot;r=r.value;try{if(!jt(l(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t,n,s){t&=~Yu,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var l=31-bt(r),i=1<<l;s[l]=-1,r&=~i}n!==0&&fm(e,n,t)}function Bi(){return xe&6?!0:(Lr(0),!1)}function Xu(){if(de!==null){if(ve===0)var e=de.return;else e=de,mn=Ma=null,_u(e),es=null,gr=0,e=de;for(;e!==null;)$0(e.alternate,e),e=e.return;de=null}}function hs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Mb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pn=0,Xu(),Se=e,de=n=gn(e.current,null),he=t,ve=0,ft=null,Vn=!1,Ns=Or(e,t),Qu=!1,us=xt=Yu=va=ta=Re=0,it=sr=null,Ao=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-bt(s),l=1<<r;t|=e[r],s&=~l}return Sn=t,ki(),n}function ug(e,t){le=null,te.H=pr,t===js||t===Mi?(t=rh(),ve=3):t===Tu?(t=rh(),ve=4):ve=t===$u?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ft=t,de===null&&(Re=1,Zl(e,Mt(t,e.current)))}function dg(){var e=Nt.current;return e===null?!0:(he&4194048)===he?Rt===null:(he&62914560)===he||he&536870912?e===Rt:!1}function hg(){var e=te.H;return te.H=pr,e===null?pr:e}function fg(){var e=te.A;return te.A=ub,e}function ni(){Re=4,Vn||(he&4194048)!==he&&Nt.current!==null||(Ns=!0),!(ta&134217727)&&!(va&134217727)||Se===null||Bn(Se,he,xt,!1)}function Ec(e,t,n){var s=xe;xe|=2;var r=hg(),l=fg();(Se!==e||he!==t)&&(ti=null,hs(e,t)),t=!1;var i=Re;e:do try{if(ve!==0&&de!==null){var c=de,o=ft;switch(ve){case 8:Xu(),i=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var d=ve;if(ve=0,ft=null,Pa(e,c,o,d),n&&Ns){i=0;break e}break;default:d=ve,ve=0,ft=null,Pa(e,c,o,d)}}fb(),i=Re;break}catch(f){ug(e,f)}while(!0);return t&&e.shellSuspendCounter++,mn=Ma=null,xe=s,te.H=r,te.A=l,de===null&&(Se=null,he=0,ki()),i}function fb(){for(;de!==null;)mg(de)}function mb(e,t){var n=xe;xe|=2;var s=hg(),r=fg();Se!==e||he!==t?(ti=null,ei=pt()+500,hs(e,t)):Ns=Or(e,t);e:do try{if(ve!==0&&de!==null){t=de;var l=ft;t:switch(ve){case 1:ve=0,ft=null,Pa(e,t,l,1);break;case 2:case 9:if(sh(l)){ve=0,ft=null,Ah(t);break}t=function(){ve!==2&&ve!==9||Se!==e||(ve=7),an(e)},l.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:sh(l)?(ve=0,ft=null,Ah(t)):(ve=0,ft=null,Pa(e,t,l,7));break;case 5:var i=null;switch(de.tag){case 26:i=de.memoizedState;case 5:case 27:var c=de;if(i?Rg(i):c.stateNode.complete){ve=0,ft=null;var o=c.sibling;if(o!==null)de=o;else{var d=c.return;d!==null?(de=d,Ui(d)):de=null}break t}}ve=0,ft=null,Pa(e,t,l,5);break;case 6:ve=0,ft=null,Pa(e,t,l,6);break;case 8:Xu(),Re=6;break e;default:throw Error($(462))}}gb();break}catch(f){ug(e,f)}while(!0);return mn=Ma=null,te.H=s,te.A=r,xe=n,de!==null?0:(Se=null,he=0,ki(),Re)}function gb(){for(;de!==null&&!Bp();)mg(de)}function mg(e){var t=H0(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Ui(e):de=t}function Ah(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=jh(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=jh(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:_u(t);default:$0(n,t),t=de=$m(t,Sn),t=H0(n,t,Sn)}e.memoizedProps=e.pendingProps,t===null?Ui(e):de=t}function Pa(e,t,n,s){mn=Ma=null,_u(t),es=null,gr=0;var r=t.return;try{if(ab(e,r,t,n,he)){Re=1,Zl(e,Mt(n,e.current)),de=null;return}}catch(l){if(r!==null)throw de=r,l;Re=1,Zl(e,Mt(n,e.current)),de=null;return}t.flags&32768?(me||s===1?e=!0:Ns||he&536870912?e=!1:(Vn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),gg(t,e)):Ui(t)}function Ui(e){var t=e;do{if(t.flags&32768){gg(t,Vn);return}e=t.return;var n=lb(t.alternate,t,Sn);if(n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Re===0&&(Re=5)}function gg(e,t){do{var n=ib(e.alternate,e);if(n!==null){n.flags&=32767,de=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=n}while(e!==null);Re=6,de=null}function Oh(e,t,n,s,r,l,i,c,o){e.cancelPendingCommit=null;do Ii();while(qe!==0);if(xe&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(l=t.lanes|t.childLanes,l|=bu,Xp(e,n,l,i,c,o),e===Se&&(de=Se=null,he=0),ds=t,Yn=e,pn=n,Oo=l,ko=r,ig=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,bb(Il,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=te.T,te.T=null,r=ye.p,ye.p=2,i=xe,xe|=4;try{cb(e,t,n)}finally{xe=i,ye.p=r,te.T=s}}qe=1,xg(),pg(),yg()}}function xg(){if(qe===1){qe=0;var e=Yn,t=ds,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=te.T,te.T=null;var s=ye.p;ye.p=2;var r=xe;xe|=4;try{W0(t,e);var l=zo,i=Rm(e.containerInfo),c=l.focusedElem,o=l.selectionRange;if(i!==c&&c&&c.ownerDocument&&_m(c.ownerDocument.documentElement,c)){if(o!==null&&yu(c)){var d=o.start,f=o.end;if(f===void 0&&(f=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(f,c.value.length);else{var h=c.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var x=p.getSelection(),v=c.textContent.length,S=Math.min(o.start,v),w=o.end===void 0?S:Math.min(o.end,v);!x.extend&&S>w&&(i=w,w=S,S=i);var y=Zd(c,S),u=Zd(c,w);if(y&&u&&(x.rangeCount!==1||x.anchorNode!==y.node||x.anchorOffset!==y.offset||x.focusNode!==u.node||x.focusOffset!==u.offset)){var m=h.createRange();m.setStart(y.node,y.offset),x.removeAllRanges(),S>w?(x.addRange(m),x.extend(u.node,u.offset)):(m.setEnd(u.node,u.offset),x.addRange(m))}}}}for(h=[],x=c;x=x.parentNode;)x.nodeType===1&&h.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<h.length;c++){var j=h[c];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}ui=!!Ro,zo=Ro=null}finally{xe=r,ye.p=s,te.T=n}}e.current=t,qe=2}}function pg(){if(qe===2){qe=0;var e=Yn,t=ds,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=te.T,te.T=null;var s=ye.p;ye.p=2;var r=xe;xe|=4;try{X0(e,t.alternate,t)}finally{xe=r,ye.p=s,te.T=n}}qe=3}}function yg(){if(qe===4||qe===3){qe=0,Up();var e=Yn,t=ds,n=pn,s=ig;t.subtreeFlags&10256||t.flags&10256?qe=5:(qe=0,ds=Yn=null,bg(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Qn=null),du(n),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ar,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=te.T,r=ye.p,ye.p=2,te.T=null;try{for(var l=e.onRecoverableError,i=0;i<s.length;i++){var c=s[i];l(c.value,{componentStack:c.stack})}}finally{te.T=t,ye.p=r}}pn&3&&Ii(),an(e),r=e.pendingLanes,n&261930&&r&42?e===Do?rr++:(rr=0,Do=e):rr=0,Lr(0)}}function bg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_r(t)))}function Ii(){return xg(),pg(),yg(),vg()}function vg(){if(qe!==5)return!1;var e=Yn,t=Oo;Oo=0;var n=du(pn),s=te.T,r=ye.p;try{ye.p=32>n?32:n,te.T=null,n=ko,ko=null;var l=Yn,i=pn;if(qe=0,ds=Yn=null,pn=0,xe&6)throw Error($(331));var c=xe;if(xe|=4,sg(l.current),tg(l,l.current,i,n),xe=c,Lr(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ar,l)}catch{}return!0}finally{ye.p=r,te.T=s,bg(e,t)}}function kh(e,t,n){t=Mt(n,t),t=So(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(kr(e,2),an(e))}function je(e,t,n){if(e.tag===3)kh(e,e,n);else for(;t!==null;){if(t.tag===3){kh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))){e=Mt(n,e),n=z0(2),s=Gn(t,n,2),s!==null&&(L0(n,s,t,e),kr(s,2),an(s));break}}t=t.return}}function Ac(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new db;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(Qu=!0,r.add(n),e=xb.bind(null,e,t,n),t.then(e,e))}function xb(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Se===e&&(he&n)===n&&(Re===4||Re===3&&(he&62914560)===he&&300>pt()-Vi?!(xe&2)&&hs(e,0):Yu|=n,us===he&&(us=0)),an(e)}function jg(e,t){t===0&&(t=hm()),e=Da(e,t),e!==null&&(kr(e,t),an(e))}function pb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jg(e,n)}function yb(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error($(314))}s!==null&&s.delete(t),jg(e,n)}function bb(e,t){return ou(e,t)}var ai=null,Va=null,Mo=!1,si=!1,Oc=!1,Un=0;function an(e){e!==Va&&e.next===null&&(Va===null?ai=Va=e:Va=Va.next=e),si=!0,Mo||(Mo=!0,jb())}function Lr(e,t){if(!Oc&&si){Oc=!0;do for(var n=!1,s=ai;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var l=0;else{var i=s.suspendedLanes,c=s.pingedLanes;l=(1<<31-bt(42|e)+1)-1,l&=r&~(i&~c),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,Dh(s,l))}else l=he,l=Ti(s,s===Se?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(l&3)||Or(s,l)||(n=!0,Dh(s,l));s=s.next}while(n);Oc=!1}}function vb(){Ng()}function Ng(){si=Mo=!1;var e=0;Un!==0&&Db()&&(e=Un);for(var t=pt(),n=null,s=ai;s!==null;){var r=s.next,l=wg(s,t);l===0?(s.next=null,n===null?ai=r:n.next=r,r===null&&(Va=n)):(n=s,(e!==0||l&3)&&(si=!0)),s=r}qe!==0&&qe!==5||Lr(e),Un!==0&&(Un=0)}function wg(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var i=31-bt(l),c=1<<i,o=r[i];o===-1?(!(c&n)||c&s)&&(r[i]=Yp(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}if(t=Se,n=he,n=Ti(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ac(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Or(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&ac(s),du(n)){case 2:case 8:n=um;break;case 32:n=Il;break;case 268435456:n=dm;break;default:n=Il}return s=Sg.bind(null,e),n=ou(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&ac(s),e.callbackPriority=2,e.callbackNode=null,2}function Sg(e,t){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ii()&&e.callbackNode!==n)return null;var s=he;return s=Ti(e,e===Se?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(og(e,s,t),wg(e,pt()),e.callbackNode!=null&&e.callbackNode===n?Sg.bind(null,e):null)}function Dh(e,t){if(Ii())return null;og(e,t,!0)}function jb(){_b(function(){xe&6?ou(om,vb):Ng()})}function Pu(){if(Un===0){var e=is;e===0&&(e=Pr,Pr<<=1,!(Pr&261888)&&(Pr=256)),Un=e}return Un}function Mh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ml(""+e)}function _h(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Nb(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var l=Mh((r[dt]||null).action),i=s.submitter;i&&(t=(t=i[dt]||null)?Mh(t.formAction):i.getAttribute("formAction"),t!==null&&(l=t,i=null));var c=new Ei("action","action",null,s,r);e.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Un!==0){var o=i?_h(r,i):new FormData(r);No(n,{pending:!0,data:o,method:r.method,action:l},null,o)}}else typeof l=="function"&&(c.preventDefault(),o=i?_h(r,i):new FormData(r),No(n,{pending:!0,data:o,method:r.method,action:l},l,o))},currentTarget:r}]})}}for(var kc=0;kc<oo.length;kc++){var Dc=oo[kc],wb=Dc.toLowerCase(),Sb=Dc[0].toUpperCase()+Dc.slice(1);Ft(wb,"on"+Sb)}Ft(Lm,"onAnimationEnd");Ft(Vm,"onAnimationIteration");Ft(Bm,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(Iy,"onTransitionRun");Ft(Hy,"onTransitionStart");Ft($y,"onTransitionCancel");Ft(Um,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yr));function Cg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==l&&r.isPropagationStopped())break e;l=c,r.currentTarget=d;try{l(r)}catch(f){$l(f)}r.currentTarget=null,l=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==l&&r.isPropagationStopped())break e;l=c,r.currentTarget=d;try{l(r)}catch(f){$l(f)}r.currentTarget=null,l=o}}}}function ue(e,t){var n=t[to];n===void 0&&(n=t[to]=new Set);var s=e+"__bubble";n.has(s)||(Tg(t,e,2,!1),n.add(s))}function Mc(e,t,n){var s=0;t&&(s|=4),Tg(n,e,s,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Ku(e){if(!e[rl]){e[rl]=!0,pm.forEach(function(n){n!=="selectionchange"&&(Cb.has(n)||Mc(n,!1,e),Mc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,Mc("selectionchange",!1,t))}}function Tg(e,t,n,s){switch(Ug(t)){case 2:var r=Wb;break;case 8:r=e2;break;default:r=ed}n=r.bind(null,t,n,e),r=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function _c(e,t,n,s,r){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===r)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&i.stateNode.containerInfo===r)return;i=i.return}for(;c!==null;){if(i=Ia(c),i===null)return;if(o=i.tag,o===5||o===6||o===26||o===27){s=l=i;continue e}c=c.parentNode}}s=s.return}Cm(function(){var d=l,f=mu(n),h=[];e:{var p=Im.get(e);if(p!==void 0){var x=Ei,v=e;switch(e){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":x=yy;break;case"focusin":v="focus",x=cc;break;case"focusout":v="blur",x=cc;break;case"beforeblur":case"afterblur":x=cc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=jy;break;case Lm:case Vm:case Bm:x=oy;break;case Um:x=wy;break;case"scroll":case"scrollend":x=sy;break;case"wheel":x=Cy;break;case"copy":case"cut":case"paste":x=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=qd;break;case"toggle":case"beforetoggle":x=Ey}var S=(t&4)!==0,w=!S&&(e==="scroll"||e==="scrollend"),y=S?p!==null?p+"Capture":null:p;S=[];for(var u=d,m;u!==null;){var j=u;if(m=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||m===null||y===null||(j=ur(u,y),j!=null&&S.push(br(u,j,m))),w)break;u=u.return}0<S.length&&(p=new x(p,v,null,n,f),h.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==ro&&(v=n.relatedTarget||n.fromElement)&&(Ia(v)||v[ys]))break e;if((x||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=d,v=v?Ia(v):null,v!==null&&(w=Er(v),S=v.tag,v!==w||S!==5&&S!==27&&S!==6)&&(v=null)):(x=null,v=d),x!==v)){if(S=Hd,j="onMouseLeave",y="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(S=qd,j="onPointerLeave",y="onPointerEnter",u="pointer"),w=x==null?p:qs(x),m=v==null?p:qs(v),p=new S(j,u+"leave",x,n,f),p.target=w,p.relatedTarget=m,j=null,Ia(f)===d&&(S=new S(y,u+"enter",v,n,f),S.target=m,S.relatedTarget=w,j=S),w=j,x&&v)t:{for(S=Tb,y=x,u=v,m=0,j=y;j;j=S(j))m++;j=0;for(var N=u;N;N=S(N))j++;for(;0<m-j;)y=S(y),m--;for(;0<j-m;)u=S(u),j--;for(;m--;){if(y===u||u!==null&&y===u.alternate){S=y;break t}y=S(y),u=S(u)}S=null}else S=null;x!==null&&Rh(h,p,x,S,!1),v!==null&&w!==null&&Rh(h,w,v,S,!0)}}e:{if(p=d?qs(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var O=Yd;else if(Qd(p))if(Dm)O=Vy;else{O=zy;var T=Ry}else x=p.nodeName,!x||x.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?d&&fu(d.elementType)&&(O=Yd):O=Ly;if(O&&(O=O(e,d))){km(h,O,n,f);break e}T&&T(e,p,d),e==="focusout"&&d&&p.type==="number"&&d.memoizedProps.value!=null&&so(p,"number",p.value)}switch(T=d?qs(d):window,e){case"focusin":(Qd(T)||T.contentEditable==="true")&&(qa=T,io=d,Ks=null);break;case"focusout":Ks=io=qa=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,Jd(h,n,f);break;case"selectionchange":if(Uy)break;case"keydown":case"keyup":Jd(h,n,f)}var b;if(pu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else $a?Am(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Em&&n.locale!=="ko"&&($a||C!=="onCompositionStart"?C==="onCompositionEnd"&&$a&&(b=Tm()):(Ln=f,gu="value"in Ln?Ln.value:Ln.textContent,$a=!0)),T=ri(d,C),0<T.length&&(C=new $d(C,e,null,n,f),h.push({event:C,listeners:T}),b?C.data=b:(b=Om(n),b!==null&&(C.data=b)))),(b=Oy?ky(e,n):Dy(e,n))&&(C=ri(d,"onBeforeInput"),0<C.length&&(T=new $d("onBeforeInput","beforeinput",null,n,f),h.push({event:T,listeners:C}),T.data=b)),Nb(h,e,d,n,f)}Cg(h,t)})}function br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ri(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,l=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||l===null||(r=ur(e,n),r!=null&&s.unshift(br(e,r,l)),r=ur(e,t),r!=null&&s.push(br(e,r,l))),e.tag===3)return s;e=e.return}return[]}function Tb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rh(e,t,n,s,r){for(var l=t._reactName,i=[];n!==null&&n!==s;){var c=n,o=c.alternate,d=c.stateNode;if(c=c.tag,o!==null&&o===s)break;c!==5&&c!==26&&c!==27||d===null||(o=d,r?(d=ur(n,l),d!=null&&i.unshift(br(n,d,o))):r||(d=ur(n,l),d!=null&&i.push(br(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Eb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function zh(e){return(typeof e=="string"?e:""+e).replace(Eb,`
`).replace(Ab,"")}function Eg(e,t){return t=zh(t),zh(e)===t}function Ne(e,t,n,s,r,l){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ls(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ls(e,""+s);break;case"className":Jr(e,"class",s);break;case"tabIndex":Jr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(e,n,s);break;case"style":Sm(e,s,l);break;case"data":if(t!=="object"){Jr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ml(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&Ne(e,t,"name",r.name,r,null),Ne(e,t,"formEncType",r.formEncType,r,null),Ne(e,t,"formMethod",r.formMethod,r,null),Ne(e,t,"formTarget",r.formTarget,r,null)):(Ne(e,t,"encType",r.encType,r,null),Ne(e,t,"method",r.method,r,null),Ne(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ml(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=fn);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error($(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=ml(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),fl(e,"popover",s);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ny.get(n)||n,fl(e,n,s))}}function _o(e,t,n,s,r,l){switch(n){case"style":Sm(e,s,l);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error($(60));e.innerHTML=n}}break;case"children":typeof s=="string"?ls(e,s):(typeof s=="number"||typeof s=="bigint")&&ls(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ym.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),l=e[dt]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,r),typeof s=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):fl(e,n,s)}}}function Je(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,r=!1,l;for(l in n)if(n.hasOwnProperty(l)){var i=n[l];if(i!=null)switch(l){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ne(e,t,l,i,n,null)}}r&&Ne(e,t,"srcSet",n.srcSet,n,null),s&&Ne(e,t,"src",n.src,n,null);return;case"input":ue("invalid",e);var c=l=i=r=null,o=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var f=n[s];if(f!=null)switch(s){case"name":r=f;break;case"type":i=f;break;case"checked":o=f;break;case"defaultChecked":d=f;break;case"value":l=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,t));break;default:Ne(e,t,s,f,n,null)}}jm(e,l,c,o,d,i,r,!1);return;case"select":ue("invalid",e),s=i=l=null;for(r in n)if(n.hasOwnProperty(r)&&(c=n[r],c!=null))switch(r){case"value":l=c;break;case"defaultValue":i=c;break;case"multiple":s=c;default:Ne(e,t,r,c,n,null)}t=l,n=i,e.multiple=!!s,t!=null?Za(e,!!s,t,!1):n!=null&&Za(e,!!s,n,!0);return;case"textarea":ue("invalid",e),l=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(c=n[i],c!=null))switch(i){case"value":s=c;break;case"defaultValue":r=c;break;case"children":l=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error($(91));break;default:Ne(e,t,i,c,n,null)}wm(e,s,r,l);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ne(e,t,o,s,n,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<yr.length;s++)ue(yr[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(s=n[d],s!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ne(e,t,d,s,n,null)}return;default:if(fu(t)){for(f in n)n.hasOwnProperty(f)&&(s=n[f],s!==void 0&&_o(e,t,f,s,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(s=n[c],s!=null&&Ne(e,t,c,s,n,null))}function Ob(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,i=null,c=null,o=null,d=null,f=null;for(x in n){var h=n[x];if(n.hasOwnProperty(x)&&h!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":o=h;default:s.hasOwnProperty(x)||Ne(e,t,x,null,s,h)}}for(var p in s){var x=s[p];if(h=n[p],s.hasOwnProperty(p)&&(x!=null||h!=null))switch(p){case"type":l=x;break;case"name":r=x;break;case"checked":d=x;break;case"defaultChecked":f=x;break;case"value":i=x;break;case"defaultValue":c=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error($(137,t));break;default:x!==h&&Ne(e,t,p,x,s,h)}}ao(e,i,c,o,d,f,l,r);return;case"select":x=i=c=p=null;for(l in n)if(o=n[l],n.hasOwnProperty(l)&&o!=null)switch(l){case"value":break;case"multiple":x=o;default:s.hasOwnProperty(l)||Ne(e,t,l,null,s,o)}for(r in s)if(l=s[r],o=n[r],s.hasOwnProperty(r)&&(l!=null||o!=null))switch(r){case"value":p=l;break;case"defaultValue":c=l;break;case"multiple":i=l;default:l!==o&&Ne(e,t,r,l,s,o)}t=c,n=i,s=x,p!=null?Za(e,!!n,p,!1):!!s!=!!n&&(t!=null?Za(e,!!n,t,!0):Za(e,!!n,n?[]:"",!1));return;case"textarea":x=p=null;for(c in n)if(r=n[c],n.hasOwnProperty(c)&&r!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Ne(e,t,c,null,s,r)}for(i in s)if(r=s[i],l=n[i],s.hasOwnProperty(i)&&(r!=null||l!=null))switch(i){case"value":p=r;break;case"defaultValue":x=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error($(91));break;default:r!==l&&Ne(e,t,i,r,s,l)}Nm(e,p,x);return;case"option":for(var v in n)if(p=n[v],n.hasOwnProperty(v)&&p!=null&&!s.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Ne(e,t,v,null,s,p)}for(o in s)if(p=s[o],x=n[o],s.hasOwnProperty(o)&&p!==x&&(p!=null||x!=null))switch(o){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ne(e,t,o,p,s,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!s.hasOwnProperty(S)&&Ne(e,t,S,null,s,p);for(d in s)if(p=s[d],x=n[d],s.hasOwnProperty(d)&&p!==x&&(p!=null||x!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error($(137,t));break;default:Ne(e,t,d,p,s,x)}return;default:if(fu(t)){for(var w in n)p=n[w],n.hasOwnProperty(w)&&p!==void 0&&!s.hasOwnProperty(w)&&_o(e,t,w,void 0,s,p);for(f in s)p=s[f],x=n[f],!s.hasOwnProperty(f)||p===x||p===void 0&&x===void 0||_o(e,t,f,p,s,x);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!s.hasOwnProperty(y)&&Ne(e,t,y,null,s,p);for(h in s)p=s[h],x=n[h],!s.hasOwnProperty(h)||p===x||p==null&&x==null||Ne(e,t,h,p,s,x)}function Lh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],l=r.transferSize,i=r.initiatorType,c=r.duration;if(l&&c&&Lh(i)){for(i=0,c=r.responseEnd,s+=1;s<n.length;s++){var o=n[s],d=o.startTime;if(d>c)break;var f=o.transferSize,h=o.initiatorType;f&&Lh(h)&&(o=o.responseEnd,i+=f*(o<c?1:(c-d)/(o-d)))}if(--s,t+=8*(l+i)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ro=null,zo=null;function li(e){return e.nodeType===9?e:e.ownerDocument}function Vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ag(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=null;function Db(){var e=window.event;return e&&e.type==="popstate"?e===Rc?!1:(Rc=e,!0):(Rc=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(e){return Bh.resolve(null).then(e).catch(Rb)}:Og;function Rb(e){setTimeout(function(){throw e})}function la(e){return e==="head"}function Uh(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(r),ms(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")lr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,lr(n);for(var l=n.firstChild;l;){var i=l.nextSibling,c=l.nodeName;l[Dr]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=i}}else n==="body"&&lr(e.ownerDocument.body);n=r}while(n);ms(t)}function Ih(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Vo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vo(n),hu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function zb(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Dr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function Lb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zt(e.nextSibling),e===null))return null;return e}function kg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=zt(e.nextSibling),e===null))return null;return e}function Bo(e){return e.data==="$?"||e.data==="$~"}function Uo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Io=null;function Hh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return zt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function $h(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Dg(e,t,n){switch(t=li(n),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function lr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hu(e)}var Ut=new Map,qh=new Set;function ii(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=ye.d;ye.d={f:Bb,r:Ub,D:Ib,C:Hb,L:$b,m:qb,X:Gb,S:Fb,M:Qb};function Bb(){var e=Tn.f(),t=Bi();return e||t}function Ub(e){var t=bs(e);t!==null&&t.tag===5&&t.type==="form"?S0(t):Tn.r(e)}var ws=typeof document>"u"?null:document;function Mg(e,t,n){var s=ws;if(s&&typeof t=="string"&&t){var r=Dt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),qh.has(r)||(qh.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),Je(t,"link",e),Qe(t),s.head.appendChild(t)))}}function Ib(e){Tn.D(e),Mg("dns-prefetch",e,null)}function Hb(e,t){Tn.C(e,t),Mg("preconnect",e,t)}function $b(e,t,n){Tn.L(e,t,n);var s=ws;if(s&&e&&t){var r='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Dt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Dt(n.imageSizes)+'"]')):r+='[href="'+Dt(e)+'"]';var l=r;switch(t){case"style":l=fs(e);break;case"script":l=Ss(e)}Ut.has(l)||(e=Oe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ut.set(l,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Vr(l))||t==="script"&&s.querySelector(Br(l))||(t=s.createElement("link"),Je(t,"link",e),Qe(t),s.head.appendChild(t)))}}function qb(e,t){Tn.m(e,t);var n=ws;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Dt(s)+'"][href="'+Dt(e)+'"]',l=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ss(e)}if(!Ut.has(l)&&(e=Oe({rel:"modulepreload",href:e},t),Ut.set(l,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Br(l)))return}s=n.createElement("link"),Je(s,"link",e),Qe(s),n.head.appendChild(s)}}}function Fb(e,t,n){Tn.S(e,t,n);var s=ws;if(s&&e){var r=Ka(s).hoistableStyles,l=fs(e);t=t||"default";var i=r.get(l);if(!i){var c={loading:0,preload:null};if(i=s.querySelector(Vr(l)))c.loading=5;else{e=Oe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ut.get(l))&&Zu(e,n);var o=i=s.createElement("link");Qe(o),Je(o,"link",e),o._p=new Promise(function(d,f){o.onload=d,o.onerror=f}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Sl(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:c},r.set(l,i)}}}function Gb(e,t){Tn.X(e,t);var n=ws;if(n&&e){var s=Ka(n).hoistableScripts,r=Ss(e),l=s.get(r);l||(l=n.querySelector(Br(r)),l||(e=Oe({src:e,async:!0},t),(t=Ut.get(r))&&Ju(e,t),l=n.createElement("script"),Qe(l),Je(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(r,l))}}function Qb(e,t){Tn.M(e,t);var n=ws;if(n&&e){var s=Ka(n).hoistableScripts,r=Ss(e),l=s.get(r);l||(l=n.querySelector(Br(r)),l||(e=Oe({src:e,async:!0,type:"module"},t),(t=Ut.get(r))&&Ju(e,t),l=n.createElement("script"),Qe(l),Je(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},s.set(r,l))}}function Fh(e,t,n,s){var r=(r=$n.current)?ii(r):null;if(!r)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fs(n.href),n=Ka(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fs(n.href);var l=Ka(r).hoistableStyles,i=l.get(e);if(i||(r=r.ownerDocument||r,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,i),(l=r.querySelector(Vr(e)))&&!l._p&&(i.instance=l,i.state.loading=5),Ut.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ut.set(e,n),l||Yb(r,e,n,i.state))),t&&s===null)throw Error($(528,""));return i}if(t&&s!==null)throw Error($(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ss(n),n=Ka(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function fs(e){return'href="'+Dt(e)+'"'}function Vr(e){return'link[rel="stylesheet"]['+e+"]"}function _g(e){return Oe({},e,{"data-precedence":e.precedence,precedence:null})}function Yb(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Je(t,"link",n),Qe(t),e.head.appendChild(t))}function Ss(e){return'[src="'+Dt(e)+'"]'}function Br(e){return"script[async]"+e}function Gh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Dt(n.href)+'"]');if(s)return t.instance=s,Qe(s),s;var r=Oe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Qe(s),Je(s,"style",r),Sl(s,n.precedence,e),t.instance=s;case"stylesheet":r=fs(n.href);var l=e.querySelector(Vr(r));if(l)return t.state.loading|=4,t.instance=l,Qe(l),l;s=_g(n),(r=Ut.get(r))&&Zu(s,r),l=(e.ownerDocument||e).createElement("link"),Qe(l);var i=l;return i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Je(l,"link",s),t.state.loading|=4,Sl(l,n.precedence,e),t.instance=l;case"script":return l=Ss(n.src),(r=e.querySelector(Br(l)))?(t.instance=r,Qe(r),r):(s=n,(r=Ut.get(l))&&(s=Oe({},n),Ju(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),Qe(r),Je(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,Sl(s,n.precedence,e));return t.instance}function Sl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,l=r,i=0;i<s.length;i++){var c=s[i];if(c.dataset.precedence===t)l=c;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cl=null;function Qh(e,t,n){if(Cl===null){var s=new Map,r=Cl=new Map;r.set(n,s)}else r=Cl,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var l=n[r];if(!(l[Dr]||l[Pe]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var i=l.getAttribute(t)||"";i=e+i;var c=s.get(i);c?c.push(l):s.set(i,[l])}}return s}function Yh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rg(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Pb(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=fs(s.href),l=t.querySelector(Vr(r));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ci.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,Qe(l);return}l=t.ownerDocument||t,s=_g(s),(r=Ut.get(r))&&Zu(s,r),l=l.createElement("link"),Qe(l);var i=l;i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Je(l,"link",s),n.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ci.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var zc=0;function Kb(e,t){return e.stylesheets&&e.count===0&&Tl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Tl(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&zc===0&&(zc=62500*kb());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tl(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>zc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function ci(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oi=null;function Tl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oi=new Map,t.forEach(Zb,e),oi=null,ci.call(e))}function Zb(e,t){if(!(t.state.loading&4)){var n=oi.get(e);if(n)var s=n.get(null);else{n=new Map,oi.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var i=r[l];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),s=i)}s&&n.set(null,s)}r=t.instance,i=r.getAttribute("data-precedence"),l=n.get(i)||s,l===s&&n.set(null,r),n.set(i,r),this.count++,s=ci.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),l?l.parentNode.insertBefore(r,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var vr={$$typeof:hn,Provider:null,Consumer:null,_currentValue:xa,_currentValue2:xa,_threadCount:0};function Jb(e,t,n,s,r,l,i,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.hiddenUpdates=sc(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function zg(e,t,n,s,r,l,i,c,o,d,f,h){return e=new Jb(e,t,n,i,o,d,f,h,c),t=1,l===!0&&(t|=24),l=gt(3,null,null,t),e.current=l,l.stateNode=e,t=Su(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:s,isDehydrated:n,cache:t},Eu(l),e}function Lg(e){return e?(e=Qa,e):Qa}function Vg(e,t,n,s,r,l){r=Lg(r),s.context===null?s.context=r:s.pendingContext=r,s=Fn(t),s.payload={element:n},l=l===void 0?null:l,l!==null&&(s.callback=l),n=Gn(e,s,t),n!==null&&(ct(n,e,t),Js(n,e,t))}function Xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wu(e,t){Xh(e,t),(e=e.alternate)&&Xh(e,t)}function Bg(e){if(e.tag===13||e.tag===31){var t=Da(e,67108864);t!==null&&ct(t,e,67108864),Wu(e,67108864)}}function Ph(e){if(e.tag===13||e.tag===31){var t=vt();t=uu(t);var n=Da(e,t);n!==null&&ct(n,e,t),Wu(e,t)}}var ui=!0;function Wb(e,t,n,s){var r=te.T;te.T=null;var l=ye.p;try{ye.p=2,ed(e,t,n,s)}finally{ye.p=l,te.T=r}}function e2(e,t,n,s){var r=te.T;te.T=null;var l=ye.p;try{ye.p=8,ed(e,t,n,s)}finally{ye.p=l,te.T=r}}function ed(e,t,n,s){if(ui){var r=Ho(s);if(r===null)_c(e,t,s,di,n),Kh(e,s);else if(n2(r,e,t,n,s))s.stopPropagation();else if(Kh(e,s),t&4&&-1<t2.indexOf(e)){for(;r!==null;){var l=bs(r);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var i=da(l.pendingLanes);if(i!==0){var c=l;for(c.pendingLanes|=2,c.entangledLanes|=2;i;){var o=1<<31-bt(i);c.entanglements[1]|=o,i&=~o}an(l),!(xe&6)&&(ei=pt()+500,Lr(0))}}break;case 31:case 13:c=Da(l,2),c!==null&&ct(c,l,2),Bi(),Wu(l,2)}if(l=Ho(s),l===null&&_c(e,t,s,di,n),l===r)break;r=l}r!==null&&s.stopPropagation()}else _c(e,t,s,null,n)}}function Ho(e){return e=mu(e),td(e)}var di=null;function td(e){if(di=null,e=Ia(e),e!==null){var t=Er(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=sm(t),e!==null)return e;e=null}else if(n===31){if(e=rm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return di=e,null}function Ug(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ip()){case om:return 2;case um:return 8;case Il:case Hp:return 32;case dm:return 268435456;default:return 32}default:return 32}}var $o=!1,Xn=null,Pn=null,Kn=null,jr=new Map,Nr=new Map,Rn=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kh(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Vs(e,t,n,s,r,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[r]},t!==null&&(t=bs(t),t!==null&&Bg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function n2(e,t,n,s,r){switch(t){case"focusin":return Xn=Vs(Xn,e,t,n,s,r),!0;case"dragenter":return Pn=Vs(Pn,e,t,n,s,r),!0;case"mouseover":return Kn=Vs(Kn,e,t,n,s,r),!0;case"pointerover":var l=r.pointerId;return jr.set(l,Vs(jr.get(l)||null,e,t,n,s,r)),!0;case"gotpointercapture":return l=r.pointerId,Nr.set(l,Vs(Nr.get(l)||null,e,t,n,s,r)),!0}return!1}function Ig(e){var t=Ia(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=sm(n),t!==null){e.blockedOn=t,Rd(e.priority,function(){Ph(n)});return}}else if(t===31){if(t=rm(n),t!==null){e.blockedOn=t,Rd(e.priority,function(){Ph(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ho(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ro=s,n.target.dispatchEvent(s),ro=null}else return t=bs(n),t!==null&&Bg(t),e.blockedOn=n,!1;t.shift()}return!0}function Zh(e,t,n){El(e)&&n.delete(t)}function a2(){$o=!1,Xn!==null&&El(Xn)&&(Xn=null),Pn!==null&&El(Pn)&&(Pn=null),Kn!==null&&El(Kn)&&(Kn=null),jr.forEach(Zh),Nr.forEach(Zh)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,a2)))}var il=null;function Jh(e){il!==e&&(il=e,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,function(){il===e&&(il=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(td(s||n)===null)continue;break}var l=bs(n);l!==null&&(e.splice(t,3),t-=3,No(l,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function ms(e){function t(o){return ll(o,e)}Xn!==null&&ll(Xn,e),Pn!==null&&ll(Pn,e),Kn!==null&&ll(Kn,e),jr.forEach(t),Nr.forEach(t);for(var n=0;n<Rn.length;n++){var s=Rn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Ig(n),n.blockedOn===null&&Rn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],l=n[s+1],i=r[dt]||null;if(typeof l=="function")i||Jh(n);else if(i){var c=null;if(l&&l.hasAttribute("formAction")){if(r=l,i=l[dt]||null)c=i.formAction;else if(td(r)!==null)continue}else c=i.action;typeof c=="function"?n[s+1]=c:(n.splice(s,3),s-=3),Jh(n)}}}function Hg(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(i){return r=i})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function nd(e){this._internalRoot=e}Hi.prototype.render=nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var n=t.current,s=vt();Vg(n,s,e,t,null,null)};Hi.prototype.unmount=nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vg(e.current,2,null,e,null,null),Bi(),t[ys]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&Ig(e)}};var Wh=nm.version;if(Wh!=="19.2.3")throw Error($(527,Wh,"19.2.3"));ye.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=_p(t),e=e!==null?lm(e):null,e=e===null?null:e.stateNode,e};var s2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Ar=cl.inject(s2),yt=cl}catch{}}Si.createRoot=function(e,t){if(!am(e))throw Error($(299));var n=!1,s="",r=M0,l=_0,i=R0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zg(e,1,!1,null,null,n,s,null,r,l,i,Hg),e[ys]=t.current,Ku(e),new nd(t)};Si.hydrateRoot=function(e,t,n){if(!am(e))throw Error($(299));var s=!1,r="",l=M0,i=_0,c=R0,o=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=zg(e,1,!0,t,n??null,s,r,o,l,i,c,Hg),t.context=Lg(null),n=t.current,s=vt(),s=uu(s),r=Fn(s),r.callback=null,Gn(n,r,s),n=s,t.current.lanes=n,kr(t,n),an(t),e[ys]=t.current,Ku(e),new Hi(t)};Si.version="19.2.3";function $g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($g)}catch(e){console.error(e)}}$g(),Kf.exports=Si;var r2=Kf.exports;const l2=If(r2);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ef="popstate";function i2(e={}){function t(s,r){let{pathname:l,search:i,hash:c}=s.location;return qo("",{pathname:l,search:i,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:wr(r)}return o2(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c2(){return Math.random().toString(36).substring(2,10)}function tf(e,t){return{usr:e.state,key:e.key,idx:t}}function qo(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cs(t):t,state:n,key:t&&t.key||s||c2()}}function wr({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function o2(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,i=r.history,c="POP",o=null,d=f();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function f(){return(i.state||{idx:null}).idx}function h(){c="POP";let w=f(),y=w==null?null:w-d;d=w,o&&o({action:c,location:S.location,delta:y})}function p(w,y){c="PUSH";let u=qo(S.location,w,y);d=f()+1;let m=tf(u,d),j=S.createHref(u);try{i.pushState(m,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(j)}l&&o&&o({action:c,location:S.location,delta:1})}function x(w,y){c="REPLACE";let u=qo(S.location,w,y);d=f();let m=tf(u,d),j=S.createHref(u);i.replaceState(m,"",j),l&&o&&o({action:c,location:S.location,delta:0})}function v(w){return u2(w)}let S={get action(){return c},get location(){return e(r,i)},listen(w){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(ef,h),o=w,()=>{r.removeEventListener(ef,h),o=null}},createHref(w){return t(r,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:x,go(w){return i.go(w)}};return S}function u2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),De(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:wr(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function qg(e,t,n="/"){return d2(e,t,n,!1)}function d2(e,t,n,s){let r=typeof t=="string"?Cs(t):t,l=Cn(r.pathname||"/",n);if(l==null)return null;let i=Fg(e);h2(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let d=w2(l);c=j2(i[o],d,s)}return c}function Fg(e,t=[],n=[],s="",r=!1){let l=(i,c,o=r,d)=>{let f={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&o)return;De(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let h=yn([s,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&(De(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Fg(i.children,t,p,h,o)),!(i.path==null&&!i.index)&&t.push({path:h,score:b2(h,i.index),routesMeta:p})};return e.forEach((i,c)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))l(i,c);else for(let d of Gg(i.path))l(i,c,!0,d)}),t}function Gg(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let i=Gg(s.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),r&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function h2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:v2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var f2=/^:[\w-]+$/,m2=3,g2=2,x2=1,p2=10,y2=-2,nf=e=>e==="*";function b2(e,t){let n=e.split("/"),s=n.length;return n.some(nf)&&(s+=y2),t&&(s+=g2),n.filter(r=>!nf(r)).reduce((r,l)=>r+(f2.test(l)?m2:l===""?x2:p2),s)}function v2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function j2(e,t,n=!1){let{routesMeta:s}=e,r={},l="/",i=[];for(let c=0;c<s.length;++c){let o=s[c],d=c===s.length-1,f=l==="/"?t:t.slice(l.length)||"/",h=hi({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},f),p=o.route;if(!h&&d&&n&&!s[s.length-1].route.index&&(h=hi({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},f)),!h)return null;Object.assign(r,h.params),i.push({params:r,pathname:yn([l,h.pathname]),pathnameBase:E2(yn([l,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(l=yn([l,h.pathnameBase]))}return i}function hi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=N2(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let l=r[0],i=l.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:s.reduce((d,{paramName:f,isOptional:h},p)=>{if(f==="*"){let v=c[p]||"";i=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[p];return h&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function N2(e,t=!1,n=!0){wt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function w2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var Qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S2=e=>Qg.test(e);function C2(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Cs(e):e,l;if(n)if(S2(n))l=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${n}`)}n.startsWith("/")?l=af(n.substring(1),"/"):l=af(n,t)}else l=t;return{pathname:l,search:A2(s),hash:O2(r)}}function af(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Lc(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ad(e){let t=T2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function sd(e,t,n,s=!1){let r;typeof e=="string"?r=Cs(e):(r={...e},De(!r.pathname||!r.pathname.includes("?"),Lc("?","pathname","search",r)),De(!r.pathname||!r.pathname.includes("#"),Lc("#","pathname","hash",r)),De(!r.search||!r.search.includes("#"),Lc("#","search","hash",r)));let l=e===""||r.pathname==="",i=l?"/":r.pathname,c;if(i==null)c=n;else{let h=t.length-1;if(!s&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}c=h>=0?t[h]:"/"}let o=C2(r,c),d=i&&i!=="/"&&i.endsWith("/"),f=(l||i===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(d||f)&&(o.pathname+="/"),o}var yn=e=>e.join("/").replace(/\/\/+/g,"/"),E2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,k2=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function D2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function M2(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Xg(e,t){let n=e;if(typeof n!="string"||!Qg.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,r=!1;if(Yg)try{let l=new URL(window.location.href),i=n.startsWith("//")?new URL(l.protocol+n):new URL(n),c=Cn(i.pathname,t);i.origin===l.origin&&c!=null?n=c+i.search+i.hash:r=!0}catch{wt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pg=["POST","PUT","PATCH","DELETE"];new Set(Pg);var _2=["GET",...Pg];new Set(_2);var Ts=g.createContext(null);Ts.displayName="DataRouter";var $i=g.createContext(null);$i.displayName="DataRouterState";var R2=g.createContext(!1),Kg=g.createContext({isTransitioning:!1});Kg.displayName="ViewTransition";var z2=g.createContext(new Map);z2.displayName="Fetchers";var L2=g.createContext(null);L2.displayName="Await";var St=g.createContext(null);St.displayName="Navigation";var Ur=g.createContext(null);Ur.displayName="Location";var It=g.createContext({outlet:null,matches:[],isDataRoute:!1});It.displayName="Route";var rd=g.createContext(null);rd.displayName="RouteError";var Zg="REACT_ROUTER_ERROR",V2="REDIRECT",B2="ROUTE_ERROR_RESPONSE";function U2(e){if(e.startsWith(`${Zg}:${V2}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function I2(e){if(e.startsWith(`${Zg}:${B2}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new k2(t.status,t.statusText,t.data)}catch{}}function H2(e,{relative:t}={}){De(Es(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=g.useContext(St),{hash:r,pathname:l,search:i}=Ir(e,{relative:t}),c=l;return n!=="/"&&(c=l==="/"?n:yn([n,l])),s.createHref({pathname:c,search:i,hash:r})}function Es(){return g.useContext(Ur)!=null}function Gt(){return De(Es(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ur).location}var Jg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wg(e){g.useContext(St).static||g.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=g.useContext(It);return e?n1():$2()}function $2(){De(Es(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Ts),{basename:t,navigator:n}=g.useContext(St),{matches:s}=g.useContext(It),{pathname:r}=Gt(),l=JSON.stringify(ad(s)),i=g.useRef(!1);return Wg(()=>{i.current=!0}),g.useCallback((o,d={})=>{if(wt(i.current,Jg),!i.current)return;if(typeof o=="number"){n.go(o);return}let f=sd(o,JSON.parse(l),r,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,l,r,e])}var q2=g.createContext(null);function F2(e){let t=g.useContext(It).outlet;return g.useMemo(()=>t&&g.createElement(q2.Provider,{value:e},t),[t,e])}function ia(){let{matches:e}=g.useContext(It),t=e[e.length-1];return t?t.params:{}}function Ir(e,{relative:t}={}){let{matches:n}=g.useContext(It),{pathname:s}=Gt(),r=JSON.stringify(ad(n));return g.useMemo(()=>sd(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function G2(e,t){return ex(e,t)}function ex(e,t,n,s,r){var u;De(Es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=g.useContext(St),{matches:i}=g.useContext(It),c=i[i.length-1],o=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",h=c&&c.route;{let m=h&&h.path||"";nx(d,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let p=Gt(),x;if(t){let m=typeof t=="string"?Cs(t):t;De(f==="/"||((u=m.pathname)==null?void 0:u.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${m.pathname}" was given in the \`location\` prop.`),x=m}else x=p;let v=x.pathname||"/",S=v;if(f!=="/"){let m=f.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=qg(e,{pathname:S});wt(h||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),wt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=K2(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:yn([f,l.encodeLocation?l.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?f:yn([f,l.encodeLocation?l.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),i,n,s,r);return t&&y?g.createElement(Ur.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},y):y}function Q2(){let e=t1(),t=D2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:l},"ErrorBoundary")," or"," ",g.createElement("code",{style:l},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:r},n):null,i)}var Y2=g.createElement(Q2,null),tx=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=I2(e.digest);n&&(e=n)}let t=e!==void 0?g.createElement(It.Provider,{value:this.props.routeContext},g.createElement(rd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?g.createElement(X2,{error:e},t):t}};tx.contextType=R2;var Vc=new WeakMap;function X2({children:e,error:t}){let{basename:n}=g.useContext(St);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=U2(t.digest);if(s){let r=Vc.get(t);if(r)throw r;let l=Xg(s.location,n);if(Yg&&!Vc.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Vc.set(t,i),i}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function P2({routeContext:e,match:t,children:n}){let s=g.useContext(Ts);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(It.Provider,{value:e},n)}function K2(e,t=[],n=null,s=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,i=n==null?void 0:n.errors;if(i!=null){let f=l.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);De(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),l=l.slice(0,Math.min(l.length,f+1))}let c=!1,o=-1;if(n)for(let f=0;f<l.length;f++){let h=l[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=f),h.route.id){let{loaderData:p,errors:x}=n,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||v){c=!0,o>=0?l=l.slice(0,o+1):l=[l[0]];break}}}let d=n&&s?(f,h)=>{var p,x;s(f,{location:n.location,params:((x=(p=n.matches)==null?void 0:p[0])==null?void 0:x.params)??{},unstable_pattern:M2(n.matches),errorInfo:h})}:void 0;return l.reduceRight((f,h,p)=>{let x,v=!1,S=null,w=null;n&&(x=i&&h.route.id?i[h.route.id]:void 0,S=h.route.errorElement||Y2,c&&(o<0&&p===0?(nx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):o===p&&(v=!0,w=h.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,p+1)),u=()=>{let m;return x?m=S:v?m=w:h.route.Component?m=g.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=f,g.createElement(P2,{match:h,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?g.createElement(tx,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:u(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:d}):u()},null)}function ld(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z2(e){let t=g.useContext(Ts);return De(t,ld(e)),t}function J2(e){let t=g.useContext($i);return De(t,ld(e)),t}function W2(e){let t=g.useContext(It);return De(t,ld(e)),t}function id(e){let t=W2(e),n=t.matches[t.matches.length-1];return De(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function e1(){return id("useRouteId")}function t1(){var s;let e=g.useContext(rd),t=J2("useRouteError"),n=id("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function n1(){let{router:e}=Z2("useNavigate"),t=id("useNavigate"),n=g.useRef(!1);return Wg(()=>{n.current=!0}),g.useCallback(async(r,l={})=>{wt(n.current,Jg),n.current&&(typeof r=="number"?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...l}))},[e,t])}var sf={};function nx(e,t,n){!t&&!sf[e]&&(sf[e]=!0,wt(!1,n))}g.memo(a1);function a1({routes:e,future:t,state:n,onError:s}){return ex(e,void 0,n,s,t)}function na({to:e,replace:t,state:n,relative:s}){De(Es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=g.useContext(St);wt(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=g.useContext(It),{pathname:i}=Gt(),c=oe(),o=sd(e,ad(l),i,s==="path"),d=JSON.stringify(o);return g.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:s})},[c,d,s,t,n]),null}function qi(e){return F2(e.context)}function ce(e){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s1({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:l=!1,unstable_useTransitions:i}){De(!Es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),o=g.useMemo(()=>({basename:c,navigator:r,static:l,unstable_useTransitions:i,future:{}}),[c,r,l,i]);typeof n=="string"&&(n=Cs(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=n,v=g.useMemo(()=>{let S=Cn(d,c);return S==null?null:{location:{pathname:S,search:f,hash:h,state:p,key:x},navigationType:s}},[c,d,f,h,p,x,s]);return wt(v!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:g.createElement(St.Provider,{value:o},g.createElement(Ur.Provider,{children:t,value:v}))}function r1({children:e,location:t}){return G2(Fo(e),t)}function Fo(e,t=[]){let n=[];return g.Children.forEach(e,(s,r)=>{if(!g.isValidElement(s))return;let l=[...t,r];if(s.type===g.Fragment){n.push.apply(n,Fo(s.props.children,l));return}De(s.type===ce,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Fo(s.props.children,l)),n.push(i)}),n}var Al="get",Ol="application/x-www-form-urlencoded";function Fi(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function l1(e){return Fi(e)&&e.tagName.toLowerCase()==="button"}function i1(e){return Fi(e)&&e.tagName.toLowerCase()==="form"}function c1(e){return Fi(e)&&e.tagName.toLowerCase()==="input"}function o1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u1(e,t){return e.button===0&&(!t||t==="_self")&&!o1(e)}function Go(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function d1(e,t){let n=Go(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(l=>{n.append(r,l)})}),n}var ol=null;function h1(){if(ol===null)try{new FormData(document.createElement("form"),0),ol=!1}catch{ol=!0}return ol}var f1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bc(e){return e!=null&&!f1.has(e)?(wt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ol}"`),null):e}function m1(e,t){let n,s,r,l,i;if(i1(e)){let c=e.getAttribute("action");s=c?Cn(c,t):null,n=e.getAttribute("method")||Al,r=Bc(e.getAttribute("enctype"))||Ol,l=new FormData(e)}else if(l1(e)||c1(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||c.getAttribute("action");if(s=o?Cn(o,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Al,r=Bc(e.getAttribute("formenctype"))||Bc(c.getAttribute("enctype"))||Ol,l=new FormData(c,e),!h1()){let{name:d,type:f,value:h}=e;if(f==="image"){let p=d?`${d}.`:"";l.append(`${p}x`,"0"),l.append(`${p}y`,"0")}else d&&l.append(d,h)}}else{if(Fi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Al,s=null,r=Ol,i=e}return l&&r==="text/plain"&&(i=l,l=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:l,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function g1(e,t,n,s){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${s}`:r.pathname=`${r.pathname}.${s}`:r.pathname==="/"?r.pathname=`_root.${s}`:t&&Cn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function x1(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function y1(e,t,n){let s=await Promise.all(e.map(async r=>{let l=t.routes[r.route.id];if(l){let i=await x1(l,n);return i.links?i.links():[]}return[]}));return N1(s.flat(1).filter(p1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function rf(e,t,n,s,r,l){let i=(o,d)=>n[d]?o.route.id!==n[d].route.id:!0,c=(o,d)=>{var f;return n[d].pathname!==o.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==o.params["*"]};return l==="assets"?t.filter((o,d)=>i(o,d)||c(o,d)):l==="data"?t.filter((o,d)=>{var h;let f=s.routes[o.route.id];if(!f||!f.hasLoader)return!1;if(i(o,d)||c(o,d))return!0;if(o.route.shouldRevalidate){let p=o.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function b1(e,t,{includeHydrateFallback:n}={}){return v1(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function v1(e){return[...new Set(e)]}function j1(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function N1(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let l=JSON.stringify(j1(r));return n.has(l)||(n.add(l),s.push({key:l,link:r})),s},[])}function ax(){let e=g.useContext(Ts);return cd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function w1(){let e=g.useContext($i);return cd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var od=g.createContext(void 0);od.displayName="FrameworkContext";function sx(){let e=g.useContext(od);return cd(e,"You must render this element inside a <HydratedRouter> element"),e}function S1(e,t){let n=g.useContext(od),[s,r]=g.useState(!1),[l,i]=g.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=t,p=g.useRef(null);g.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let S=y=>{y.forEach(u=>{i(u.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),g.useEffect(()=>{if(s){let S=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(S)}}},[s]);let x=()=>{r(!0)},v=()=>{r(!1),i(!1)};return n?e!=="intent"?[l,p,{}]:[l,p,{onFocus:Bs(c,x),onBlur:Bs(o,v),onMouseEnter:Bs(d,x),onMouseLeave:Bs(f,v),onTouchStart:Bs(h,x)}]:[!1,p,{}]}function Bs(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function C1({page:e,...t}){let{router:n}=ax(),s=g.useMemo(()=>qg(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?g.createElement(E1,{page:e,matches:s,...t}):null}function T1(e){let{manifest:t,routeModules:n}=sx(),[s,r]=g.useState([]);return g.useEffect(()=>{let l=!1;return y1(e,t,n).then(i=>{l||r(i)}),()=>{l=!0}},[e,t,n]),s}function E1({page:e,matches:t,...n}){let s=Gt(),{future:r,manifest:l,routeModules:i}=sx(),{basename:c}=ax(),{loaderData:o,matches:d}=w1(),f=g.useMemo(()=>rf(e,t,d,l,s,"data"),[e,t,d,l,s]),h=g.useMemo(()=>rf(e,t,d,l,s,"assets"),[e,t,d,l,s]),p=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(t.forEach(u=>{var j;let m=l.routes[u.route.id];!m||!m.hasLoader||(!f.some(N=>N.route.id===u.route.id)&&u.route.id in o&&((j=i[u.route.id])!=null&&j.shouldRevalidate)||m.hasClientLoader?w=!0:S.add(u.route.id))}),S.size===0)return[];let y=g1(e,c,r.unstable_trailingSlashAwareDataRequests,"data");return w&&S.size>0&&y.searchParams.set("_routes",t.filter(u=>S.has(u.route.id)).map(u=>u.route.id).join(",")),[y.pathname+y.search]},[c,r.unstable_trailingSlashAwareDataRequests,o,s,l,f,t,e,i]),x=g.useMemo(()=>b1(h,l),[h,l]),v=T1(h);return g.createElement(g.Fragment,null,p.map(S=>g.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),x.map(S=>g.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:w})=>g.createElement("link",{key:S,nonce:n.nonce,...w})))}function A1(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var O1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O1&&(window.__reactRouterVersion="7.12.0")}catch{}function k1({basename:e,children:t,unstable_useTransitions:n,window:s}){let r=g.useRef();r.current==null&&(r.current=i2({window:s,v5Compat:!0}));let l=r.current,[i,c]=g.useState({action:l.action,location:l.location}),o=g.useCallback(d=>{n===!1?c(d):g.startTransition(()=>c(d))},[n]);return g.useLayoutEffect(()=>l.listen(o),[l,o]),g.createElement(s1,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:l,unstable_useTransitions:n})}var rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lx=g.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:l,replace:i,state:c,target:o,to:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p,...x},v){let{basename:S,unstable_useTransitions:w}=g.useContext(St),y=typeof d=="string"&&rx.test(d),u=Xg(d,S);d=u.to;let m=H2(d,{relative:r}),[j,N,O]=S1(s,x),T=R1(d,{replace:i,state:c,target:o,preventScrollReset:f,relative:r,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:w});function b(E){t&&t(E),E.defaultPrevented||T(E)}let C=g.createElement("a",{...x,...O,href:u.absoluteURL||m,onClick:u.isExternal||l?t:b,ref:A1(v,N),target:o,"data-discover":!y&&n==="render"?"true":void 0});return j&&!y?g.createElement(g.Fragment,null,C,g.createElement(C1,{page:m})):C});lx.displayName="Link";var D1=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:l,to:i,viewTransition:c,children:o,...d},f){let h=Ir(i,{relative:d.relative}),p=Gt(),x=g.useContext($i),{navigator:v,basename:S}=g.useContext(St),w=x!=null&&U1(h)&&c===!0,y=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,u=p.pathname,m=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(u=u.toLowerCase(),m=m?m.toLowerCase():null,y=y.toLowerCase()),m&&S&&(m=Cn(m,S)||m);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let N=u===y||!r&&u.startsWith(y)&&u.charAt(j)==="/",O=m!=null&&(m===y||!r&&m.startsWith(y)&&m.charAt(y.length)==="/"),T={isActive:N,isPending:O,isTransitioning:w},b=N?t:void 0,C;typeof s=="function"?C=s(T):C=[s,N?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(T):l;return g.createElement(lx,{...d,"aria-current":b,className:C,ref:f,style:E,to:i,viewTransition:c},typeof o=="function"?o(T):o)});D1.displayName="NavLink";var M1=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:l,method:i=Al,action:c,onSubmit:o,relative:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p,...x},v)=>{let{unstable_useTransitions:S}=g.useContext(St),w=V1(),y=B1(c,{relative:d}),u=i.toLowerCase()==="get"?"get":"post",m=typeof c=="string"&&rx.test(c),j=N=>{if(o&&o(N),N.defaultPrevented)return;N.preventDefault();let O=N.nativeEvent.submitter,T=(O==null?void 0:O.getAttribute("formmethod"))||i,b=()=>w(O||N.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:r,state:l,relative:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p});S&&n!==!1?g.startTransition(()=>b()):b()};return g.createElement("form",{ref:v,method:u,action:y,onSubmit:s?o:j,...x,"data-discover":!m&&e==="render"?"true":void 0})});M1.displayName="Form";function _1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(e){let t=g.useContext(Ts);return De(t,_1(e)),t}function R1(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:c,unstable_useTransitions:o}={}){let d=oe(),f=Gt(),h=Ir(e,{relative:l});return g.useCallback(p=>{if(u1(p,t)){p.preventDefault();let x=n!==void 0?n:wr(f)===wr(h),v=()=>d(e,{replace:x,state:s,preventScrollReset:r,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:c});o?g.startTransition(()=>v()):v()}},[f,d,h,n,s,t,e,r,l,i,c,o])}function cx(e){wt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Go(e)),n=g.useRef(!1),s=Gt(),r=g.useMemo(()=>d1(s.search,n.current?null:t.current),[s.search]),l=oe(),i=g.useCallback((c,o)=>{const d=Go(typeof c=="function"?c(new URLSearchParams(r)):c);n.current=!0,l("?"+d,o)},[l,r]);return[r,i]}var z1=0,L1=()=>`__${String(++z1)}__`;function V1(){let{router:e}=ix("useSubmit"),{basename:t}=g.useContext(St),n=e1(),s=e.fetch,r=e.navigate;return g.useCallback(async(l,i={})=>{let{action:c,method:o,encType:d,formData:f,body:h}=m1(l,t);if(i.navigate===!1){let p=i.fetcherKey||L1();await s(p,n,i.action||c,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||d,flushSync:i.flushSync})}else await r(i.action||c,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,r,t,n])}function B1(e,{relative:t}={}){let{basename:n}=g.useContext(St),s=g.useContext(It);De(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...Ir(e||".",{relative:t})},i=Gt();if(e==null){l.search=i.search;let c=new URLSearchParams(l.search),o=c.getAll("index");if(o.some(f=>f==="")){c.delete("index"),o.filter(h=>h).forEach(h=>c.append("index",h));let f=c.toString();l.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:yn([n,l.pathname])),wr(l)}function U1(e,{relative:t}={}){let n=g.useContext(Kg);De(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ix("useViewTransitionState"),r=Ir(e,{relative:t});if(!n.isTransitioning)return!1;let l=Cn(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=Cn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hi(r.pathname,i)!=null||hi(r.pathname,l)!=null}function I1(){const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==1?a.jsx(na,{to:"/",replace:!0}):a.jsx(qi,{}):a.jsx(na,{to:"/login",replace:!0})}function H1(){const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==3?a.jsx(na,{to:"/",replace:!0}):a.jsx(qi,{}):a.jsx(na,{to:"/login",replace:!0})}function $1(){const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==2?a.jsx(na,{to:"/",replace:!0}):a.jsx(qi,{}):a.jsx(na,{to:"/login",replace:!0})}const q1=()=>{const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==4?(console.log(`StaffGuard - Invalid role: ${e}, required: 4, redirecting to home`),a.jsx(na,{to:"/",replace:!0})):(console.log("StaffGuard - Access granted for staff"),a.jsx(qi,{})):(console.log("StaffGuard - No token found, redirecting to login"),a.jsx(na,{to:"/login",replace:!0}))},tn=Object.create(null);tn.open="0";tn.close="1";tn.ping="2";tn.pong="3";tn.message="4";tn.upgrade="5";tn.noop="6";const kl=Object.create(null);Object.keys(tn).forEach(e=>{kl[tn[e]]=e});const Qo={type:"error",data:"parser error"},ox=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ux=typeof ArrayBuffer=="function",dx=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ud=({type:e,data:t},n,s)=>ox&&t instanceof Blob?n?s(t):lf(t,s):ux&&(t instanceof ArrayBuffer||dx(t))?n?s(t):lf(new Blob([t]),s):s(tn[e]+(t||"")),lf=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function cf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Uc;function F1(e,t){if(ox&&e.data instanceof Blob)return e.data.arrayBuffer().then(cf).then(t);if(ux&&(e.data instanceof ArrayBuffer||dx(e.data)))return t(cf(e.data));ud(e,!1,n=>{Uc||(Uc=new TextEncoder),t(Uc.encode(n))})}const of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<of.length;e++)Qs[of.charCodeAt(e)]=e;const G1=e=>{let t=e.length*.75,n=e.length,s,r=0,l,i,c,o;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),f=new Uint8Array(d);for(s=0;s<n;s+=4)l=Qs[e.charCodeAt(s)],i=Qs[e.charCodeAt(s+1)],c=Qs[e.charCodeAt(s+2)],o=Qs[e.charCodeAt(s+3)],f[r++]=l<<2|i>>4,f[r++]=(i&15)<<4|c>>2,f[r++]=(c&3)<<6|o&63;return d},Q1=typeof ArrayBuffer=="function",dd=(e,t)=>{if(typeof e!="string")return{type:"message",data:hx(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Y1(e.substring(1),t)}:kl[n]?e.length>1?{type:kl[n],data:e.substring(1)}:{type:kl[n]}:Qo},Y1=(e,t)=>{if(Q1){const n=G1(e);return hx(n,t)}else return{base64:!0,data:e}},hx=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},fx="",X1=(e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((l,i)=>{ud(l,!1,c=>{s[i]=c,++r===n&&t(s.join(fx))})})},P1=(e,t)=>{const n=e.split(fx),s=[];for(let r=0;r<n.length;r++){const l=dd(n[r],t);if(s.push(l),l.type==="error")break}return s};function K1(){return new TransformStream({transform(e,t){F1(e,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const l=new DataView(r.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{r=new Uint8Array(9);const l=new DataView(r.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let Ic;function ul(e){return e.reduce((t,n)=>t+n.length,0)}function dl(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)n[r]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function Z1(e,t){Ic||(Ic=new TextDecoder);const n=[];let s=0,r=-1,l=!1;return new TransformStream({transform(i,c){for(n.push(i);;){if(s===0){if(ul(n)<1)break;const o=dl(n,1);l=(o[0]&128)===128,r=o[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(ul(n)<2)break;const o=dl(n,2);r=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),s=3}else if(s===2){if(ul(n)<8)break;const o=dl(n,8),d=new DataView(o.buffer,o.byteOffset,o.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(Qo);break}r=f*Math.pow(2,32)+d.getUint32(4),s=3}else{if(ul(n)<r)break;const o=dl(n,r);c.enqueue(dd(l?o:Ic.decode(o),t)),s=0}if(r===0||r>e){c.enqueue(Qo);break}}}})}const mx=4;function $e(e){if(e)return J1(e)}function J1(e){for(var t in $e.prototype)e[t]=$e.prototype[t];return e}$e.prototype.on=$e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};$e.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};$e.prototype.off=$e.prototype.removeListener=$e.prototype.removeAllListeners=$e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===t||s.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};$e.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,t)}return this};$e.prototype.emitReserved=$e.prototype.emit;$e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};$e.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Gi=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),kt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),W1="arraybuffer";function gx(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const ev=kt.setTimeout,tv=kt.clearTimeout;function Qi(e,t){t.useNativeTimers?(e.setTimeoutFn=ev.bind(kt),e.clearTimeoutFn=tv.bind(kt)):(e.setTimeoutFn=kt.setTimeout.bind(kt),e.clearTimeoutFn=kt.clearTimeout.bind(kt))}const nv=1.33;function av(e){return typeof e=="string"?sv(e):Math.ceil((e.byteLength||e.size)*nv)}function sv(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function xx(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rv(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function lv(e){let t={},n=e.split("&");for(let s=0,r=n.length;s<r;s++){let l=n[s].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class iv extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class hd extends $e{constructor(t){super(),this.writable=!1,Qi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new iv(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=dd(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=rv(t);return n.length?"?"+n:""}}class cv extends hd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};P1(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,X1(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=xx()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let px=!1;try{px=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ov=px;function uv(){}class dv extends cv{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(r,l)=>{this.onError("xhr post error",r,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class en extends $e{constructor(t,n,s){super(),this.createRequest=t,Qi(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=gx(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=en.requestsCount++,en.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=uv,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete en.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}en.requestsCount=0;en.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",uf);else if(typeof addEventListener=="function"){const e="onpagehide"in kt?"pagehide":"unload";addEventListener(e,uf,!1)}}function uf(){for(let e in en.requests)en.requests.hasOwnProperty(e)&&en.requests[e].abort()}const hv=function(){const e=yx({xdomain:!1});return e&&e.responseType!==null}();class fv extends dv{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=hv&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new en(yx,this.uri(),t)}}function yx(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ov))return new XMLHttpRequest}catch{}if(!t)try{return new kt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const bx=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class mv extends hd{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=bx?{}:gx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;ud(s,this.supportsBinary,l=>{try{this.doWrite(s,l)}catch{}r&&Gi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=xx()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Hc=kt.WebSocket||kt.MozWebSocket;class gv extends mv{createSocket(t,n,s){return bx?new Hc(t,n,s):n?new Hc(t,n):new Hc(t)}doWrite(t,n){this.ws.send(n)}}class xv extends hd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Z1(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),r=K1();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const l=()=>{s.read().then(({done:c,value:o})=>{c||(this.onPacket(o),l())}).catch(c=>{})};l();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;this._writer.write(s).then(()=>{r&&Gi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const pv={websocket:gv,webtransport:xv,polling:fv},yv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Yo(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=yv.exec(e||""),l={},i=14;for(;i--;)l[bv[i]]=r[i]||"";return n!=-1&&s!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=vv(l,l.path),l.queryKey=jv(l,l.query),l}function vv(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function jv(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,l){r&&(n[r]=l)}),n}const Xo=typeof addEventListener=="function"&&typeof removeEventListener=="function",Dl=[];Xo&&addEventListener("offline",()=>{Dl.forEach(e=>e())},!1);class Zn extends $e{constructor(t,n){if(super(),this.binaryType=W1,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=Yo(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Yo(n.host).host);Qi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=lv(this.opts.query)),Xo&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Dl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=mx,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Zn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Zn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=av(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Gi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:t,data:n,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(Zn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Xo&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Dl.indexOf(this._offlineEventListener);s!==-1&&Dl.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Zn.protocol=mx;class Nv extends Zn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;Zn.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Zn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function l(){s||(s=!0,f(),n.close(),n=null)}const i=h=>{const p=new Error("probe error: "+h);p.transport=n.name,l(),this.emitReserved("upgradeError",p)};function c(){i("transport closed")}function o(){i("socket closed")}function d(h){n&&h.name!==n.name&&l()}const f=()=>{n.removeListener("open",r),n.removeListener("error",i),n.removeListener("close",c),this.off("close",o),this.off("upgrading",d)};n.once("open",r),n.once("error",i),n.once("close",c),this.once("close",o),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let wv=class extends Nv{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>pv[r]).filter(r=>!!r)),super(t,s)}};function Sv(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Yo(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+t,s.href=s.protocol+"://"+l+(n&&n.port===s.port?"":":"+s.port),s}const Cv=typeof ArrayBuffer=="function",Tv=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,vx=Object.prototype.toString,Ev=typeof Blob=="function"||typeof Blob<"u"&&vx.call(Blob)==="[object BlobConstructor]",Av=typeof File=="function"||typeof File<"u"&&vx.call(File)==="[object FileConstructor]";function fd(e){return Cv&&(e instanceof ArrayBuffer||Tv(e))||Ev&&e instanceof Blob||Av&&e instanceof File}function Ml(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Ml(e[n]))return!0;return!1}if(fd(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ml(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ml(e[n]))return!0;return!1}function Ov(e){const t=[],n=e.data,s=e;return s.data=Po(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Po(e,t){if(!e)return e;if(fd(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Po(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Po(e[s],t));return n}return e}function kv(e,t){return e.data=Ko(e.data,t),delete e.attachments,e}function Ko(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ko(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ko(e[n],t));return e}const jx=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Dv=5;var ie;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ie||(ie={}));class Mv{constructor(t){this.replacer=t}encode(t){return(t.type===ie.EVENT||t.type===ie.ACK)&&Ml(t)?this.encodeAsBinary({type:t.type===ie.EVENT?ie.BINARY_EVENT:ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ie.BINARY_EVENT||t.type===ie.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Ov(t),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}class md extends $e{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===ie.BINARY_EVENT;s||n.type===ie.BINARY_ACK?(n.type=s?ie.EVENT:ie.ACK,this.reconstructor=new _v(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(fd(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(ie[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ie.BINARY_EVENT||s.type===ie.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(l,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(l,n)}else s.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const l=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(md.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ie.CONNECT:return fi(n);case ie.DISCONNECT:return n===void 0;case ie.CONNECT_ERROR:return typeof n=="string"||fi(n);case ie.EVENT:case ie.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&jx.indexOf(n[0])===-1);case ie.ACK:case ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _v{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=kv(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Rv(e){return typeof e=="string"}const zv=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Lv(e){return e===void 0||zv(e)}function fi(e){return Object.prototype.toString.call(e)==="[object Object]"}function Vv(e,t){switch(e){case ie.CONNECT:return t===void 0||fi(t);case ie.DISCONNECT:return t===void 0;case ie.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&jx.indexOf(t[0])===-1);case ie.ACK:return Array.isArray(t);case ie.CONNECT_ERROR:return typeof t=="string"||fi(t);default:return!1}}function Bv(e){return Rv(e.nsp)&&Lv(e.id)&&Vv(e.type,e.data)}const Uv=Object.freeze(Object.defineProperty({__proto__:null,Decoder:md,Encoder:Mv,get PacketType(){return ie},isPacketValid:Bv,protocol:Dv},Symbol.toStringTag,{value:"Module"}));function qt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Iv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Nx extends $e{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[qt(t,"open",this.onopen.bind(this)),qt(t,"packet",this.onpacket.bind(this)),qt(t,"error",this.onerror.bind(this)),qt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,r,l;if(Iv.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:ie.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,h=n.pop();this._registerAckCallback(f,h),i.id=f}const c=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,o=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!c||(o?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},r),i=(...c)=>{this.io.clearTimeoutFn(l),n.apply(this,c)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,r)=>{const l=(i,c)=>i?r(i):s(c);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...l)=>(this._queue[0],r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ie.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ie.EVENT:case ie.BINARY_EVENT:this.onevent(t);break;case ie.ACK:case ie.BINARY_ACK:this.onack(t);break;case ie.DISCONNECT:this.ondisconnect();break;case ie.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:ie.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function As(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}As.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};As.prototype.reset=function(){this.attempts=0};As.prototype.setMin=function(e){this.ms=e};As.prototype.setMax=function(e){this.max=e};As.prototype.setJitter=function(e){this.jitter=e};class Zo extends $e{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Qi(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new As({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||Uv;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new wv(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=qt(n,"open",function(){s.onopen(),t&&t()}),l=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},i=qt(n,"error",l);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{r(),l(new Error("timeout")),n.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(qt(t,"ping",this.onping.bind(this)),qt(t,"data",this.ondata.bind(this)),qt(t,"error",this.onerror.bind(this)),qt(t,"close",this.onclose.bind(this)),qt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Gi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Nx(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Us={};function _l(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Sv(e,t.path||"/socket.io"),s=n.source,r=n.id,l=n.path,i=Us[r]&&l in Us[r].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let o;return c?o=new Zo(s,t):(Us[r]||(Us[r]=new Zo(s,t)),o=Us[r]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(_l,{Manager:Zo,Socket:Nx,io:_l,connect:_l});const pe="",Hv="",wx=g.createContext(),gd=()=>g.useContext(wx),$v=({children:e})=>{const[t,n]=g.useState(null),[s,r]=g.useState(!1),[l,i]=g.useState(()=>JSON.parse(sessionStorage.getItem("account")));return g.useEffect(()=>{const c=()=>{i(JSON.parse(sessionStorage.getItem("account")))};window.addEventListener("storage",c);const o=()=>c();return window.addEventListener("account-update",o),()=>{window.removeEventListener("storage",c),window.removeEventListener("account-update",o)}},[]),g.useEffect(()=>{const c=_l(Hv,{transports:["websocket","polling"],withCredentials:!0});return c.on("connect",()=>{console.log("Socket connected:",c.id),r(!0)}),c.on("disconnect",()=>{console.log("Socket disconnected"),r(!1)}),n(c),()=>{c.disconnect()}},[]),g.useEffect(()=>{t&&s&&(l!=null&&l.AccountId)&&(t.emit("registerUser",l.AccountId),console.log("Registered user",l.AccountId))},[t,s,l==null?void 0:l.AccountId]),a.jsx(wx.Provider,{value:{socket:t,isConnected:s},children:e})};function Sx(e,t){return function(){return e.apply(t,arguments)}}const{toString:qv}=Object.prototype,{getPrototypeOf:xd}=Object,{iterator:Yi,toStringTag:Cx}=Symbol,Xi=(e=>t=>{const n=qv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qt=e=>(e=e.toLowerCase(),t=>Xi(t)===e),Pi=e=>t=>typeof t===e,{isArray:Os}=Array,gs=Pi("undefined");function Hr(e){return e!==null&&!gs(e)&&e.constructor!==null&&!gs(e.constructor)&&ot(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Tx=Qt("ArrayBuffer");function Fv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Tx(e.buffer),t}const Gv=Pi("string"),ot=Pi("function"),Ex=Pi("number"),$r=e=>e!==null&&typeof e=="object",Qv=e=>e===!0||e===!1,Rl=e=>{if(Xi(e)!=="object")return!1;const t=xd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cx in e)&&!(Yi in e)},Yv=e=>{if(!$r(e)||Hr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xv=Qt("Date"),Pv=Qt("File"),Kv=Qt("Blob"),Zv=Qt("FileList"),Jv=e=>$r(e)&&ot(e.pipe),Wv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ot(e.append)&&((t=Xi(e))==="formdata"||t==="object"&&ot(e.toString)&&e.toString()==="[object FormData]"))},ej=Qt("URLSearchParams"),[tj,nj,aj,sj]=["ReadableStream","Request","Response","Headers"].map(Qt),rj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Os(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(Hr(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let c;for(s=0;s<i;s++)c=l[s],t.call(null,e[c],c,e)}}function Ax(e,t){if(Hr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ox=e=>!gs(e)&&e!==ga;function Jo(){const{caseless:e,skipUndefined:t}=Ox(this)&&this||{},n={},s=(r,l)=>{const i=e&&Ax(n,l)||l;Rl(n[i])&&Rl(r)?n[i]=Jo(n[i],r):Rl(r)?n[i]=Jo({},r):Os(r)?n[i]=r.slice():(!t||!gs(r))&&(n[i]=r)};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&qr(arguments[r],s);return n}const lj=(e,t,n,{allOwnKeys:s}={})=>(qr(t,(r,l)=>{n&&ot(r)?e[l]=Sx(r,n):e[l]=r},{allOwnKeys:s}),e),ij=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cj=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},oj=(e,t,n,s)=>{let r,l,i;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)i=r[l],(!s||s(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=n!==!1&&xd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},uj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},dj=e=>{if(!e)return null;if(Os(e))return e;let t=e.length;if(!Ex(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},hj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xd(Uint8Array)),fj=(e,t)=>{const s=(e&&e[Yi]).call(e);let r;for(;(r=s.next())&&!r.done;){const l=r.value;t.call(e,l[0],l[1])}},mj=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},gj=Qt("HTMLFormElement"),xj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),df=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),pj=Qt("RegExp"),kx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};qr(n,(r,l)=>{let i;(i=t(r,l,e))!==!1&&(s[l]=i||r)}),Object.defineProperties(e,s)},yj=e=>{kx(e,(t,n)=>{if(ot(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(ot(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bj=(e,t)=>{const n={},s=r=>{r.forEach(l=>{n[l]=!0})};return Os(e)?s(e):s(String(e).split(t)),n},vj=()=>{},jj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Nj(e){return!!(e&&ot(e.append)&&e[Cx]==="FormData"&&e[Yi])}const wj=e=>{const t=new Array(10),n=(s,r)=>{if($r(s)){if(t.indexOf(s)>=0)return;if(Hr(s))return s;if(!("toJSON"in s)){t[r]=s;const l=Os(s)?[]:{};return qr(s,(i,c)=>{const o=n(i,r+1);!gs(o)&&(l[c]=o)}),t[r]=void 0,l}}return s};return n(e,0)},Sj=Qt("AsyncFunction"),Cj=e=>e&&($r(e)||ot(e))&&ot(e.then)&&ot(e.catch),Dx=((e,t)=>e?setImmediate:t?((n,s)=>(ga.addEventListener("message",({source:r,data:l})=>{r===ga&&l===n&&s.length&&s.shift()()},!1),r=>{s.push(r),ga.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ot(ga.postMessage)),Tj=typeof queueMicrotask<"u"?queueMicrotask.bind(ga):typeof process<"u"&&process.nextTick||Dx,Ej=e=>e!=null&&ot(e[Yi]),R={isArray:Os,isArrayBuffer:Tx,isBuffer:Hr,isFormData:Wv,isArrayBufferView:Fv,isString:Gv,isNumber:Ex,isBoolean:Qv,isObject:$r,isPlainObject:Rl,isEmptyObject:Yv,isReadableStream:tj,isRequest:nj,isResponse:aj,isHeaders:sj,isUndefined:gs,isDate:Xv,isFile:Pv,isBlob:Kv,isRegExp:pj,isFunction:ot,isStream:Jv,isURLSearchParams:ej,isTypedArray:hj,isFileList:Zv,forEach:qr,merge:Jo,extend:lj,trim:rj,stripBOM:ij,inherits:cj,toFlatObject:oj,kindOf:Xi,kindOfTest:Qt,endsWith:uj,toArray:dj,forEachEntry:fj,matchAll:mj,isHTMLForm:gj,hasOwnProperty:df,hasOwnProp:df,reduceDescriptors:kx,freezeMethods:yj,toObjectSet:bj,toCamelCase:xj,noop:vj,toFiniteNumber:jj,findKey:Ax,global:ga,isContextDefined:Ox,isSpecCompliantForm:Nj,toJSONObject:wj,isAsyncFn:Sj,isThenable:Cj,setImmediate:Dx,asap:Tj,isIterable:Ej};function re(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}R.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const Mx=re.prototype,_x={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_x[e]={value:e}});Object.defineProperties(re,_x);Object.defineProperty(Mx,"isAxiosError",{value:!0});re.from=(e,t,n,s,r,l)=>{const i=Object.create(Mx);R.toFlatObject(e,i,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",o=t==null&&e?e.code:t;return re.call(i,c,o,n,s,r),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Aj=null;function Wo(e){return R.isPlainObject(e)||R.isArray(e)}function Rx(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function hf(e,t,n){return e?e.concat(t).map(function(r,l){return r=Rx(r),!n&&l?"["+r+"]":r}).join(n?".":""):t}function Oj(e){return R.isArray(e)&&!e.some(Wo)}const kj=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function Ki(e,t,n){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!R.isUndefined(w[S])});const s=n.metaTokens,r=n.visitor||f,l=n.dots,i=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(r))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(R.isDate(v))return v.toISOString();if(R.isBoolean(v))return v.toString();if(!o&&R.isBlob(v))throw new re("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(v)||R.isTypedArray(v)?o&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,S,w){let y=v;if(v&&!w&&typeof v=="object"){if(R.endsWith(S,"{}"))S=s?S:S.slice(0,-2),v=JSON.stringify(v);else if(R.isArray(v)&&Oj(v)||(R.isFileList(v)||R.endsWith(S,"[]"))&&(y=R.toArray(v)))return S=Rx(S),y.forEach(function(m,j){!(R.isUndefined(m)||m===null)&&t.append(i===!0?hf([S],j,l):i===null?S:S+"[]",d(m))}),!1}return Wo(v)?!0:(t.append(hf(w,S,l),d(v)),!1)}const h=[],p=Object.assign(kj,{defaultVisitor:f,convertValue:d,isVisitable:Wo});function x(v,S){if(!R.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+S.join("."));h.push(v),R.forEach(v,function(y,u){(!(R.isUndefined(y)||y===null)&&r.call(t,y,R.isString(u)?u.trim():u,S,p))===!0&&x(y,S?S.concat(u):[u])}),h.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return x(e),t}function ff(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function pd(e,t){this._pairs=[],e&&Ki(e,this,t)}const zx=pd.prototype;zx.append=function(t,n){this._pairs.push([t,n])};zx.toString=function(t){const n=t?function(s){return t.call(this,s,ff)}:ff;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Dj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Lx(e,t,n){if(!t)return e;const s=n&&n.encode||Dj;R.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let l;if(r?l=r(t,n):l=R.isURLSearchParams(t)?t.toString():new pd(t,n).toString(s),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class mf{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Vx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mj=typeof URLSearchParams<"u"?URLSearchParams:pd,_j=typeof FormData<"u"?FormData:null,Rj=typeof Blob<"u"?Blob:null,zj={isBrowser:!0,classes:{URLSearchParams:Mj,FormData:_j,Blob:Rj},protocols:["http","https","file","blob","url","data"]},yd=typeof window<"u"&&typeof document<"u",eu=typeof navigator=="object"&&navigator||void 0,Lj=yd&&(!eu||["ReactNative","NativeScript","NS"].indexOf(eu.product)<0),Vj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bj=yd&&window.location.href||"http://localhost",Uj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yd,hasStandardBrowserEnv:Lj,hasStandardBrowserWebWorkerEnv:Vj,navigator:eu,origin:Bj},Symbol.toStringTag,{value:"Module"})),We={...Uj,...zj};function Ij(e,t){return Ki(e,new We.classes.URLSearchParams,{visitor:function(n,s,r,l){return We.isNode&&R.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Hj(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $j(e){const t={},n=Object.keys(e);let s;const r=n.length;let l;for(s=0;s<r;s++)l=n[s],t[l]=e[l];return t}function Bx(e){function t(n,s,r,l){let i=n[l++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),o=l>=n.length;return i=!i&&R.isArray(r)?r.length:i,o?(R.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!c):((!r[i]||!R.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],l)&&R.isArray(r[i])&&(r[i]=$j(r[i])),!c)}if(R.isFormData(e)&&R.isFunction(e.entries)){const n={};return R.forEachEntry(e,(s,r)=>{t(Hj(s),r,n,0)}),n}return null}function qj(e,t,n){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Fr={transitional:Vx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,l=R.isObject(t);if(l&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return r?JSON.stringify(Bx(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ij(t,this.formSerializer).toString();if((c=R.isFileList(t))||s.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return Ki(c?{"files[]":t}:t,o&&new o,this.formSerializer)}}return l||r?(n.setContentType("application/json",!1),qj(t)):t}],transformResponse:[function(t){const n=this.transitional||Fr.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?re.from(c,re.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Fr.headers[e]={}});const Fj=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gj=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&Fj[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},gf=Symbol("internals");function Is(e){return e&&String(e).trim().toLowerCase()}function zl(e){return e===!1||e==null?e:R.isArray(e)?e.map(zl):String(e)}function Qj(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Yj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $c(e,t,n,s,r){if(R.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!R.isString(t)){if(R.isString(s))return t.indexOf(s)!==-1;if(R.isRegExp(s))return s.test(t)}}function Xj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Pj(e,t){const n=R.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,l,i){return this[s].call(this,t,r,l,i)},configurable:!0})})}let ut=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function l(c,o,d){const f=Is(o);if(!f)throw new Error("header name must be a non-empty string");const h=R.findKey(r,f);(!h||r[h]===void 0||d===!0||d===void 0&&r[h]!==!1)&&(r[h||o]=zl(c))}const i=(c,o)=>R.forEach(c,(d,f)=>l(d,f,o));if(R.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(R.isString(t)&&(t=t.trim())&&!Yj(t))i(Gj(t),n);else if(R.isObject(t)&&R.isIterable(t)){let c={},o,d;for(const f of t){if(!R.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(o=c[d])?R.isArray(o)?[...o,f[1]]:[o,f[1]]:f[1]}i(c,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=Is(t),t){const s=R.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return Qj(r);if(R.isFunction(n))return n.call(this,r,s);if(R.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Is(t),t){const s=R.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||$c(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function l(i){if(i=Is(i),i){const c=R.findKey(s,i);c&&(!n||$c(s,s[c],c,n))&&(delete s[c],r=!0)}}return R.isArray(t)?t.forEach(l):l(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const l=n[s];(!t||$c(this,this[l],l,t,!0))&&(delete this[l],r=!0)}return r}normalize(t){const n=this,s={};return R.forEach(this,(r,l)=>{const i=R.findKey(s,l);if(i){n[i]=zl(r),delete n[l];return}const c=t?Xj(l):String(l).trim();c!==l&&delete n[l],n[c]=zl(r),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return R.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&R.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[gf]=this[gf]={accessors:{}}).accessors,r=this.prototype;function l(i){const c=Is(i);s[c]||(Pj(r,i),s[c]=!0)}return R.isArray(t)?t.forEach(l):l(t),this}};ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(ut.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});R.freezeMethods(ut);function qc(e,t){const n=this||Fr,s=t||n,r=ut.from(s.headers);let l=s.data;return R.forEach(e,function(c){l=c.call(n,l,r.normalize(),t?t.status:void 0)}),r.normalize(),l}function Ux(e){return!!(e&&e.__CANCEL__)}function ks(e,t,n){re.call(this,e??"canceled",re.ERR_CANCELED,t,n),this.name="CanceledError"}R.inherits(ks,re,{__CANCEL__:!0});function Ix(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Zj(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,l=0,i;return t=t!==void 0?t:1e3,function(o){const d=Date.now(),f=s[l];i||(i=d),n[r]=o,s[r]=d;let h=l,p=0;for(;h!==r;)p+=n[h++],h=h%e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),d-i<t)return;const x=f&&d-f;return x?Math.round(p*1e3/x):void 0}}function Jj(e,t){let n=0,s=1e3/t,r,l;const i=(d,f=Date.now())=>{n=f,r=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=s?i(d,f):(r=d,l||(l=setTimeout(()=>{l=null,i(r)},s-h)))},()=>r&&i(r)]}const mi=(e,t,n=3)=>{let s=0;const r=Zj(50,250);return Jj(l=>{const i=l.loaded,c=l.lengthComputable?l.total:void 0,o=i-s,d=r(o),f=i<=c;s=i;const h={loaded:i,total:c,progress:c?i/c:void 0,bytes:o,rate:d||void 0,estimated:d&&c&&f?(c-i)/d:void 0,event:l,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},n)},xf=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},pf=e=>(...t)=>R.asap(()=>e(...t)),Wj=We.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,We.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,eN=We.hasStandardBrowserEnv?{write(e,t,n,s,r,l,i){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];R.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),R.isString(s)&&c.push(`path=${s}`),R.isString(r)&&c.push(`domain=${r}`),l===!0&&c.push("secure"),R.isString(i)&&c.push(`SameSite=${i}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Hx(e,t,n){let s=!tN(t);return e&&(s||n==!1)?nN(e,t):t}const yf=e=>e instanceof ut?{...e}:e;function Ea(e,t){t=t||{};const n={};function s(d,f,h,p){return R.isPlainObject(d)&&R.isPlainObject(f)?R.merge.call({caseless:p},d,f):R.isPlainObject(f)?R.merge({},f):R.isArray(f)?f.slice():f}function r(d,f,h,p){if(R.isUndefined(f)){if(!R.isUndefined(d))return s(void 0,d,h,p)}else return s(d,f,h,p)}function l(d,f){if(!R.isUndefined(f))return s(void 0,f)}function i(d,f){if(R.isUndefined(f)){if(!R.isUndefined(d))return s(void 0,d)}else return s(void 0,f)}function c(d,f,h){if(h in t)return s(d,f);if(h in e)return s(void 0,d)}const o={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(d,f,h)=>r(yf(d),yf(f),h,!0)};return R.forEach(Object.keys({...e,...t}),function(f){const h=o[f]||r,p=h(e[f],t[f],f);R.isUndefined(p)&&h!==c||(n[f]=p)}),n}const $x=e=>{const t=Ea({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:l,headers:i,auth:c}=t;if(t.headers=i=ut.from(i),t.url=Lx(Hx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),R.isFormData(n)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(R.isFunction(n.getHeaders)){const o=n.getHeaders(),d=["content-type","content-length"];Object.entries(o).forEach(([f,h])=>{d.includes(f.toLowerCase())&&i.set(f,h)})}}if(We.hasStandardBrowserEnv&&(s&&R.isFunction(s)&&(s=s(t)),s||s!==!1&&Wj(t.url))){const o=r&&l&&eN.read(l);o&&i.set(r,o)}return t},aN=typeof XMLHttpRequest<"u",sN=aN&&function(e){return new Promise(function(n,s){const r=$x(e);let l=r.data;const i=ut.from(r.headers).normalize();let{responseType:c,onUploadProgress:o,onDownloadProgress:d}=r,f,h,p,x,v;function S(){x&&x(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function y(){if(!w)return;const m=ut.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:m,config:e,request:w};Ix(function(T){n(T),S()},function(T){s(T),S()},N),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(s(new re("Request aborted",re.ECONNABORTED,e,w)),w=null)},w.onerror=function(j){const N=j&&j.message?j.message:"Network Error",O=new re(N,re.ERR_NETWORK,e,w);O.event=j||null,s(O),w=null},w.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||Vx;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),s(new re(j,N.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,w)),w=null},l===void 0&&i.setContentType(null),"setRequestHeader"in w&&R.forEach(i.toJSON(),function(j,N){w.setRequestHeader(N,j)}),R.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),c&&c!=="json"&&(w.responseType=r.responseType),d&&([p,v]=mi(d,!0),w.addEventListener("progress",p)),o&&w.upload&&([h,x]=mi(o),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",x)),(r.cancelToken||r.signal)&&(f=m=>{w&&(s(!m||m.type?new ks(null,e,w):m),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const u=Kj(r.url);if(u&&We.protocols.indexOf(u)===-1){s(new re("Unsupported protocol "+u+":",re.ERR_BAD_REQUEST,e));return}w.send(l||null)})},rN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const l=function(d){if(!r){r=!0,c();const f=d instanceof Error?d:this.reason;s.abort(f instanceof re?f:new ks(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,l(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:o}=s;return o.unsubscribe=()=>R.asap(c),o}},lN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},iN=async function*(e,t){for await(const n of cN(e))yield*lN(n,t)},cN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},bf=(e,t,n,s)=>{const r=iN(e,t);let l=0,i,c=o=>{i||(i=!0,s&&s(o))};return new ReadableStream({async pull(o){try{const{done:d,value:f}=await r.next();if(d){c(),o.close();return}let h=f.byteLength;if(n){let p=l+=h;n(p)}o.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(o){return c(o),r.return()}},{highWaterMark:2})},vf=64*1024,{isFunction:hl}=R,oN=(({Request:e,Response:t})=>({Request:e,Response:t}))(R.global),{ReadableStream:jf,TextEncoder:Nf}=R.global,wf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},uN=e=>{e=R.merge.call({skipUndefined:!0},oN,e);const{fetch:t,Request:n,Response:s}=e,r=t?hl(t):typeof fetch=="function",l=hl(n),i=hl(s);if(!r)return!1;const c=r&&hl(jf),o=r&&(typeof Nf=="function"?(v=>S=>v.encode(S))(new Nf):async v=>new Uint8Array(await new n(v).arrayBuffer())),d=l&&c&&wf(()=>{let v=!1;const S=new n(We.origin,{body:new jf,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!S}),f=i&&c&&wf(()=>R.isReadableStream(new s("").body)),h={stream:f&&(v=>v.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(S,w)=>{let y=S&&S[v];if(y)return y.call(S);throw new re(`Response type '${v}' is not supported`,re.ERR_NOT_SUPPORT,w)})});const p=async v=>{if(v==null)return 0;if(R.isBlob(v))return v.size;if(R.isSpecCompliantForm(v))return(await new n(We.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(R.isArrayBufferView(v)||R.isArrayBuffer(v))return v.byteLength;if(R.isURLSearchParams(v)&&(v=v+""),R.isString(v))return(await o(v)).byteLength},x=async(v,S)=>{const w=R.toFiniteNumber(v.getContentLength());return w??p(S)};return async v=>{let{url:S,method:w,data:y,signal:u,cancelToken:m,timeout:j,onDownloadProgress:N,onUploadProgress:O,responseType:T,headers:b,withCredentials:C="same-origin",fetchOptions:E}=$x(v),D=t||fetch;T=T?(T+"").toLowerCase():"text";let M=rN([u,m&&m.toAbortSignal()],j),B=null;const H=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let K;try{if(O&&d&&w!=="get"&&w!=="head"&&(K=await x(b,y))!==0){let ae=new n(S,{method:"POST",body:y,duplex:"half"}),z;if(R.isFormData(y)&&(z=ae.headers.get("content-type"))&&b.setContentType(z),ae.body){const[Y,k]=xf(K,mi(pf(O)));y=bf(ae.body,vf,Y,k)}}R.isString(C)||(C=C?"include":"omit");const V=l&&"credentials"in n.prototype,_={...E,signal:M,method:w.toUpperCase(),headers:b.normalize().toJSON(),body:y,duplex:"half",credentials:V?C:void 0};B=l&&new n(S,_);let U=await(l?D(B,E):D(S,_));const J=f&&(T==="stream"||T==="response");if(f&&(N||J&&H)){const ae={};["status","statusText","headers"].forEach(L=>{ae[L]=U[L]});const z=R.toFiniteNumber(U.headers.get("content-length")),[Y,k]=N&&xf(z,mi(pf(N),!0))||[];U=new s(bf(U.body,vf,Y,()=>{k&&k(),H&&H()}),ae)}T=T||"text";let ee=await h[R.findKey(h,T)||"text"](U,v);return!J&&H&&H(),await new Promise((ae,z)=>{Ix(ae,z,{data:ee,headers:ut.from(U.headers),status:U.status,statusText:U.statusText,config:v,request:B})})}catch(V){throw H&&H(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,v,B),{cause:V.cause||V}):re.from(V,V&&V.code,v,B)}}},dN=new Map,qx=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:r}=t,l=[s,r,n];let i=l.length,c=i,o,d,f=dN;for(;c--;)o=l[c],d=f.get(o),d===void 0&&f.set(o,d=c?new Map:uN(t)),f=d;return d};qx();const bd={http:Aj,xhr:sN,fetch:{get:qx}};R.forEach(bd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Sf=e=>`- ${e}`,hN=e=>R.isFunction(e)||e===null||e===!1;function fN(e,t){e=R.isArray(e)?e:[e];const{length:n}=e;let s,r;const l={};for(let i=0;i<n;i++){s=e[i];let c;if(r=s,!hN(s)&&(r=bd[(c=String(s)).toLowerCase()],r===void 0))throw new re(`Unknown adapter '${c}'`);if(r&&(R.isFunction(r)||(r=r.get(t))))break;l[c||"#"+i]=r}if(!r){const i=Object.entries(l).map(([o,d])=>`adapter ${o} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?i.length>1?`since :
`+i.map(Sf).join(`
`):" "+Sf(i[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r}const Fx={getAdapter:fN,adapters:bd};function Fc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ks(null,e)}function Cf(e){return Fc(e),e.headers=ut.from(e.headers),e.data=qc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Fx.getAdapter(e.adapter||Fr.adapter,e)(e).then(function(s){return Fc(e),s.data=qc.call(e,e.transformResponse,s),s.headers=ut.from(s.headers),s},function(s){return Ux(s)||(Fc(e),s&&s.response&&(s.response.data=qc.call(e,e.transformResponse,s.response),s.response.headers=ut.from(s.response.headers))),Promise.reject(s)})}const Gx="1.13.2",Zi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zi[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Tf={};Zi.transitional=function(t,n,s){function r(l,i){return"[Axios v"+Gx+"] Transitional option '"+l+"'"+i+(s?". "+s:"")}return(l,i,c)=>{if(t===!1)throw new re(r(i," has been removed"+(n?" in "+n:"")),re.ERR_DEPRECATED);return n&&!Tf[i]&&(Tf[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,i,c):!0}};Zi.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function mN(e,t,n){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const l=s[r],i=t[l];if(i){const c=e[l],o=c===void 0||i(c,l,e);if(o!==!0)throw new re("option "+l+" must be "+o,re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new re("Unknown option "+l,re.ERR_BAD_OPTION)}}const Ll={assertOptions:mN,validators:Zi},Yt=Ll.validators;let ja=class{constructor(t){this.defaults=t||{},this.interceptors={request:new mf,response:new mf}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const l=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ea(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:l}=n;s!==void 0&&Ll.assertOptions(s,{silentJSONParsing:Yt.transitional(Yt.boolean),forcedJSONParsing:Yt.transitional(Yt.boolean),clarifyTimeoutError:Yt.transitional(Yt.boolean)},!1),r!=null&&(R.isFunction(r)?n.paramsSerializer={serialize:r}:Ll.assertOptions(r,{encode:Yt.function,serialize:Yt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ll.assertOptions(n,{baseUrl:Yt.spelling("baseURL"),withXsrfToken:Yt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=l&&R.merge(l.common,l[n.method]);l&&R.forEach(["delete","get","head","post","put","patch","common"],v=>{delete l[v]}),n.headers=ut.concat(i,l);const c=[];let o=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(o=o&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let f,h=0,p;if(!o){const v=[Cf.bind(this),void 0];for(v.unshift(...c),v.push(...d),p=v.length,f=Promise.resolve(n);h<p;)f=f.then(v[h++],v[h++]);return f}p=c.length;let x=n;for(;h<p;){const v=c[h++],S=c[h++];try{x=v(x)}catch(w){S.call(this,w);break}}try{f=Cf.call(this,x)}catch(v){return Promise.reject(v)}for(h=0,p=d.length;h<p;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=Ea(this.defaults,t);const n=Hx(t.baseURL,t.url,t.allowAbsoluteUrls);return Lx(n,t.params,t.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(t){ja.prototype[t]=function(n,s){return this.request(Ea(s||{},{method:t,url:n,data:(s||{}).data}))}});R.forEach(["post","put","patch"],function(t){function n(s){return function(l,i,c){return this.request(Ea(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}ja.prototype[t]=n(),ja.prototype[t+"Form"]=n(!0)});let gN=class Qx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(r=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](r);s._listeners=null}),this.promise.then=r=>{let l;const i=new Promise(c=>{s.subscribe(c),l=c}).then(r);return i.cancel=function(){s.unsubscribe(l)},i},t(function(l,i,c){s.reason||(s.reason=new ks(l,i,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Qx(function(r){t=r}),cancel:t}}};function xN(e){return function(n){return e.apply(null,n)}}function pN(e){return R.isObject(e)&&e.isAxiosError===!0}const tu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tu).forEach(([e,t])=>{tu[t]=e});function Yx(e){const t=new ja(e),n=Sx(ja.prototype.request,t);return R.extend(n,ja.prototype,t,{allOwnKeys:!0}),R.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Yx(Ea(e,r))},n}const ze=Yx(Fr);ze.Axios=ja;ze.CanceledError=ks;ze.CancelToken=gN;ze.isCancel=Ux;ze.VERSION=Gx;ze.toFormData=Ki;ze.AxiosError=re;ze.Cancel=ze.CanceledError;ze.all=function(t){return Promise.all(t)};ze.spread=xN;ze.isAxiosError=pN;ze.mergeConfig=Ea;ze.AxiosHeaders=ut;ze.formToJSON=e=>Bx(R.isHTMLForm(e)?new FormData(e):e);ze.getAdapter=Fx.getAdapter;ze.HttpStatusCode=tu;ze.default=ze;const{Axios:e6,AxiosError:t6,CanceledError:n6,isCancel:a6,CancelToken:s6,VERSION:r6,all:l6,Cancel:i6,isAxiosError:c6,spread:o6,toFormData:u6,AxiosHeaders:d6,HttpStatusCode:h6,formToJSON:f6,getAdapter:m6,mergeConfig:g6}=ze,Q=ze.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0});Q.interceptors.request.use(e=>{const t=sessionStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Q.interceptors.response.use(e=>e,e=>{var t;return console.error("API error:",e),((t=e.response)==null?void 0:t.status)===401&&(sessionStorage.removeItem("token"),sessionStorage.removeItem("account")),Promise.reject(e)});var Xx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ef=Hn.createContext&&Hn.createContext(Xx),yN=["attr","size","title"];function bN(e,t){if(e==null)return{};var n=vN(e,t),s,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function vN(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gi.apply(this,arguments)}function Af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Af(Object(n),!0).forEach(function(s){jN(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jN(e,t,n){return t=NN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NN(e){var t=wN(e,"string");return typeof t=="symbol"?t:t+""}function wN(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Px(e){return e&&e.map((t,n)=>Hn.createElement(t.tag,xi({key:n},t.attr),Px(t.child)))}function be(e){return t=>Hn.createElement(SN,gi({attr:xi({},e.attr)},t),Px(e.child))}function SN(e){var t=n=>{var{attr:s,size:r,title:l}=e,i=bN(e,yN),c=r||n.size||"1em",o;return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),Hn.createElement("svg",gi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,i,{className:o,style:xi(xi({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&Hn.createElement("title",null,l),e.children)};return Ef!==void 0?Hn.createElement(Ef.Consumer,null,n=>t(n)):t(Xx)}function CN(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"},child:[]}]})(e)}function pi(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Kx(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z"},child:[]}]})(e)}function Zx(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Jx(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Wx(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function ir(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Sr(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function TN(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function EN(e){return be({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function xs(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function ep(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function vd(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(e)}function yi(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Cr(e){return be({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function AN(e){return be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Of(e){return be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"},child:[]}]})(e)}function aa(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function ON(e){return be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(e)}function kN(e){return be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(e)}function DN(e){return be({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"},child:[]}]})(e)}const Ji=({call:e,currentUserId:t,isIncoming:n=!1,onEndCall:s,onRejectCall:r,onAcceptCall:l,isOpen:i,socket:c})=>{const[o,d]=g.useState(()=>n?"ringing":(e==null?void 0:e.Status)||"initiated"),[f,h]=g.useState(0),[p,x]=g.useState(!1),[v,S]=g.useState(!0),[w,y]=g.useState(!0),[u,m]=g.useState(null),[j,N]=g.useState(null),O=g.useRef(null),T=g.useRef(null),b=g.useRef(null),C=g.useRef(null),[E,D]=g.useState(!1);g.useEffect(()=>{e&&d(e.Status)},[e]),g.useEffect(()=>(o==="active"?C.current=setInterval(()=>{h(L=>L+1)},1e3):clearInterval(C.current),()=>clearInterval(C.current)),[o]);const M={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]},B=async()=>{try{b.current&&(b.current.close(),b.current=null),b.current=new RTCPeerConnection(M);const L={audio:!0,video:e.Type==="video"?{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}}:!1},P=await navigator.mediaDevices.getUserMedia(L);N(P),O.current&&e.Type==="video"&&(O.current.srcObject=P),P.getTracks().forEach(A=>{b.current&&b.current.addTrack(A,P)}),b.current.ontrack=A=>{T.current&&A.streams[0]&&(T.current.srcObject=A.streams[0],m(A.streams[0]))},b.current.onicecandidate=A=>{A.candidate&&H("ice-candidate",A.candidate)},b.current.onconnectionstatechange=()=>{var A;((A=b.current)==null?void 0:A.connectionState)==="connected"&&d("active")},D(!0)}catch(L){console.error("WebRTC init error:",L),D(!1),alert("Khng th truy cp microphone/camera. Vui lng kim tra quyn truy cp."),V()}},H=async(L,P)=>{try{await Q.post("/calls/signal",{callId:e.CallId,senderId:t,signalType:L,signalData:P})}catch(A){console.error("Send signal error:",A)}},K=async()=>{if(!b.current){console.error("PeerConnection not initialized");return}try{const L=await b.current.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:e.Type==="video"});await b.current.setLocalDescription(L),await H("offer",L)}catch(L){console.error("Create offer error:",L)}},V=async()=>{clearInterval(C.current),b.current&&(b.current.close(),b.current=null),j&&j.getTracks().forEach(L=>L.stop());try{await Q.post("/calls/end",{callId:e.CallId,duration:f})}catch(L){console.error("End call API error:",L)}s&&s()},_=async()=>{await B(),l&&await l()},U=async()=>{await V(),r&&r()},J=()=>{if(j){const L=j.getAudioTracks()[0];L&&(L.enabled=!L.enabled,x(!L.enabled))}},ee=()=>{if(j&&e.Type==="video"){const L=j.getVideoTracks()[0];L&&(L.enabled=!L.enabled,S(L.enabled))}},ae=()=>{T.current&&(T.current.muted=!T.current.muted,y(!T.current.muted))};if(g.useEffect(()=>{if(!i||!e||!c)return;c.emit("joinCall",e.CallId);const L=async P=>{if(!b.current){console.warn("Peer connection not ready");return}try{const{signalType:A,signalData:q,senderId:X}=P;if(X===t)return;if(A==="offer"){await b.current.setRemoteDescription(new RTCSessionDescription(q));const I=await b.current.createAnswer();await b.current.setLocalDescription(I),await H("answer",I)}else A==="answer"?await b.current.setRemoteDescription(new RTCSessionDescription(q)):A==="ice-candidate"&&q&&await b.current.addIceCandidate(new RTCIceCandidate(q))}catch(A){console.error("Signal handling error:",A)}};return c.on("webrtcSignal",L),!n&&!b.current&&B().then(()=>{K()}),()=>{c.off("webrtcSignal",L),c.emit("leaveCall",e.CallId),b.current&&(b.current.close(),b.current=null),j&&j.getTracks().forEach(P=>P.stop())}},[i,e,n,t,c]),!i)return null;const z=L=>{const P=Math.floor(L/60),A=L%60;return`${P.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},Y=()=>n?e.CallerName:e.ReceiverName,k=L=>L?`${pe}/uploads/AccountAvatar/${L}`:`${pe}/uploads/AccountAvatar/avtDf.png`;return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-3 rounded-full ${e.Type==="video"?"bg-purple-500/20":"bg-blue-500/20"}`,children:e.Type==="video"?a.jsx(aa,{className:"text-2xl text-purple-400"}):a.jsx(yi,{className:"text-2xl text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:e.Type==="video"?"Video Call":"Voice Call"}),a.jsx("p",{className:"text-gray-400",children:o==="active"?`ang kt ni - ${z(f)}`:o==="ringing"?"ang  chung...":"ang kt ni..."})]})]}),o==="active"&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white font-medium",children:Y()}),a.jsx("p",{className:"text-sm text-gray-400",children:e.Type==="video"?"Video call":"Voice call"})]})]}),a.jsxs("div",{className:"relative p-6 flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 relative bg-black rounded-xl overflow-hidden min-h-[400px]",children:[u&&e.Type==="video"?a.jsx("video",{ref:T,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900/50",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-800 flex items-center justify-center mb-4",children:a.jsx("img",{src:k(n?e.CallerAvatar:e.ReceiverAvatar),alt:"Avatar",className:"w-full h-full rounded-full object-cover"})}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:Y()}),a.jsx("p",{className:"text-gray-400",children:o==="ringing"?"ang gi...":"ang kt ni..."})]}),e.Type==="video"&&j&&a.jsxs("div",{className:"absolute bottom-4 right-4 w-40 h-48 rounded-lg overflow-hidden border-2 border-white/30 shadow-lg bg-black",children:[a.jsx("video",{ref:O,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!v&&a.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:a.jsx(Of,{className:"text-2xl text-white"})})]})]}),a.jsx("div",{className:"md:w-80 bg-gray-900/50 rounded-xl p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:o==="active"?"Cuc gi ang din ra":"Thng tin cuc gi"}),a.jsxs("p",{className:"text-gray-300",children:[n?"Cuc gi n t":"ang gi cho"," ",a.jsx("span",{className:"font-bold",children:Y()})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:J,className:`p-4 rounded-xl flex flex-col items-center justify-center transition-all ${p?"bg-red-500/20 hover:bg-red-500/30":"bg-blue-500/20 hover:bg-blue-500/30"}`,children:[a.jsx("div",{className:`p-3 rounded-full ${p?"bg-red-500":"bg-blue-500"}`,children:p?a.jsx(TN,{className:"text-xl text-white"}):a.jsx(EN,{className:"text-xl text-white"})}),a.jsx("span",{className:"mt-2 text-sm text-white",children:p?"Bt mic":"Tt mic"})]}),a.jsxs("button",{onClick:ae,className:`p-4 rounded-xl flex flex-col items-center justify-center transition-all ${w?"bg-green-500/20 hover:bg-green-500/30":"bg-yellow-500/20 hover:bg-yellow-500/30"}`,children:[a.jsx("div",{className:`p-3 rounded-full ${w?"bg-green-500":"bg-yellow-500"}`,children:w?a.jsx(kN,{className:"text-xl text-white"}):a.jsx(ON,{className:"text-xl text-white"})}),a.jsx("span",{className:"mt-2 text-sm text-white",children:w?"Tt loa":"Bt loa"})]}),e.Type==="video"&&a.jsxs("button",{onClick:ee,className:`p-4 rounded-xl flex flex-col items-center justify-center transition-all ${v?"bg-purple-500/20 hover:bg-purple-500/30":"bg-red-500/20 hover:bg-red-500/30"}`,children:[a.jsx("div",{className:`p-3 rounded-full ${v?"bg-purple-500":"bg-red-500"}`,children:v?a.jsx(aa,{className:"text-xl text-white"}):a.jsx(Of,{className:"text-xl text-white"})}),a.jsx("span",{className:"mt-2 text-sm text-white",children:v?"Tt camera":"Bt camera"})]})]}),a.jsx("div",{className:"space-y-4",children:o==="ringing"&&n?a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:_,className:"flex-1 py-3 bg-green-500 text-white rounded-xl font-bold hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(yi,{className:"rotate-90"}),"Chp nhn"]}),a.jsxs("button",{onClick:U,className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Cr,{}),"T chi"]})]}):a.jsxs("button",{onClick:V,className:"w-full py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Cr,{className:"text-xl"}),"Kt thc cuc gi"]})}),a.jsx("div",{className:"pt-4 border-t border-gray-800",children:a.jsxs("div",{className:"text-sm text-gray-400 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Loi cuc gi:"}),a.jsx("span",{className:"text-white font-medium",children:e.Type==="video"?"Video Call":"Voice Call"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Trng thi:"}),a.jsx("span",{className:"text-white font-medium",children:o==="active"?"ang kt ni":o==="ringing"?"ang  chung":"ang thit lp"})]}),f>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Thi lng:"}),a.jsx("span",{className:"text-white font-medium",children:z(f)})]})]})})]})})]})]})})};function MN(){const{socket:e}=gd(),[t,n]=g.useState(null),[s,r]=g.useState(!1),l=JSON.parse(sessionStorage.getItem("account"));g.useEffect(()=>{if(!e)return;const d=f=>{f.ReceiverId===(l==null?void 0:l.AccountId)&&(n(f),r(!0))};return e.on("incomingCall",d),()=>{e.off("incomingCall",d)}},[e,l]),g.useEffect(()=>{if(!e)return;const d=h=>{(t==null?void 0:t.CallId)===h.CallId&&n(h)},f=h=>{(t==null?void 0:t.CallId)===h.CallId&&(r(!1),n(null))};return e.on("callAccepted",d),e.on("callEnded",f),()=>{e.off("callAccepted",d),e.off("callEnded",f)}},[e,t]);const i=async()=>{try{await Q.post("/calls/accept",{callId:t.CallId})}catch(d){console.error("Accept call error:",d)}},c=async()=>{try{await Q.post("/calls/end",{callId:t.CallId,duration:0}),r(!1),n(null)}catch(d){console.error("Reject call error:",d)}},o=async()=>{await c()};return!t||!s?null:a.jsx(Ji,{call:t,currentUserId:l==null?void 0:l.AccountId,isIncoming:!0,isOpen:s,onAcceptCall:i,onRejectCall:c,onEndCall:o,socket:e})}function _N(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function RN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function zN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function LN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11a9 9 0 0 1 9 9"},child:[]},{tag:"path",attr:{d:"M4 4a16 16 0 0 1 16 16"},child:[]},{tag:"circle",attr:{cx:"5",cy:"19",r:"1"},child:[]}]})(e)}function VN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function BN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function UN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function IN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function HN(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function $N(e){return be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const sa=({children:e})=>{const[t,n]=g.useState(!0),s=oe(),r=()=>n(!t),l=[{name:"Trang ch",url:"/",icon:a.jsx(_N,{})},{name:"Ti khon",url:"/admin/accounts",icon:a.jsx(HN,{})},{name:"Sn phm",url:"/admin/products",icon:a.jsx(BN,{})},{name:"Qung co",url:"/admin/ads",icon:a.jsx(LN,{})},{name:"Phiu gim gi",url:"/admin/vouchers",icon:a.jsx(IN,{})},{name:"n hng",url:"#",icon:a.jsx(UN,{})},{name:"Thu sn",url:"/admin/platform-fee",icon:a.jsx($N,{})}],i=()=>{sessionStorage.clear(),s("/")};return a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsxs("div",{className:`flex flex-col bg-orange-400 text-white transition-all duration-300 ${t?"w-64":"w-16"}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-4",children:[t&&a.jsx("h1",{className:"font-bold text-2xl cursor-pointer",onClick:()=>s("/"),children:"Shakee"}),a.jsx("button",{onClick:r,className:"text-white cursor-pointer",title:t?"Thu nh menu":"M rng menu",children:a.jsx(zN,{size:20})})]}),a.jsx("nav",{className:"flex-1 mt-4",children:a.jsx("ul",{className:"flex flex-col gap-2",children:l.map(c=>a.jsxs("li",{onClick:()=>s(c.url),className:"flex items-center gap-3 px-4 py-2 hover:bg-orange-500 rounded cursor-pointer transition-colors",title:t?"":c.name,children:[a.jsx("span",{className:"text-lg",children:c.icon}),t&&a.jsx("span",{children:c.name})]},c.name))})}),a.jsx("div",{className:"p-4 mt-auto",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-4 py-2 bg-orange-400 hover:bg-orange-500 rounded transition-colors cursor-pointer",children:[a.jsx(RN,{}),t&&a.jsx("span",{children:"Logout"})]})})]}),a.jsx("div",{className:"flex-1 p-6 overflow-auto",children:e})]})};function qN(){const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState(!0);g.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]);const[l,i]=g.useState(""),[c,o]=g.useState(""),[d,f]=g.useState(""),[h,p]=g.useState(""),[x,v]=g.useState(1),S=10,w=N=>{if(!N)return"";const O=new Date(N),T=String(O.getDate()).padStart(2,"0"),b=String(O.getMonth()+1).padStart(2,"0"),C=O.getFullYear();return`${T}-${b}-${C}`};g.useEffect(()=>{fetch("/api/accounts",{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(N=>N.json()).then(N=>{n(N),r(!1)}).catch(N=>{console.error(N),r(!1)})},[]);const y=async(N,O)=>{try{await Q.put(`/accounts/${N}/active`,{isActive:O?0:1}),n(T=>T.map(b=>b.AccountId===N?{...b,IsActive:O?0:1}:b))}catch(T){console.error(T),alert("Khng th cp nht trng thi")}},u=g.useMemo(()=>t.filter(N=>{var D,M,B,H;const O=l.toLowerCase().trim(),T=((D=N.Username)==null?void 0:D.toLowerCase().includes(O))||((M=N.Name)==null?void 0:M.toLowerCase().includes(O))||((B=N.Phone)==null?void 0:B.includes(O))||((H=N.IdentityNumber)==null?void 0:H.includes(O)),b=c?N.RoleName===c:!0,C=d?N.Gender===d:!0,E=h!==""?String(N.IsActive)===h:!0;return T&&b&&C&&E}),[t,l,c,d,h]),m=Math.ceil(u.length/S),j=u.slice((x-1)*S,x*S);return s?a.jsx("p",{className:"text-center mt-6",children:"ang ti d liu..."}):a.jsx(sa,{children:a.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-2xl font-bold text-orange-600",children:" Qun l ti khon"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("input",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 outline-none",placeholder:" Tm username / tn / ST / CCCD",value:l,onChange:N=>{i(N.target.value),v(1)}}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:c,onChange:N=>{o(N.target.value),v(1)},children:[a.jsx("option",{value:"",children:" Tt c vai tr"}),[...new Set(t.map(N=>N.RoleName))].map(N=>a.jsx("option",{value:N,children:N},N))]}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:d,onChange:N=>{f(N.target.value),v(1)},children:[a.jsx("option",{value:"",children:" Tt c gii tnh"}),a.jsx("option",{value:"m",children:"Nam"}),a.jsx("option",{value:"f",children:"N"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:["Tng:",a.jsx("span",{className:"ml-1 font-semibold text-orange-500",children:u.length}),"ti khon"]})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-orange-500 text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-center",children:"Ti khon"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"H tn"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"ST"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"CCCD"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Ngy sinh"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gii tnh"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Vai tr"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Hnh ng"})]})}),a.jsx("tbody",{children:j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"text-center py-8 text-gray-400",children:"Khng c d liu"})}):j.map(N=>a.jsxs("tr",{className:"border-b hover:bg-orange-50 transition",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-3 items-center",children:[a.jsx("div",{className:"flex justify-end pr-2",children:a.jsx("img",{src:N.Avt?`${pe}/uploads/AccountAvatar/${N.Avt}`:`${pe}/uploads/AccountAvatar/avtDf.png`,onError:O=>{O.target.src=`${pe}/uploads/AccountAvatar/avtDf.png`},alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border"})}),a.jsx("div",{className:"col-span-2 pl-3",children:a.jsx("span",{className:"font-medium text-gray-800",children:N.Username})})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Name}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Phone}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.IdentityNumber}),a.jsx("td",{className:"px-4 py-3 text-center",children:w(N.DateOfBirth)}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Gender==="m"?"Nam":"N"}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.RoleName}),a.jsxs("td",{className:"px-4 py-3 flex justify-center gap-2",children:[a.jsx("button",{onClick:()=>e(`/admin/accounts/${N.AccountId}`),className:"px-3 py-1 text-xs rounded bg-blue-500 hover:bg-blue-600 text-white transition cursor-pointer",children:"Cp nhp"}),a.jsx("button",{onClick:()=>y(N.AccountId,N.IsActive),className:`px-3 py-1 text-xs rounded text-white transition cursor-pointer ${N.IsActive?"bg-green-600 hover:bg-green-700":"bg-red-500 hover:bg-red-600"}`,children:N.IsActive?"Cm":"B Cm"})]})]},N.AccountId))})]})}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>v(N=>Math.max(1,N-1)),disabled:x===1,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${x===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
          `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:m},(N,O)=>a.jsx("button",{onClick:()=>v(O+1),className:`
                w-9 h-9 rounded-full text-sm font-semibold
                transition-all duration-200
                ${x===O+1?"bg-orange-300 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
              `,children:O+1},O))}),a.jsxs("button",{onClick:()=>v(N=>Math.min(m,N+1)),disabled:x===m||m===0,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${x===m||m===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
          `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})})}function FN(){const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState([]),[l,i]=g.useState(!0),[c,o]=g.useState(""),[d,f]=g.useState(""),[h,p]=g.useState(""),[x,v]=g.useState(1),S=10;g.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),g.useEffect(()=>{fetch(`${pe}/api/products`).then(N=>N.json()).then(N=>{Array.isArray(N)?n(N):(console.error("Products API error:",N),n([])),i(!1)}).catch(N=>{console.error(N),n([]),i(!1)}),fetch(`${pe}/api/categories`).then(N=>N.json()).then(N=>{Array.isArray(N)&&r(N)})},[]);const w=async(N,O)=>{try{if(!(await fetch(`${pe}/api/products/${N}/active`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:O?0:1})})).ok)throw new Error("Update failed");n(b=>b.map(C=>C.ProductId===N?{...C,IsActive:O?0:1}:C))}catch(T){console.error(T),alert("Khng th cp nht trng thi")}};g.useEffect(()=>{v(1)},[c,d,h]);const y=N=>Number(N).toLocaleString("vi-VN")+" ",u=g.useMemo(()=>{if(!Array.isArray(t))return[];const N=c.toLowerCase().trim();return t.filter(O=>{var E,D;const T=((E=O.ProductName)==null?void 0:E.toLowerCase().includes(N))||((D=O.StallName)==null?void 0:D.toLowerCase().includes(N)),b=d?O.CategoryName===d:!0,C=h===""?!0:Number(O.Status)===Number(h);return T&&b&&C})},[t,c,d,h]),m=Math.ceil(u.length/S),j=u.slice((x-1)*S,x*S);return l?a.jsx("p",{children:"ang ti d liu..."}):a.jsx(sa,{children:a.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-2xl font-bold text-orange-600",children:" Qun l sn phm"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("input",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 outline-none",placeholder:" Tm tn sn phm / gian hng",value:c,onChange:N=>o(N.target.value)}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:d,onChange:N=>f(N.target.value),children:[a.jsx("option",{value:"",children:" Tt c danh mc"}),s.map(N=>a.jsx("option",{value:N.CategoryName,children:N.CategoryName},N.CategoryId))]}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:h,onChange:N=>p(N.target.value),children:[a.jsx("option",{value:"",children:" Tt c trng thi"}),a.jsx("option",{value:"1",children:" ang bn"}),a.jsx("option",{value:"0",children:" Ngng bn"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:["Tng: ",a.jsx("span",{className:"ml-1 font-semibold text-orange-500",children:u.length})," sn phm"]})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-orange-500 text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-center",children:"Sn phm"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Danh mc"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gian hng"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Trng thi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Hnh ng"})]})}),a.jsx("tbody",{children:j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"text-center py-8 text-gray-400",children:"Khng c d liu"})}):j.map(N=>a.jsxs("tr",{className:"border-b hover:bg-orange-50 transition",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"font-semibold",children:N.ProductName}),a.jsx("div",{className:"text-xs text-gray-500 line-clamp-2",children:N.Description})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-4",children:[a.jsx("div",{})," ",a.jsx("div",{className:"col-span-3 font-medium text-gray-700",children:N.CategoryName})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.StallName}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-4",children:[a.jsx("div",{className:"col-span-3 text-right font-semibold text-orange-600",children:y(N.Price)}),a.jsx("div",{})," "]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Status?a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-700 text-center",children:" ang bn"}):a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-100 text-red-600 text-center",children:" Ngng bn"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{onClick:()=>w(N.ProductId,N.IsActive),className:`px-3 py-1 text-xs rounded text-white transition cursor-pointer ${N.IsActive?"bg-green-600 hover:bg-red-600":"bg-red-500 hover:bg-green-600"}`,children:N.IsActive?"Cm bn":"B cm"})})]},N.ProductId))})]})}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>v(N=>Math.max(1,N-1)),disabled:x===1,className:`
      flex items-center gap-2 px-4 py-2 rounded-full border
      transition-all duration-200
      ${x===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:m},(N,O)=>a.jsx("button",{onClick:()=>v(O+1),className:`
          w-9 h-9 rounded-full text-sm font-semibold
          transition-all duration-200
          ${x===O+1?"bg-orange-300 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
        `,children:O+1},O))}),a.jsxs("button",{onClick:()=>v(N=>Math.min(m,N+1)),disabled:x===m||m===0,className:`
      flex items-center gap-2 px-4 py-2 rounded-full border
      transition-all duration-200
      ${x===m||m===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm  cursor-pointer"}
    `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),kf=e=>{const t=QN(e);return t.charAt(0).toUpperCase()+t.slice(1)},tp=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),YN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:l,iconNode:i,...c},o)=>g.createElement("svg",{ref:o,...XN,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:tp("lucide",r),...!l&&!YN(c)&&{"aria-hidden":"true"},...c},[...i.map(([d,f])=>g.createElement(d,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=g.forwardRef(({className:s,...r},l)=>g.createElement(PN,{ref:l,iconNode:t,className:tp(`lucide-${GN(kf(e))}`,`lucide-${e}`,s),...r}));return n.displayName=kf(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],np=ne("arrow-left",KN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Df=ne("award",ZN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WN=ne("ban",JN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bi=ne("calendar",e3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],n3=ne("camera",t3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tr=ne("check",a3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r3=ne("chevron-down",s3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],i3=ne("chevron-left",l3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mf=ne("chevron-right",c3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],u3=ne("chevron-up",o3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lt=ne("circle-alert",d3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pt=ne("circle-check-big",h3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],In=ne("circle-x",f3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ma=ne("clock",m3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],as=ne("credit-card",g3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p3=ne("download",x3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ap=ne("eye",y3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],cr=ne("hash",b3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],j3=ne("image",v3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_f=ne("loader-circle",N3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],S3=ne("loader",w3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vi=ne("map-pin",C3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],jd=ne("message-circle",T3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sp=ne("message-square",E3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M5 12h14",key:"1ays0h"}]],O3=ne("minus",A3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],tt=ne("package",k3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],M3=ne("percent",D3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],R3=ne("phone",_3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rp=ne("plus",z3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],V3=ne("printer",L3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],U3=ne("refresh-cw",B3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Gc=ne("rotate-ccw",I3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$3=ne("search",H3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ji=ne("shopping-bag",q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],lp=ne("shopping-cart",F3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Q3=ne("square-pen",G3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]],X3=ne("star-half",Y3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bn=ne("star",P3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Rf=ne("tag",K3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Ni=ne("ticket",Z3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nd=ne("trash-2",J3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Xt=ne("truck",W3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],t4=ne("upload",e4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],a4=ne("user",n4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r4=ne("users",s4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],i4=ne("wallet",l4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],o4=ne("x",c4);function fe(){const[e,t]=g.useState(""),[n,s]=g.useState(!1),[r,l]=g.useState(null),i=oe();g.useEffect(()=>{const h=sessionStorage.getItem("token"),p=sessionStorage.getItem("account");h&&p&&(s(!0),l(JSON.parse(p)))},[]);const c=(r==null?void 0:r.Avatar)||`${pe}/uploads/AccountAvatar/avtDf.png`,o=()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),i("/"),window.location.reload()},d=h=>{h.preventDefault(),e.trim()&&i(`/search?keyword=${encodeURIComponent(e)}`)},f=()=>{if(r)switch(r.RoleId){case"1":i("/admin/accounts");break;case"2":i("/profile");break;case"3":i("/seller/products");break;case"4":i("/staff/manage-orders");break;default:i("/")}};return a.jsx("header",{className:"bg-orange-500 text-white",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-4",children:a.jsxs("div",{className:"h-16 flex items-center justify-between",children:[a.jsx("div",{className:"text-2xl font-bold cursor-pointer",onClick:()=>i("/"),children:"Shakee"}),a.jsx("form",{onSubmit:d,className:"w-1/2",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{className:"w-full pl-4 pr-12 py-2 rounded text-black bg-white",placeholder:"Tm kim sn phm...",value:e,onChange:h=>t(h.target.value)}),a.jsx("button",{type:"submit",className:"absolute right-1 top-1/2 -translate-y-1/2 bg-orange-500 text-white p-2 rounded cursor-pointer",children:a.jsx($3,{size:18})})]})}),n?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"relative cursor-pointer",onClick:()=>i("/cart"),children:a.jsx(lp,{size:22})}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-90",onClick:f,children:[a.jsx("img",{src:c,alt:"avatar",className:"w-8 h-8 rounded-full object-cover border"}),a.jsx("span",{className:"text-sm",children:r==null?void 0:r.Name})]}),a.jsx("button",{onClick:o,className:"text-sm text-white underline cursor-pointer",children:"ng xut"})]}):a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"bg-white text-orange-500 px-4 py-1 rounded cursor-pointer",onClick:()=>i("/login"),children:"ng nhp"}),a.jsx("button",{className:"border border-white px-4 py-1 rounded cursor-pointer",onClick:()=>i("/register"),children:"ng k"})]})]})})})}function Vt(){const e=oe(),t=Gt(),n=JSON.parse(sessionStorage.getItem("account")),[s,r]=g.useState(""),l=[{id:1,label:"Thng tin c nhn",path:"/seller/profile"},{id:2,label:"Sn phm",path:"/seller/products"},{id:3,label:"Tin nhn",path:"/seller/chat"},{id:4,label:"n hng",path:"/seller/orders"},{id:5,label:"Phiu gim gi",path:"/seller/voucher"}];g.useEffect(()=>{(async()=>{var o;if(n)try{const d=sessionStorage.getItem("token"),f=await Q.get(`/stalls/account/${n.AccountId}`,{headers:{Authorization:`Bearer ${d}`}});r(((o=f.data)==null?void 0:o.StallName)||"")}catch(d){console.error("Fetch stall error:",d),r("")}})()},[]);const i=c=>c?c.startsWith("http")||c.startsWith("/uploads")?c:`/uploads/AccountAvatar/${c}`:"/uploads/AccountAvatar/avtDf.png";return a.jsxs("aside",{className:"w-60 bg-white border rounded-lg shadow-md p-4 flex-shrink-0 sticky top-20 h-fit",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 mb-6",children:[a.jsx("img",{src:i(n==null?void 0:n.Avatar),alt:n==null?void 0:n.Name,className:"w-12 h-12 rounded-full object-cover border"}),a.jsx("p",{className:"font-semibold text-center",children:n==null?void 0:n.Name}),a.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Gian hng: ",s||"..."]})]}),a.jsx("div",{className:"flex flex-col gap-2",children:l.map(c=>a.jsx("div",{onClick:()=>e(c.path),className:`cursor-pointer px-4 py-2 rounded 
              ${t.pathname===c.path?"bg-orange-500 text-white":"hover:bg-gray-100 transition"}`,children:c.label},c.id))})]})}function u4(){const e=oe(),t=JSON.parse(sessionStorage.getItem("account")),[n,s]=g.useState([]),[r,l]=g.useState(!0),[i,c]=g.useState("");g.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),g.useEffect(()=>{let h=!0;return(async()=>{if(t)try{const x=await Q.get(`/products/seller/${t.AccountId}`);if(x.data&&x.data.success){const v=x.data.products||[];h&&s(Array.isArray(v)?v:[])}else h&&s([]),console.error("API response format incorrect:",x.data)}catch(x){console.error("Load seller products error:",x),h&&(alert("Li khi ti sn phm"),s([]))}finally{h&&l(!1)}})(),()=>{h=!1}},[t==null?void 0:t.AccountId]);const o=n.filter(h=>h.ProductName&&h.ProductName.toLowerCase().includes(i.toLowerCase())),d=async(h,p,x)=>{x.stopPropagation();try{const v=p===1?0:1;await Q.put(`/products/${h}/status`,{status:v}),s(S=>S.map(w=>w.ProductId===h?{...w,Status:v}:w))}catch(v){console.error("Toggle status error:",v),alert("Li khi cp nht trng thi sn phm")}},f=h=>h?h.startsWith("http")||h.startsWith("/uploads")?h:`/uploads/ProductImage/${h}`:null;return r?a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsx("div",{className:"flex-1 p-8 text-center",children:a.jsx("div",{className:"p-4",children:"ang ti sn phm..."})})]})]}):!Array.isArray(n)||n.length===0?a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Danh sch sn phm ca bn"}),a.jsx("div",{className:"text-center py-8",children:"Bn cha c sn phm no."})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Danh sch sn phm ca bn"}),a.jsx("button",{onClick:()=>e("/seller/products/add"),className:"bg-orange-500 cursor-pointer text-white px-4 py-2 rounded hover:bg-orange-600",children:"+ Thm sn phm"})]}),a.jsx("input",{className:"border px-3 py-2 rounded w-1/3 mb-4",placeholder:"Tm sn phm...",value:i,onChange:h=>c(h.target.value)}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(h=>a.jsxs("div",{onClick:()=>e(`/seller/products/${h.ProductId}`),className:"bg-white shadow rounded p-3 cursor-pointer hover:ring-2 hover:ring-orange-400",children:[a.jsx("div",{className:"relative w-full h-48 overflow-hidden rounded bg-gray-100 mb-2",children:h.Image?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:f(h.Image),className:"absolute inset-0 w-full h-full object-cover blur-xl scale-110",alt:h.ProductName||"Product"}),a.jsx("img",{src:f(h.Image),className:"relative z-10 h-full mx-auto object-contain",alt:h.ProductName||"Product"})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),a.jsx("h2",{className:"text-lg font-semibold truncate",children:h.ProductName||"Khng c tn"}),a.jsx("p",{className:"text-red-500 font-bold",children:h.Price?`${Number(h.Price).toLocaleString()} `:"0 "}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:h.Description||"Khng c m t"}),a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[a.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${h.Status===1?"bg-green-500":"bg-gray-400"}`,children:h.Status===1?"ang bn":"Ngng bn"}),a.jsx("button",{onClick:p=>d(h.ProductId,h.Status,p),className:"px-2 py-1 bg-orange-500 text-white rounded text-xs",children:h.Status===1?"Tt":"Bt"})]})]},h.ProductId))})]})]})]})}function Bt(){return a.jsx("footer",{className:"bg-gray-100 mt-10",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-4 py-6 text-sm text-gray-600",children:" 2026 Shakee. All rights reserved."})})}function d4({chats:e,selectedChat:t,onSelect:n}){return a.jsx("div",{className:"w-48 border-r overflow-y-auto bg-white",children:e.map(s=>a.jsxs("div",{onClick:()=>n(s),className:`flex gap-3 p-2 cursor-pointer border-b ${(t==null?void 0:t.ChatId)===s.ChatId?"bg-orange-50":"hover:bg-gray-100"}`,children:[a.jsx("img",{src:s.Avt||"/default-avatar.png",className:"w-9 h-9 rounded-full"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:s.SellerName}),a.jsx("p",{className:`text-xs truncate ${s.UnreadCount>0?"font-bold text-black":"text-gray-500"}`,children:s.LastMessage||"Cha c tin nhn"})]})]},s.ChatId))})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var ip=function(){var e={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:u,toCodePoint:O},onerror:function(){this.parentNode&&this.parentNode.replaceChild(o(this.alt,!1),this)},parse:m,replace:j,test:N},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,r="",l=/[&<>'"]/g,i=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,c=String.fromCharCode;return e;function o(T,b){return document.createTextNode(b?T.replace(s,""):T)}function d(T){return T.replace(l,S)}function f(T,b){return"".concat(b.base,b.size,"/",T,b.ext)}function h(T,b){for(var C=T.childNodes,E=C.length,D,M;E--;)D=C[E],M=D.nodeType,M===3?b.push(D):M===1&&!("ownerSVGElement"in D)&&!i.test(D.nodeName.toLowerCase())&&h(D,b);return b}function p(T){return O(T.indexOf(r)<0?T.replace(s,""):T)}function x(T,b){for(var C=h(T,[]),E=C.length,D,M,B,H,K,V,_,U,J,ee,ae,z,Y;E--;){for(B=!1,H=document.createDocumentFragment(),K=C[E],V=K.nodeValue,U=0;_=n.exec(V);){if(J=_.index,J!==U&&H.appendChild(o(V.slice(U,J),!0)),ae=_[0],z=p(ae),U=J+ae.length,Y=b.callback(z,b),z&&Y){ee=new Image,ee.onerror=b.onerror,ee.setAttribute("draggable","false"),D=b.attributes(ae,z);for(M in D)D.hasOwnProperty(M)&&M.indexOf("on")!==0&&!ee.hasAttribute(M)&&ee.setAttribute(M,D[M]);ee.className=b.className,ee.alt=ae,ee.src=Y,B=!0,H.appendChild(ee)}ee||H.appendChild(o(ae,!1)),ee=null}B&&(U<V.length&&H.appendChild(o(V.slice(U),!0)),K.parentNode.replaceChild(H,K))}return T}function v(T,b){return j(T,function(C){var E=C,D=p(C),M=b.callback(D,b),B,H;if(D&&M){E="<img ".concat('class="',b.className,'" ','draggable="false" ','alt="',C,'"',' src="',M,'"'),B=b.attributes(C,D);for(H in B)B.hasOwnProperty(H)&&H.indexOf("on")!==0&&E.indexOf(" "+H+"=")===-1&&(E=E.concat(" ",H,'="',d(B[H]),'"'));E=E.concat("/>")}return E})}function S(T){return t[T]}function w(){return null}function y(T){return typeof T=="number"?T+"x"+T:T}function u(T){var b=typeof T=="string"?parseInt(T,16):T;return b<65536?c(b):(b-=65536,c(55296+(b>>10),56320+(b&1023)))}function m(T,b){return(!b||typeof b=="function")&&(b={callback:b}),(typeof T=="string"?v:x)(T,{callback:b.callback||f,attributes:typeof b.attributes=="function"?b.attributes:w,base:typeof b.base=="string"?b.base:e.base,ext:b.ext||e.ext,size:b.folder||y(b.size||e.size),className:b.className||e.className,onerror:b.onerror||e.onerror})}function j(T,b){return String(T).replace(n,b)}function N(T){n.lastIndex=0;var b=n.test(T);return n.lastIndex=0,b}function O(T,b){for(var C=[],E=0,D=0,M=0;M<T.length;)E=T.charCodeAt(M++),D?(C.push((65536+(D-55296<<10)+(E-56320)).toString(16)),D=0):55296<=E&&E<=56319?D=E:C.push(E.toString(16));return C.join(b||"-")}}();const cp=({chatId:e,senderId:t,onClose:n,onSuccess:s})=>{const[r,l]=g.useState(null),[i,c]=g.useState(null),[o,d]=g.useState(!1),[f,h]=g.useState(0),[p,x]=g.useState(""),v=g.useRef(null),[S,w]=g.useState(""),y=(b,C)=>b.startsWith("image/")?a.jsx(Sr,{className:"text-blue-500"}):b.startsWith("video/")?a.jsx(aa,{className:"text-red-500"}):b.startsWith("audio/")?a.jsx(xs,{className:"text-green-500"}):C!=null&&C.endsWith(".pdf")?a.jsx(ir,{className:"text-red-500"}):C!=null&&C.endsWith(".doc")||C!=null&&C.endsWith(".docx")?a.jsx(ir,{className:"text-blue-500"}):C!=null&&C.endsWith(".xls")||C!=null&&C.endsWith(".xlsx")?a.jsx(ir,{className:"text-green-500"}):b.includes("zip")||b.includes("compressed")?a.jsx(CN,{className:"text-yellow-500"}):a.jsx(DN,{className:"text-gray-500"}),u=b=>{if(b===0)return"0 Bytes";const C=1024,E=["Bytes","KB","MB","GB"],D=Math.floor(Math.log(b)/Math.log(C));return parseFloat((b/Math.pow(C,D)).toFixed(2))+" "+E[D]},m=(b,C)=>b.startsWith("image/")?" gi mt nh":b.startsWith("video/")?" gi mt video":b.startsWith("audio/")?" gi mt audio":C||" gi mt file",j=b=>{const C=b.target.files;if(C.length>1){x("Ch c chn 1 file mi ln."),v.current&&(v.current.value="");return}const E=C[0];if(E){if(E.size>10*1024*1024){x("File vt qu 10MB. Vui lng chn file nh hn.");return}if(x(""),l(E),w(m(E.type,E.name)),E.type.startsWith("image/")){const D=new FileReader;D.onload=M=>c(M.target.result),D.readAsDataURL(E)}else E.type.startsWith("video/")?c("video"):E.type.startsWith("audio/")?c("audio"):c("file")}},N=()=>{l(null),c(null),w(""),x(""),v.current&&(v.current.value="")},O=async()=>{var C,E;if(!r)return;d(!0);const b=new FormData;b.append("file",r),b.append("uploadedBy",t),b.append("chatId",e);try{const D=await Q.post("/files/upload",b,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:B=>{const H=Math.round(B.loaded*100/B.total);h(H)}}),M=await Q.post("/messages/file",{chatId:e,senderId:t,content:S.trim()||null,fileId:D.data.fileId});s(M.data),n()}catch(D){console.error("Upload error:",D),(E=(C=D.response)==null?void 0:C.data)!=null&&E.message?x(D.response.data.message):x("Upload file tht bi. Vui lng th li.")}finally{d(!1)}},T=()=>{l(null),c(null),w(""),x(""),n()};return a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-[99999]",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Gi File"}),a.jsx("button",{onClick:T,className:"p-2 text-gray-400 cursor-pointer hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",disabled:o,children:a.jsx(Cr,{})})]}),a.jsx("div",{className:"p-4",children:r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-2xl",children:y(r.type,r.name)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 truncate max-w-xs",children:r.name}),a.jsx("p",{className:"text-sm text-gray-500",children:u(r.size)})]})]}),a.jsx("button",{onClick:N,className:"p-2 text-gray-400 cursor-pointer hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",disabled:o,children:a.jsx(AN,{})})]}),i==="video"&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden bg-black/5",children:a.jsx("div",{className:"p-4 flex items-center justify-center",children:a.jsx(aa,{className:"text-4xl text-gray-400"})})}),i==="audio"&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden bg-black/5",children:a.jsx("div",{className:"p-4 flex items-center justify-center",children:a.jsx(xs,{className:"text-4xl text-gray-400"})})}),i==="file"&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden bg-black/5",children:a.jsx("div",{className:"p-4 flex items-center justify-center",children:y(r.type,r.name)})}),typeof i=="string"&&i.startsWith("data:image")&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden border",children:a.jsx("img",{src:i,alt:"Preview",className:"w-full h-48 object-cover"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ni dung tin nhn (tu chn)"}),a.jsx("textarea",{value:S,onChange:b=>w(b.target.value),placeholder:"Thm ni dung cho tin nhn...",className:"w-full h-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:o})]}),p&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-600 text-sm",children:p})}),o&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"ang ti ln..."}),a.jsxs("span",{className:"text-blue-600 font-medium",children:[f,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]}),a.jsxs("div",{className:"flex space-x-3 pt-2",children:[a.jsx("button",{onClick:T,className:"flex-1 py-2.5 px-4 border cursor-pointer border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:"Hu"}),a.jsx("button",{onClick:O,disabled:o,className:"flex-1 py-2.5 px-4 cursor-pointer bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:o?"ang gi...":"Gi ngay"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{onClick:()=>{var b;return(b=v.current)==null?void 0:b.click()},className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 group",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:scale-105 transition-transform",children:a.jsx(vd,{className:"text-3xl text-blue-400"})}),a.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"Chn file  gi"}),a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Ko th hoc nhn  chn"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"nh"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"Video"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"Audio"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"PDF"})]})]}),a.jsx("input",{type:"file",ref:v,onChange:j,className:"hidden",accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.zip"})]}),a.jsxs("div",{className:"text-center text-sm text-gray-500",children:[a.jsx("p",{children:"H tr cc nh dng ph bin"}),a.jsx("p",{children:"Ti a 10MB  Ch 1 file mi ln"})]})]})})]})})},zf=500,h4={":)":"",":(":"",":D":"",";)":"",":P":""},f4=e=>{let t=e;for(const[n,s]of Object.entries(h4))t=t.split(n).join(s);return t},Lf=e=>{const t=new Date(e),n=new Date,s=t.getFullYear(),r=t.getMonth(),l=t.getDate(),i=n.getFullYear(),c=n.getMonth(),o=n.getDate(),d=Math.floor((new Date(i,c,o)-new Date(s,r,l))/(24*60*60*1e3)),f=t.getHours().toString().padStart(2,"0"),h=t.getMinutes().toString().padStart(2,"0");if(s===i&&r===c&&l===o)return`${f}:${h}`;if(d>0&&d<7){const v=t.getDay();return`${v===0?"CN":`T${v+1}`} lc ${f}:${h}`}const p=l,x=r+1;return s!==i?`${p} THG ${x}/${s} lc ${f}:${h}`:`${p} THG ${x} lc ${f}:${h}`},Vf=(e,t)=>!e||!t||e.SenderId!==t.SenderId?!1:new Date(t.SendAt)-new Date(e.SendAt)<=2*60*1e3,m4=({chat:e,currentUserId:t,messages:n=[],onSendMessage:s,onNewMessage:r,onInitiateCall:l,socket:i})=>{const[c,o]=g.useState(""),[d,f]=g.useState(!1),[h,p]=g.useState(null),[x,v]=g.useState(null),[S,w]=g.useState(!1),y=g.useRef(null),u=async()=>{if(!(!c.trim()||!e)&&s)try{await s(c.slice(0,zf)),o("")}catch(b){console.error("Error sending message:",b)}},m=async b=>{var C,E;if(l)l(b);else{if(!e)return;try{let D;if(e.BuyerId&&e.SellerId)D=e.BuyerId==t?e.SellerId:e.BuyerId;else if(e.SellerId&&!e.BuyerId)D=e.SellerId;else if(e.BuyerId&&!e.SellerId)D=e.BuyerId;else throw new Error("Khng th xc nh ngi nhn cuc gi");const M=await Q.post("/calls/initiate",{chatId:e.ChatId,callerId:t,receiverId:D,type:b});v(M.data),w(!0)}catch(D){console.error("Failed to initiate call:",D),alert("Khng th bt u cuc gi: "+(((E=(C=D.response)==null?void 0:C.data)==null?void 0:E.message)||D.message))}}};g.useEffect(()=>{if(!i)return;const b=E=>{(x==null?void 0:x.CallId)===E.CallId&&v(E)},C=E=>{(x==null?void 0:x.CallId)===E.CallId&&(v(null),w(!1))};return i.on("callAccepted",b),i.on("callEnded",C),()=>{i.off("callAccepted",b),i.off("callEnded",C)}},[i,x]),g.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[n]);const j=(b,C)=>{const E=b||"";return E.startsWith("image/")?a.jsx(Sr,{className:"text-blue-500"}):E.startsWith("video/")?a.jsx(aa,{className:"text-red-500"}):E.startsWith("audio/")?a.jsx(xs,{className:"text-green-500"}):C!=null&&C.endsWith(".pdf")?a.jsx(Jx,{className:"text-red-500"}):C!=null&&C.endsWith(".doc")||C!=null&&C.endsWith(".docx")?a.jsx(Wx,{className:"text-blue-500"}):C!=null&&C.endsWith(".xls")||C!=null&&C.endsWith(".xlsx")?a.jsx(Zx,{className:"text-green-500"}):E.includes("zip")||E.includes("compressed")?a.jsx(Kx,{className:"text-yellow-500"}):a.jsx(ir,{className:"text-gray-500"})},N=b=>{const C=b.MessageType==="image",E=b.MessageType==="video",D=b.MessageType==="audio";let M=b.FileURL;return M&&M.startsWith("/api/")?M=`${pe}${M}`:M&&!M.includes("/")&&!M.startsWith("http")?M=`${pe}/api/files/${M}`:!M&&b.FileName&&(M=`${pe}/api/files/${b.MessageId}`),a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:`rounded-lg overflow-hidden ${C?"border":""}`,children:C?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:M,alt:b.FileName||"Image",className:"max-w-full max-h-64 object-contain cursor-pointer bg-gray-100 group-hover:blur-sm transition-all duration-200",onClick:()=>p({url:M,name:b.FileName||"Image"}),onError:B=>B.target.src=`${pe}/uploads/placeholder.png`}),a.jsx("div",{className:"absolute inset-0 backdrop-blur-0 group-hover:backdrop-blur-[2px] bg-white/0 group-hover:bg-white/5 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:a.jsx("button",{onClick:()=>p({url:M,name:b.FileName||"Image"}),className:"p-2 bg-white/80 backdrop-blur-sm cursor-pointer rounded-full shadow-sm hover:bg-white hover:shadow-md transition-all",children:a.jsx(Sr,{className:"text-gray-700"})})})]}):E?a.jsx("div",{className:"relative",children:a.jsx("video",{controls:!0,className:"max-w-full max-h-64 bg-black",poster:b.ThumbnailURL,children:a.jsx("source",{src:M,type:b.FileMimeType||"video/mp4"})})}):D?a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xs,{className:"text-2xl text-green-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium truncate",children:b.FileName||"Audio file"}),a.jsx("audio",{controls:!0,className:"w-full mt-2",src:M})]})]})}):a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-2xl",children:j(b.FileMimeType,b.FileName)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium truncate",children:b.FileName||"File"}),b.FileSize&&a.jsxs("p",{className:"text-sm text-gray-500",children:[(b.FileSize/1024).toFixed(1)," KB"]})]}),a.jsx("a",{href:M,download:b.FileName||"file",className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Download",onClick:B=>!M&&B.preventDefault(),children:a.jsx(pi,{})})]})})}),b.Content&&b.Content!==b.FileName&&a.jsx("p",{className:"mt-2 text-sm text-gray-700",children:b.Content})]})},O=b=>{if(b.MessageType==="call_invite"||b.MessageType==="call_end")return a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2",children:b.Content});const C=ip.parse(f4(b.Content||""),{folder:"svg",ext:".svg",className:"twemoji"});return a.jsx("span",{dangerouslySetInnerHTML:{__html:C}})},T=n.filter((b,C,E)=>C===E.findIndex(D=>D.MessageId===b.MessageId));return a.jsxs("div",{className:"flex-1 flex flex-col relative",children:[x&&a.jsx(Ji,{call:x,currentUserId:t,isIncoming:!1,onEndCall:()=>{v(null),w(!1)},isOpen:S,socket:i}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-[99999] flex items-center justify-center",onClick:()=>p(null),children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] bg-white rounded-lg shadow-2xl overflow-hidden",onClick:b=>b.stopPropagation(),children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-between p-3 border-b",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 truncate flex-1 mr-4",children:h.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:h.url,download:h.name,className:"p-2 text-gray-600 cursor-pointer hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",onClick:b=>b.stopPropagation(),children:a.jsx(pi,{size:20})}),a.jsx("button",{onClick:()=>p(null),className:"p-2 text-gray-600 cursor-pointer hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",children:a.jsx(Cr,{size:24})})]})]}),a.jsx("div",{className:"pt-12 h-full flex items-center justify-center p-4",children:a.jsx("img",{src:h.url,alt:h.name,className:"max-w-full max-h-[calc(90vh-3rem)] object-contain"})})]})}),d&&a.jsx(cp,{chatId:e==null?void 0:e.ChatId,senderId:t,onClose:()=>f(!1),onSuccess:b=>{r&&r(b)}}),a.jsx("div",{ref:y,className:"flex-1 p-3 overflow-y-auto bg-gray-50",style:{maxHeight:"500px",overflowX:"hidden"},children:T.map((b,C)=>{const E=T[C-1],D=T[C+1],M=b.SenderId==t,B=Vf(E,b),H=Vf(b,D),K=C===0||!B;let V="rounded-lg";return!B&&H?V=M?"rounded-lg rounded-tr-2xl":"rounded-lg rounded-tl-2xl":B&&!H&&(V=M?"rounded-lg rounded-br-2xl":"rounded-lg rounded-bl-2xl"),b.MessageType==="call_invite"||b.MessageType==="call_end"?a.jsxs("div",{children:[K&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:Lf(b.SendAt)}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2 px-4 bg-gray-100 rounded-full",children:b.Content})})]},b.MessageId||`${b.SendAt}_${C}`):a.jsxs("div",{children:[K&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:Lf(b.SendAt)}),a.jsx("div",{className:`flex ${M?"justify-end":"justify-start"} mb-1`,children:a.jsx("div",{className:V,style:{maxWidth:b.MessageType!=="text"?"100%":"65%",padding:"0.5rem 0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowWrap:"anywhere",backgroundColor:M?"#f97316":"#fff",color:M?"#fff":"#000",border:M?"none":"1px solid #e5e7eb",fontFamily:'"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif'},children:b.MessageType==="text"?O(b):N(b)})})]},b.MessageId||`${b.SendAt}_${C}`)})}),a.jsxs("div",{className:"px-3 py-3 border-t flex gap-2 bg-white",children:[a.jsxs("div",{className:"flex gap-1 mr-2",children:[a.jsx("button",{onClick:()=>m("audio"),disabled:!e||x,className:"h-11 w-11 flex items-center cursor-pointer justify-center text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Gi thoi",children:a.jsx(yi,{})}),a.jsx("button",{onClick:()=>m("video"),disabled:!e||x,className:"h-11 w-11 flex items-center justify-center cursor-pointer text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Gi video",children:a.jsx(aa,{})})]}),a.jsx("button",{onClick:()=>f(!0),className:"h-11 w-11 flex items-center cursor-pointer justify-center text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"Gi file",disabled:!e||x,children:a.jsx(vd,{size:20})}),a.jsx("input",{className:"flex-1 h-11 border rounded-full px-4 text-sm focus:outline-none focus:border-blue-500 disabled:opacity-50",value:c,maxLength:zf,onChange:b=>o(b.target.value),onKeyDown:b=>b.key==="Enter"&&u(),placeholder:e?"Nhp ni dung tin nhn":"Chn cuc tr chuyn",disabled:!e||x}),a.jsx("button",{onClick:u,disabled:!e||!c.trim()||x,className:"h-11 bg-orange-500 text-white px-5 rounded-full text-sm cursor-pointer hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ep,{})})]})]})};function wd({sellerId:e,onClose:t}){const{socket:n}=gd(),s=JSON.parse(sessionStorage.getItem("account")),r=s==null?void 0:s.AccountId,l=`${pe}/uploads/AccountAvatar`,[i,c]=g.useState([]),[o,d]=g.useState(null),[f,h]=g.useState({}),p=g.useRef(new Set),[x,v]=g.useState(null),[S,w]=g.useState(!1),y=g.useRef(x);g.useEffect(()=>{y.current=x},[x]),g.useEffect(()=>{if(!r)return;(async()=>{try{e&&await Q.post("/chats",{buyerId:r,sellerId:e});const T=(await Q.get("/chats/buyer",{params:{buyerId:r}})).data.map(b=>({...b,Avt:b.SellerAvatar?`${l}/${b.SellerAvatar}`:`${l}/avtDf.png`}));if(T.sort((b,C)=>new Date(C.LastSendAt||0)-new Date(b.LastSendAt||0)),c(T),e){const b=T.find(C=>C.SellerId===e);d(b||T[0])}else T.length>0&&d(T[0])}catch(O){console.error("Error initializing chat:",O)}})()},[r,e]),g.useEffect(()=>{(async()=>{if(o)try{const T=(await Q.get("/messages",{params:{chatId:o.ChatId}})).data;T.forEach(b=>p.current.delete(b.MessageId)),h(b=>({...b,[o.ChatId]:T})),await Q.post("/messages/read",{chatId:o.ChatId,readerId:r}),c(b=>b.map(C=>C.ChatId===o.ChatId?{...C,UnreadCount:0}:C))}catch(O){console.error("Mark as read failed",O)}})()},[o,r]),g.useEffect(()=>{if(!o||!n)return;n.emit("joinChat",o.ChatId);const N=O=>{O.ChatId===o.ChatId&&(p.current.has(O.MessageId)||(p.current.add(O.MessageId),h(T=>{const b=T[O.ChatId]||[];return b.some(C=>C.MessageId===O.MessageId)?T:{...T,[O.ChatId]:[...b,O]}}),c(T=>T.map(b=>b.ChatId===O.ChatId?{...b,LastMessage:O.Content,LastSendAt:O.SendAt,UnreadCount:O.SenderId!==r?(b.UnreadCount||0)+1:b.UnreadCount}:b))))};return n.on("newMessage",N),()=>{n.off("newMessage",N),n.emit("leaveChat",o.ChatId)}},[o,r,n]),g.useEffect(()=>{if(!n)return;const N=T=>{var b;((b=y.current)==null?void 0:b.CallId)===T.CallId&&v(T)},O=T=>{var b;((b=y.current)==null?void 0:b.CallId)===T.CallId&&(v(null),w(!1))};return n.on("callAccepted",N),n.on("callEnded",O),()=>{n.off("callAccepted",N),n.off("callEnded",O)}},[n]);const u=async N=>{if(!(!o||!N.trim()))try{const T=(await Q.post("/messages",{chatId:o.ChatId,senderId:r,content:N})).data;p.current.add(T.MessageId),h(b=>({...b,[o.ChatId]:[...b[o.ChatId]||[],T]})),c(b=>{const C=b.map(E=>E.ChatId===o.ChatId?{...E,LastMessage:T.Content,LastSendAt:T.SendAt}:E);return C.sort((E,D)=>new Date(D.LastSendAt)-new Date(E.LastSendAt)),C}),d(b=>({...b,LastMessage:T.Content,LastSendAt:T.SendAt}))}catch{alert("Gi tin nhn tht bi")}},m=N=>{p.current.has(N.MessageId)||(p.current.add(N.MessageId),h(O=>({...O,[o.ChatId]:[...O[o.ChatId]||[],N]})),c(O=>{const T=O.map(b=>b.ChatId===o.ChatId?{...b,LastMessage:N.Content,LastSendAt:N.SendAt}:b);return T.sort((b,C)=>new Date(C.LastSendAt)-new Date(b.LastSendAt)),T}))},j=async N=>{var O,T;if(o)try{const b=o.SellerId,C=await Q.post("/calls/initiate",{chatId:o.ChatId,callerId:r,receiverId:b,type:N});v(C.data),w(!0)}catch(b){console.error("Failed to initiate call:",b),alert("Khng th bt u cuc gi: "+(((T=(O=b.response)==null?void 0:O.data)==null?void 0:T.message)||b.message))}};return a.jsxs("div",{className:"fixed bottom-4 right-4 w-[600px] h-[420px] bg-white z-50 rounded-xl shadow-xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-orange-500 text-white",children:[a.jsxs("span",{className:"font-bold",children:["Chat vi ",(o==null?void 0:o.SellerName)||"Gian hng"]}),a.jsx("button",{onClick:t,className:"px-3 py-1 bg-orange-700 cursor-pointer rounded hover:bg-orange-600 transition-colors",children:""})]}),x&&a.jsx(Ji,{call:x,currentUserId:r,isIncoming:!1,onEndCall:()=>{v(null),w(!1)},isOpen:S,socket:n}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx(d4,{chats:i,selectedChat:o,onSelect:d}),a.jsx(m4,{chat:o,currentUserId:r,messages:o?f[o.ChatId]||[]:[],onSendMessage:u,onNewMessage:m,onInitiateCall:j,socket:n})]})]})}function Gr({sellerId:e,visible:t=!0,onOpen:n}){const[s,r]=g.useState(!1),[l,i]=g.useState([]),c=JSON.parse(sessionStorage.getItem("account")),o=c==null?void 0:c.AccountId,d=async()=>{if(o)try{const h=await Q.get("/chats/buyer",{params:{buyerId:o}});i(h.data)}catch(h){console.error("Error loading chats:",h)}};g.useEffect(()=>{o&&d()},[o]);const f=g.useMemo(()=>l.reduce((h,p)=>h+(p.UnreadCount||0),0),[l]);return t?s?a.jsx(wd,{sellerId:e,onClose:()=>r(!1)}):a.jsxs("div",{onClick:()=>{n?n():r(!0)},className:"fixed bottom-6 right-6 w-12 h-12 bg-orange-500 text-white rounded-full cursor-pointer shadow-xl flex items-center justify-center z-[99999] hover:bg-orange-600 transition-colors",children:[a.jsx("span",{className:"text-lg font-bold select-none",children:"S"}),f>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold min-w-[18px] h-[18px] px-1 flex items-center justify-center rounded-full",children:f>99?"99+":f})]}):null}function Sd(){const e=JSON.parse(sessionStorage.getItem("account"));return(e==null?void 0:e.RoleId)==="2"}function g4(){const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState(0),[l,i]=g.useState([]),[c,o]=g.useState([]),[d,f]=g.useState(null),h=g.useRef(null),[p,x]=g.useState(0),v=240;g.useEffect(()=>{Q.get("/categories").then(u=>i(u.data)).catch(console.error),Q.get("/products/random").then(u=>o(u.data)).catch(console.error),Q.get("/ads/style/2").then(u=>f(u.data)).catch(console.error),Q.get("/vouchers/random?limit=8").then(u=>{console.log("voucher api =",u.data),Array.isArray(u.data)?n(u.data):n([])}).catch(console.error)},[]),g.useEffect(()=>{if(!h.current||t.length===0)return;const u=h.current.offsetWidth,m=t.length*v,j=Math.max(m-u,0);x(j)},[t]);const S=Math.min(s*v,p),w=u=>u.isOut?"bg-gray-300 text-gray-500 cursor-not-allowed":u.isReceived?"bg-gray-400 text-white cursor-not-allowed":"bg-orange-500 hover:bg-orange-600 text-white",y=async u=>{var m,j;try{await Q.post("/voucher-usage/save",{voucherId:u}),n(N=>N.map(O=>O.VoucherId===u?{...O,isReceived:1,Quantity:O.Quantity-1}:O))}catch(N){alert(((j=(m=N.response)==null?void 0:m.data)==null?void 0:j.message)||"Li")}};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("main",{className:"bg-gray-50 py-6",children:a.jsxs("div",{className:"grid grid-cols-12 max-w-7xl mx-auto px-4 gap-4",children:[a.jsx("aside",{className:"col-span-2",children:a.jsxs("div",{className:`bg-white p-2 rounded shadow\r
                         max-h-[calc(100vh-120px)]\r
                         overflow-y-auto\r
                         sticky top-24`,children:[a.jsx("h3",{className:"font-bold mb-2",children:"Danh mc"}),a.jsx("ul",{className:"space-y-2 text-sm",children:l.map(u=>a.jsxs("li",{onClick:()=>e(`/search?category=${u.CategoryId}`),className:`flex items-center gap-2\r
                               cursor-pointer\r
                               hover:text-orange-500`,children:[u.CategoryImage&&a.jsx("img",{src:u.CategoryImage,alt:"",className:"w-5 h-5 object-cover"}),u.CategoryName]},u.CategoryId))})]})}),a.jsxs("section",{className:"col-span-8",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Gi  hm nay"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:c.map(u=>a.jsxs("div",{onClick:()=>e(`/product/${u.ProductId}`),className:`bg-white p-3 rounded shadow\r
                             hover:shadow-lg transition\r
                             cursor-pointer`,children:[a.jsx("img",{src:u.Image,alt:"",className:"h-32 w-full object-cover mb-2"}),a.jsx("p",{className:"text-sm line-clamp-2",children:u.ProductName}),a.jsxs("p",{className:"text-red-500 font-bold",children:[Number(u.Price).toLocaleString()," "]}),a.jsx("button",{className:"mt-4 w-full py-2 bg-gray-50 text-gray-700 cursor-pointer rounded-lg font-medium hover:bg-orange-50 hover:text-orange-600 transition-colors text-sm",children:"Xem chi tit"})]},u.ProductId))}),a.jsxs("div",{className:"mt-8 relative group",children:[a.jsx("h3",{className:"text-lg font-bold mb-3",children:" Voucher ni bt"}),s>0&&a.jsx("button",{onClick:()=>r(s-1),className:`absolute left-0 top-1/2 -translate-y-1/2\r
                             bg-white shadow rounded-full w-8 h-8\r
                             hidden group-hover:flex\r
                             items-center justify-center z-10 cursor-pointer`,children:""}),a.jsx("div",{className:"overflow-hidden",ref:h,children:a.jsx("div",{className:"flex gap-4 transition-transform duration-300",style:{transform:`translateX(-${S}px)`},children:t.map(u=>a.jsxs("div",{className:"w-[220px] shrink-0 bg-white border rounded-lg p-3 shadow-sm",children:[a.jsx("p",{className:"font-semibold text-sm line-clamp-2",children:u.VoucherName}),a.jsx("p",{className:"text-red-500 font-bold mt-1",children:u.DiscountType==="percent"?`Gim ${u.DiscountValue}%`:`Gim ${Number(u.DiscountValue).toLocaleString()} `}),u.MinOrderValue>0&&a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["n t ",Number(u.MinOrderValue).toLocaleString(),""]}),u.MaxDiscount>0&&a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Ti a ",Number(u.MaxDiscount).toLocaleString(),""]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:u.StallName?`p dng cho gian hng "${u.StallName}"`:"p dng cho tt c mt hng"}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["HSD: ",u.EndTime]}),a.jsx("button",{disabled:u.isReceived||u.isOut,onClick:()=>y(u.VoucherId),className:`mt-2 w-full text-sm rounded py-1 transition
    ${w(u)}
  `,children:u.isOut?"Ht lt":u.isReceived?" nhn":"Lu voucher"})]},u.VoucherId))})}),s*v<p&&a.jsx("button",{onClick:()=>r(s+1),className:`absolute right-0 top-1/2 -translate-y-1/2\r
                             bg-white shadow rounded-full w-8 h-8\r
                             hidden group-hover:flex\r
                             items-center justify-center z-10 cursor-pointer`,children:""})]})]}),a.jsx("aside",{className:"col-span-2",children:a.jsx("div",{className:"bg-white rounded shadow sticky top-24 overflow-hidden",children:d?a.jsx("img",{src:d.AdsImage,alt:"Qung co",className:"w-full h-full object-cover"}):a.jsx("p",{className:"p-4 text-sm text-gray-400 text-center",children:"Cha c qung co, lin h ngay  gc di cng mn hnh  c h tr!"})})})]})}),a.jsx(Bt,{}),Sd()&&a.jsx(Gr,{sellerId:null})]})}function x4(){const[e]=cx(),t=oe(),n=e.get("category"),s=e.get("keyword"),[r,l]=g.useState([]),[i,c]=g.useState("newest");g.useEffect(()=>{Q.get("/products/search",{params:{category:n,keyword:s}}).then(d=>l(d.data)).catch(console.error)},[n,s]);const o=g.useMemo(()=>{const d=[...r];switch(i){case"priceAsc":return d.sort((f,h)=>f.Price-h.Price);case"priceDesc":return d.sort((f,h)=>h.Price-f.Price);case"bestSelling":return d.sort((f,h)=>h.countOrders===f.countOrders?h.ProductId-f.ProductId:h.countOrders-f.countOrders);default:return d.sort((f,h)=>h.ProductId-f.ProductId)}},[r,i]);return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("main",{className:"bg-gray-50 py-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded shadow mb-4 flex items-center gap-4",children:[a.jsx("span",{className:"font-semibold",children:"Sp xp theo:"}),a.jsxs("select",{value:i,onChange:d=>c(d.target.value),className:"border px-3 py-1 rounded text-sm",children:[a.jsx("option",{value:"newest",children:"Mi nht"}),a.jsx("option",{value:"priceAsc",children:"Gi: Thp  Cao"}),a.jsx("option",{value:"priceDesc",children:"Gi: Cao  Thp"}),a.jsx("option",{value:"bestSelling",children:"Bn chy"})]})]}),o.length===0?a.jsx("p",{className:"text-gray-500 text-center",children:"Khng c sn phm"}):a.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.map(d=>a.jsxs("div",{onClick:()=>t(`/product/${d.ProductId}`),className:"bg-white p-3 rounded shadow hover:shadow-lg transition cursor-pointer",children:[a.jsx("img",{src:d.Image,alt:d.ProductName,className:"h-32 w-full object-cover mb-2 rounded"}),a.jsx("p",{className:"text-sm line-clamp-2 mb-1",children:d.ProductName}),a.jsxs("p",{className:"text-red-500 font-bold",children:[Number(d.Price).toLocaleString()," "]})]},d.ProductId))})]})}),a.jsx(Bt,{}),Sd()&&a.jsx(Gr,{sellerId:null})]})}function p4(){const e=oe(),[t,n]=g.useState(""),[s,r]=g.useState(""),[l,i]=g.useState(""),[c,o]=g.useState(!1),d=async f=>{var h,p;f.preventDefault(),i(""),o(!0);try{const x=await Q.post("/accounts/login",{username:t,password:s}),{account:v,token:S}=x.data;sessionStorage.setItem("token",S),sessionStorage.setItem("roleId",Number(v.RoleId)),sessionStorage.setItem("accountId",v.AccountId),sessionStorage.setItem("account",JSON.stringify(v)),setTimeout(()=>{switch(v.RoleId){case"1":e("/admin/accounts");break;case"2":e("/");break;case"3":e("/seller/products");break;case"4":e("/staff/manage-orders");break;default:e("/")}},500)}catch(x){i(((p=(h=x.response)==null?void 0:h.data)==null?void 0:p.message)||"ng nhp tht bi"),o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl shadow-lg mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Cho mng tr li"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"ng nhp  tip tc"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-8",children:[l&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-red-700",children:l})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ng nhp"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("input",{id:"username",type:"text",placeholder:"Nhp tn ng nhp",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",value:t,onChange:f=>n(f.target.value),required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),a.jsx("a",{href:"#",className:"text-sm text-orange-600 hover:text-orange-800 font-medium",children:"Qun mt khu?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{id:"password",type:"password",placeholder:"Nhp mt khu",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",value:s,onChange:f=>r(f.target.value),required:!0,disabled:c})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Ghi nh ng nhp"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx("button",{type:"submit",disabled:c,className:`col-span-3 py-3 px-4 rounded-xl font-semibold text-white shadow-md transition-all duration-300 flex items-center justify-center ${c?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 hover:shadow-lg"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ng nhp..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"ng nhp"]})}),a.jsx("button",{type:"button",onClick:()=>e("/"),className:"col-span-1 py-1.5 px-3 text-xs font-medium text-gray-600 bg-transparent border border-gray-300 rounded-md hover:bg-gray-100 hover:text-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-400 transition-colors cursor-pointer self-center",children:"Hu"})]})]}),a.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Cha c ti khon?"," ",a.jsx("a",{href:"/register",className:"font-semibold text-orange-600 hover:text-orange-800 transition-colors duration-200",children:"ng k ngay"})]})]}),a.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-100 text-center",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Bng vic ng nhp, bn ng  vi"," ",a.jsx("a",{href:"#",className:"text-orange-600 hover:text-orange-800",children:"iu khon s dng"})," ","v"," ",a.jsx("a",{href:"#",className:"text-orange-600 hover:text-orange-800",children:"Chnh sch bo mt"})]})})]})]})})}function y4(){const e=oe(),[t,n]=g.useState({username:"",password:"",confirmPassword:"",name:"",phone:"",identityNumber:"",dateOfBirth:"",IsActive:1,gender:"m",roleId:2}),[s,r]=g.useState(""),l=c=>{const{name:o,value:d}=c.target;n({...t,[o]:d})},i=async c=>{var p,x;c.preventDefault(),r("");const o=t.password.trim();if(!/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!-/:-@\[-`\{-~]).{8,}$/.test(o)){r("Mt khu phi c t nht 8 k t, bao gm ch ci, s v k t c bit!");return}if(o!==t.confirmPassword){r("Password v Confirm Password khng khp");return}if(t.phone.length!==10||!/^0\d{9}$/.test(t.phone)){r("S in thoi khng hp l!");return}if(t.identityNumber.length!==12||!/^\d+$/.test(t.identityNumber)){r("S CMND/CCCD khng hp l!");return}const f=new Date,h=new Date(t.dateOfBirth);if(f.setHours(0,0,0,0),h.setHours(0,0,0,0),h>=f){r("Ngy sinh khng th ln hn hin ti!");return}try{await ze.post(`${pe}/api/accounts/register`,t),alert("ng k thnh cng!"),e("/login")}catch(v){console.error(v),r(((x=(p=v.response)==null?void 0:p.data)==null?void 0:x.message)||"ng k tht bi")}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-extrabold text-center text-gray-900",children:"ng k ti khon"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoc"," ",a.jsx("a",{href:"/login",className:"font-medium text-orange-600 hover:text-orange-500 transition-colors",children:"ng nhp"})," ","nu  c ti khon"]})]}),s&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:a.jsx("p",{className:"text-sm text-red-700",children:s})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn ng nhp"}),a.jsx("input",{id:"username",type:"text",name:"username",placeholder:"Username",value:t.username,onChange:l,required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu"}),a.jsx("input",{id:"password",type:"password",name:"password",placeholder:"Password",value:t.password,onChange:l,required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Xc nhn mt khu"}),a.jsx("input",{id:"confirmPassword",type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:t.confirmPassword,onChange:l,required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"H v tn"}),a.jsx("input",{id:"name",type:"text",name:"name",placeholder:"Name",value:t.name,onChange:l,required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"S in thoi"}),a.jsx("input",{id:"phone",type:"text",name:"phone",placeholder:"Phone",value:t.phone,onChange:l,required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"identityNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"CMND/CCCD"}),a.jsx("input",{id:"identityNumber",type:"text",name:"identityNumber",placeholder:"Identity Number",value:t.identityNumber,onChange:l,required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy sinh"}),a.jsx("input",{id:"dateOfBirth",type:"date",name:"dateOfBirth",value:t.dateOfBirth,onChange:l,required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gii tnh"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"radio",name:"gender",value:"m",checked:t.gender==="m",onChange:l,className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-orange-500 cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-700 group-hover:text-gray-900",children:"Nam"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"radio",name:"gender",value:"f",checked:t.gender==="f",onChange:l,className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-orange-500 cursor-pointer"}),a.jsx("span",{className:"text-sm text-gray-700 group-hover:text-gray-900",children:"N"})]})]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",className:`flex-1 py-3 px-4 border border-transparent rounded-lg text-sm font-semibold text-white bg-gradient-to-r \r
              from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 \r
              focus:ring-orange-500 transition-all duration-200 shadow-md hover:shadow-lg cursor-pointer`,children:"ng k"}),a.jsx("button",{type:"button",onClick:()=>e("/"),className:`flex-1 py-3 px-4 border border-transparent rounded-lg text-sm font-semibold text-gray-800 bg-gray-200 hover:bg-gray-300 \r
              focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 cursor-pointer`,children:"Hu"})]})]})]})})}function b4(){const{id:e}=ia(),t=oe(),[n,s]=g.useState(null),[r,l]=g.useState([]),[i,c]=g.useState(!0),[o,d]=g.useState({Username:"",Name:"",Phone:"",Password:"",RoleId:""});g.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),t("/"))},[t]),g.useEffect(()=>{(async()=>{var x;try{const v=await fetch(`${pe}/api/roles`);if(!v.ok)throw new Error("Khng th ly danh sch roles");const S=await v.json(),w=await fetch(`${pe}/api/accounts/${e}`);if(!w.ok)throw new Error("Khng tm thy ti khon");const y=await w.json();l(S),s(y),d({Username:y.Username||"",Name:y.Name||"",Phone:y.Phone||"",Password:"",RoleId:((x=y.RoleId)==null?void 0:x.toString())||""}),c(!1)}catch(v){console.error(v),c(!1)}})()},[e]);const f=p=>d(x=>({...x,[p.target.name]:p.target.value})),h=async p=>{var x,v;p.preventDefault();try{const S={...o};S.Password||delete S.Password,await Q.put(`/accounts/${e}`,S),alert("Cp nht thnh cng!"),t("/admin/accounts")}catch(S){console.error(S),alert(((v=(x=S.response)==null?void 0:x.data)==null?void 0:v.message)||"Cp nht tht bi")}};return i?a.jsx("p",{className:"text-center mt-6",children:"ang ti d liu..."}):n?a.jsx(sa,{children:a.jsxs("div",{className:"max-w-lg mx-auto mt-10 p-6 bg-white rounded shadow",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Cp nht ti khon"}),a.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Username"}),a.jsx("input",{type:"text",name:"Username",value:o.Username,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Name"}),a.jsx("input",{type:"text",name:"Name",value:o.Name,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Phone"}),a.jsx("input",{type:"text",name:"Phone",value:o.Phone,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Password ( trng nu khng i)"}),a.jsx("input",{type:"password",name:"Password",value:o.Password,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Role"}),a.jsx("select",{name:"RoleId",value:o.RoleId,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:r.map(p=>a.jsx("option",{value:p.RoleId.toString(),children:p.RoleName},p.RoleId))})]}),a.jsxs("div",{className:"flex justify-between gap-4 mt-4",children:[a.jsx("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Lu"}),a.jsx("button",{type:"button",onClick:()=>t("/admin/accounts"),className:"flex-1 bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Hy"})]})]})]})}):a.jsx("p",{className:"text-center mt-6",children:"Khng tm thy ti khon"})}function v4(){const[e,t]=g.useState([]),[n,s]=g.useState([]),[r,l]=g.useState(null),[i,c]=g.useState(!1),[o,d]=g.useState(null),f=oe();g.useEffect(()=>{const u=sessionStorage.getItem("account");if(!u){f("/login",{replace:!0});return}const m=JSON.parse(u);if(String(m.RoleId)==="1"){f("/admin/accounts",{replace:!0});return}l(m)},[f]),g.useEffect(()=>{r&&(c(!0),Q.get("/carts").then(u=>{t(u.data),c(!1)}).catch(u=>{console.error(u),c(!1)}))},[r]);const h=e.filter(u=>n.includes(u.CartId)).reduce((u,m)=>u+m.UnitPrice*m.Quantity,0),p=async(u,m)=>{m<1||m>99||(d(u.CartId),await Q.patch("/carts/quantity",{cartId:u.CartId,quantity:m}),t(j=>j.map(N=>N.CartId===u.CartId?{...N,Quantity:m}:N)),d(null))},x=(u,m)=>{if(!/^\d+$/.test(m)||m==="")return;const j=Number(m);j<1||j>99||p(u,j)},v=async u=>{window.confirm("Bn c chc mun xa sn phm ny?")&&(await Q.delete(`/carts/${u}`),t(m=>m.filter(j=>j.CartId!==u)),s(m=>m.filter(j=>j!==u)))},S=e.length>0&&n.length===e.length,w=u=>{s(u?e.map(m=>m.CartId):[])},y=async()=>{if(n.length===0){alert("Vui lng chn t nht 1 sn phm  thanh ton");return}sessionStorage.setItem("checkoutCartIds",JSON.stringify(n)),f("/checkout")};return i?a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[a.jsx(fe,{}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[a.jsx(_f,{className:"w-12 h-12 animate-spin text-orange-500"}),a.jsx("p",{className:"text-gray-600",children:"ang ti gi hng..."})]})})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[a.jsx(ji,{className:"inline-block w-8 h-8 mr-3 text-orange-500"}),"Gi hng ca bn"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:r!=null&&r.Name?`Xin cho, ${r.Name}!`:""})]}),e.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[a.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(ji,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Gi hng trng"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Bn cha thm sn phm no vo gi hng. Hy khm ph cc sn phm v bt u mua sm!"}),a.jsx("button",{onClick:()=>f("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300",children:"Tip tc mua sm"})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center mr-3 transition-all ${S?"bg-orange-500 border-orange-500":"border-gray-300"}`,children:S&&a.jsx(Tr,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",checked:S,onChange:u=>w(u.target.checked),className:"hidden"}),a.jsxs("span",{className:"font-semibold cursor-pointer text-gray-700",children:["Chn tt c (",e.length," sn phm)"]})]})}),a.jsx("button",{onClick:()=>w(!S),className:"text-sm cursor-pointer text-orange-600 hover:text-orange-700 cursor-pointer font-medium",children:S?"B chn":"Chn tt c"})]})}),a.jsx("div",{className:"space-y-4",children:e.map(u=>{const m=n.includes(u.CartId),j=u.UnitPrice*u.Quantity;return a.jsx("div",{className:`bg-white rounded-2xl shadow-sm border-2 transition-all duration-300 ${m?"border-orange-500 bg-orange-50":"border-transparent hover:border-gray-200"}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"pt-1",children:a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${m?"bg-orange-500 border-orange-500":"border-gray-300"}`,children:m&&a.jsx(Tr,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:m,onChange:N=>{s(O=>N.target.checked?[...O,u.CartId]:O.filter(T=>T!==u.CartId))}})]})}),a.jsx("div",{className:"flex-shrink-0 cursor-pointer",onClick:()=>f(`/product/${u.ProductId}`),children:a.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-gray-100",children:a.jsx("img",{src:u.Image,alt:u.ProductName,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 hover:text-orange-600 cursor-pointer transition-colors",onClick:()=>f(`/product/${u.ProductId}`),children:u.ProductName}),u.Description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:u.Description})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-bold text-red-500",children:[j.toLocaleString(),""]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Number(u.UnitPrice).toLocaleString()," / sn phm"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center border rounded-xl overflow-hidden",children:[a.jsx("button",{onClick:()=>p(u,u.Quantity-1),disabled:o===u.CartId||u.Quantity<=1,className:"w-10 h-10 flex items-center cursor-pointer justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(O3,{className:"w-4 h-4"})}),a.jsx("div",{className:"w-16",children:o===u.CartId?a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(_f,{className:"w-5 h-5 animate-spin text-orange-500"})}):a.jsx("input",{value:u.Quantity,onChange:N=>x(u,N.target.value),className:"w-full h-10 text-center border-x bg-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),a.jsx("button",{onClick:()=>p(u,u.Quantity+1),disabled:o===u.CartId||u.Quantity>=99,className:"w-10 h-10 flex items-center cursor-pointer justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(rp,{className:"w-4 h-4"})})]})}),a.jsxs("button",{onClick:()=>v(u.CartId),className:"flex items-center text-gray-400 cursor-pointer hover:text-red-500 transition-colors group",children:[a.jsx(Nd,{className:"w-5 h-5 mr-1 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-sm font-medium",children:"Xa"})]})]})]})]})})},u.CartId)})})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"sticky top-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6 pb-4 border-b",children:"Tm tt n hng"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Sn phm  chn:"}),a.jsxs("span",{className:"font-semibold",children:[n.length," sn phm"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto pr-2 space-y-3",children:e.filter(u=>n.includes(u.CartId)).map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-gray-200",children:a.jsx("img",{src:u.Image,alt:u.ProductName,className:"w-full h-full object-cover"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-900 line-clamp-1",children:u.ProductName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[u.Quantity,"  ",Number(u.UnitPrice).toLocaleString(),""]})]})]}),a.jsxs("span",{className:"font-semibold text-red-500",children:[(u.UnitPrice*u.Quantity).toLocaleString(),""]})]},u.CartId))})]}),a.jsxs("div",{className:"border-t pt-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Tng tin:"}),a.jsxs("span",{className:"text-2xl font-bold text-red-500",children:[h.toLocaleString(),""]})]}),h===0&&a.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx(Lt,{className:"w-5 h-5 text-yellow-500 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Vui lng chn t nht 1 sn phm  thanh ton"})]})]})]}),a.jsxs("button",{disabled:n.length===0,onClick:y,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center space-x-3
                    ${n.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-red-500 cursor-pointer text-white hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]"}`,children:[a.jsx("span",{children:"Tin hnh thanh ton"}),a.jsx(Mf,{className:"w-5 h-5"})]}),a.jsx("button",{onClick:()=>f("/"),className:"w-full mt-4 py-3 bg-white border-2 cursor-pointer border-gray-300 text-gray-700 cursor-pointer font-semibold rounded-xl hover:border-orange-500 hover:text-orange-600 transition-all duration-300",children:"Tip tc mua sm"}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-100",children:a.jsx("p",{className:"text-sm text-blue-700 text-center",children:" Thanh ton an ton  m bo hon tin  H tr 24/7"})})]})})]})]}),e.length>0&&a.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-40",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tng thanh ton"}),a.jsxs("p",{className:"text-xl font-bold text-red-500",children:[h.toLocaleString(),""]})]}),a.jsxs("button",{disabled:n.length===0,onClick:y,className:`px-6 py-3 rounded-lg font-bold transition-all flex items-center space-x-2
                  ${n.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:[a.jsx("span",{children:"Thanh ton"}),a.jsx(Mf,{className:"w-4 h-4"})]})]})})}),e.length>0&&a.jsx("div",{className:"lg:hidden h-20"}),Sd()&&a.jsx(Gr,{sellerId:null})]})}function j4(){const{id:e}=ia(),t=oe(),n=JSON.parse(sessionStorage.getItem("account")),s=n==null?void 0:n.AccountId,[r,l]=g.useState(null),[i,c]=g.useState(1),[o,d]=g.useState(!1),[f,h]=g.useState(!0),[p,x]=g.useState([]),[v,S]=g.useState({average:"0.0",totalReviews:0}),w=`${pe}/uploads/ProductImage`,y=`${pe}/uploads/AccountAvatar`,u=`${pe}/uploads/feedback`;g.useEffect(()=>{(async()=>{var K,V;try{h(!0);const _=await Q.get(`/products/${e}`);console.log("Product API Response:",_.data),_.data.success?(l({product:_.data.product,stall:_.data.stall}),x(_.data.feedbacks||[]),S({average:((K=_.data.rating)==null?void 0:K.average)||"0.0",totalReviews:((V=_.data.rating)==null?void 0:V.totalReviews)||0})):l(_.data)}catch(_){console.error("Error loading product:",_),alert("Khng th ti thng tin sn phm"),t("/")}finally{h(!1)}})()},[e,t]);const m=()=>c(H=>H+1),j=()=>i>1&&c(H=>H-1),N=H=>{let K=H.target.value;/^\d*$/.test(K)&&c(Math.max(1,Number(K)))},O=()=>{var H;return!s||!((H=r==null?void 0:r.stall)!=null&&H.AccountId)?!1:s!==r.stall.AccountId},T=async()=>{var H,K,V;try{if(!n){alert("Vui lng ng nhp  thm vo gi hng"),t("/login");return}await Q.post("/carts",{productId:r.product.ProductId,quantity:i},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),alert(" thm vo gi hng")}catch(_){console.error("Add to cart error:",_),((H=_.response)==null?void 0:H.status)===401?(alert("Vui lng ng nhp"),t("/login")):alert(((V=(K=_.response)==null?void 0:K.data)==null?void 0:V.message)||"Khng th thm vo gi hng")}},b=()=>{if(!n){alert("Vui lng ng nhp  mua hng"),t("/login");return}const H={productId:r.product.ProductId,quantity:i,buyNow:!0};localStorage.setItem("buyNowData",JSON.stringify(H)),sessionStorage.removeItem("checkoutCartIds"),t("/checkout")},C=(H,K="md")=>{const V={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},_=parseFloat(H)||0;return a.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((U,J)=>a.jsx(bn,{className:`${V[K]} ${J<Math.floor(_)?"text-yellow-400 fill-yellow-400":J<_?"text-yellow-400":"text-gray-300"}`},J)),a.jsx("span",{className:`ml-2 ${K==="lg"?"text-lg":"text-sm"} text-gray-600 font-medium`,children:_.toFixed(1)})]})};if(f)return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("main",{className:"max-w-5xl mx-auto p-4 pt-20",children:a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),a.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/4"})]})]})})})]});if(!r||!r.product)return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("main",{className:"max-w-5xl mx-auto p-4 pt-20",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow text-center",children:[a.jsx(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Sn phm khng tn ti"}),a.jsx("button",{onClick:()=>t("/"),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer",children:"Quay li trang ch"})]})})]});const{product:E,stall:D}=r,M=E.Image?E.Image.startsWith("http")?E.Image:`${w}/${E.Image}`:`${w}/default.png`,B=D!=null&&D.Avt?`${y}/${D.Avt}`:`${y}/avtDf.png`;return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pt-20",children:[a.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[a.jsx("span",{className:"cursor-pointer hover:text-orange-500",onClick:()=>t("/"),children:"Trang ch"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("span",{className:"cursor-pointer hover:text-orange-500",onClick:()=>t("/search"),children:"Sn phm"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("span",{className:"text-gray-800 font-medium",children:E.ProductName})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative w-full h-96 overflow-hidden rounded-xl bg-gray-50",children:[a.jsx("img",{src:M,alt:E.ProductName,className:"w-full h-full object-contain"}),E.Status===0&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",children:a.jsx("span",{className:"text-white font-semibold px-4 py-2 bg-red-500 rounded-full",children:"Ngng bn"})})]}),a.jsx("div",{className:"flex gap-3 mt-4 overflow-x-auto",children:a.jsx("div",{className:"w-20 h-20 flex-shrink-0 rounded-lg border-2 border-orange-500 overflow-hidden",children:a.jsx("img",{src:M,alt:E.ProductName,className:"w-full h-full object-cover"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:E.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[C(v.average),a.jsxs("span",{className:"ml-2 text-gray-500",children:["(",v.totalReviews," nh gi)"]})]}),a.jsx("div",{className:"w-px h-4 bg-gray-300"}),a.jsxs("span",{className:"text-green-600 font-medium",children:[" bn: ",E.soldCount||0]})]}),a.jsx("div",{className:"flex items-center gap-3 mb-6",children:a.jsxs("span",{className:"text-4xl font-bold text-red-500",children:[Number(E.Price).toLocaleString()," "]})})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"M t sn phm"}),a.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:E.Description})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"S lng"}),a.jsxs("div",{className:"flex items-center w-32",children:[a.jsx("button",{onClick:j,className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l-lg hover:bg-gray-50 cursor-pointer",children:""}),a.jsx("input",{type:"number",min:"1",value:i,onChange:N,className:"w-12 h-10 text-center border-t border-b border-gray-300"}),a.jsx("button",{onClick:m,className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r-lg hover:bg-gray-50 cursor-pointer",children:"+"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:b,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold rounded-lg hover:shadow-lg transition-shadow cursor-pointer",children:"Mua ngay"}),a.jsx("button",{onClick:T,className:"flex-1 px-6 py-3 border-2 border-orange-500 text-orange-500 font-semibold rounded-lg hover:bg-orange-50 transition cursor-pointer",children:"Thm vo gi"})]})]})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:B,alt:D==null?void 0:D.StallName,className:"w-16 h-16 rounded-full border-2 border-orange-100"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-800",children:D==null?void 0:D.StallName}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["Ch shop: ",D==null?void 0:D.Name]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[C(v.average,"sm"),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",v.totalReviews," nh gi)"]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[O()&&a.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition flex items-center gap-2 cursor-pointer",children:[a.jsx(jd,{size:18}),"Chat vi shop"]}),a.jsx("button",{onClick:()=>t(`/stall/${D==null?void 0:D.StallId}`),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition cursor-pointer",children:"Xem shop"})]})]})}),p.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"nh gi sn phm"}),a.jsx("div",{className:"flex items-center gap-8 mb-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold text-gray-800 mb-1",children:[v.average,a.jsx("span",{className:"text-3xl text-gray-500",children:"/5"})]}),C(v.average,"lg"),a.jsxs("p",{className:"text-gray-500 mt-2",children:[v.totalReviews," nh gi"]})]})}),a.jsx("div",{className:"space-y-6",children:p.map(H=>a.jsx("div",{className:"border-b pb-6 last:border-0",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("img",{src:H.AccountAvatar||`${y}/avtDf.png`,alt:H.AccountName,className:"w-12 h-12 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:H.AccountName}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(H.CreatedAt).toLocaleDateString("vi-VN")})]}),C(H.Score)]}),a.jsx("p",{className:"text-gray-700 mt-3 mb-4",children:H.Content}),H.Images&&H.Images.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:H.Images.map((K,V)=>{const _=typeof K=="string"?K.startsWith("http")?K:`${u}/${K}`:"";return a.jsx("img",{src:_,alt:`Hnh ${V+1}`,className:"h-24 w-24 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>{const U=document.getElementById("modal-image"),J=document.getElementById("image-modal");U&&J&&(U.src=_,J.classList.remove("hidden"))}},V)})})]})]})},H.FeedbackId))})]})]}),a.jsx("div",{id:"image-modal",className:"hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[a.jsx("button",{onClick:()=>document.getElementById("image-modal").classList.add("hidden"),className:"absolute -top-12 right-0 p-2 text-white hover:text-gray-300 cursor-pointer",children:""}),a.jsx("img",{id:"modal-image",src:"",alt:"nh nh gi",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})]})}),O()&&a.jsxs(a.Fragment,{children:[a.jsx(Gr,{sellerId:D==null?void 0:D.AccountId,visible:!o,onOpen:()=>d(!0)}),o&&a.jsx(wd,{sellerId:D==null?void 0:D.AccountId,onClose:()=>d(!1)})]})]})}function N4(){const{id:e}=ia(),t=oe(),[n,s]=g.useState(!0),[r,l]=g.useState(null),[i,c]=g.useState(null),[o,d]=g.useState({ProductName:"",Price:"",Description:"",Image:""});g.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),t("/"))},[t]),g.useEffect(()=>{(async()=>{try{const S=(await Q.get(`/products/${e}`)).data.product;d(S),l(S.Image)}catch{alert("Khng tm thy sn phm"),t("/seller/products")}finally{s(!1)}})()},[e,t]);const f=x=>{const{name:v,value:S}=x.target;d(w=>({...w,[v]:S}))},h=x=>{const v=x.target.files[0];v&&(c(v),l(URL.createObjectURL(v)))},p=async()=>{try{const x=new FormData;x.append("ProductName",o.ProductName),x.append("Price",o.Price),x.append("Description",o.Description),i&&x.append("Image",i),await Q.put(`/products/${e}`,x,{headers:{"Content-Type":"multipart/form-data"}}),alert("Cp nht thnh cng"),t("/seller/products")}catch{alert("Li cp nht sn phm")}};return n?a.jsx("div",{className:"p-4",children:"ang ti..."}):a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-6 flex gap-6",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl shadow-sm relative",children:[a.jsx("button",{onClick:()=>t("/seller/products"),className:"absolute cursor-pointer top-4 left-4 text-sm text-orange-500 hover:underline",children:" Tr v"}),a.jsx("h1",{className:"text-2xl font-bold mb-8 text-center",children:"Cp nht sn phm"}),a.jsxs("div",{className:"flex justify-center mb-8",children:[a.jsxs("label",{htmlFor:"imageUpload",className:"group relative w-72 h-72 cursor-pointer",children:[a.jsx("img",{src:r,alt:"",className:"w-full h-full object-contain border rounded-xl bg-gray-50"}),a.jsxs("div",{className:"absolute inset-0 bg-black/40 rounded-xl flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition",children:[a.jsx(n3,{className:"text-white w-8 h-8 mb-2"}),a.jsx("span",{className:"text-white text-sm",children:"Thay i hnh nh"})]})]}),a.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",className:"hidden",onChange:h})]}),a.jsxs("div",{className:"space-y-5 max-w-xl mx-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold",children:"Tn sn phm"}),a.jsx("input",{name:"ProductName",value:o.ProductName,onChange:f,className:"w-full border px-4 py-2 rounded-lg focus:ring-2 focus:ring-orange-400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold",children:"Gi"}),a.jsx("input",{type:"number",name:"Price",value:o.Price,onChange:f,className:"w-full border px-4 py-2 rounded-lg focus:ring-2 focus:ring-orange-400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold",children:"M t"}),a.jsx("textarea",{name:"Description",value:o.Description,onChange:f,className:"w-full border px-4 py-2 rounded-lg min-h-[140px] focus:ring-2 focus:ring-orange-400"})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx("button",{onClick:p,className:"bg-orange-500 cursor-pointer hover:bg-orange-600 text-white px-8 py-2 rounded-lg font-semibold shadow",children:"Lu thay i"})})]})]})]})]})}function ca(){const e=oe(),t=Gt(),n=[{label:"Thng tin c nhn",path:"/profile"},{label:"a ch",path:"/address"},{label:"n hng",path:"/orders"},{label:"Kho voucher",path:"/my-voucher"}],s=JSON.parse(sessionStorage.getItem("account")),r=l=>l?l.startsWith("http")||l.startsWith("/uploads")?l:`/uploads/AccountAvatar/${l}`:"/uploads/AccountAvatar/avtDf.png";return a.jsxs("aside",{className:"w-64 bg-white border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("img",{src:r(s==null?void 0:s.Avatar),className:"w-12 h-12 rounded-full object-cover border"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:s==null?void 0:s.Name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Ti l ",s==null?void 0:s.Username]})]})]}),a.jsx("div",{className:"space-y-2",children:n.map(l=>a.jsx("div",{onClick:()=>e(l.path),className:`cursor-pointer px-4 py-2 rounded 
              ${t.pathname===l.path?"bg-orange-500 text-white":"hover:bg-gray-100"}`,children:l.label},l.path))})]})}function w4(){const[e,t]=g.useState({Name:"",Phone:"",IdentityNumber:"",Gender:"",day:"",month:"",year:""}),n=oe(),[s,r]=g.useState(null),[l,i]=g.useState(null),[c,o]=g.useState(null),d=g.useRef(null),f=sessionStorage.getItem("token");g.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),n("/"))},[n]),g.useEffect(()=>{(async()=>{const u=await Q.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});if(r(u.data),u.data.DateOfBirth){const m=new Date(u.data.DateOfBirth);t(j=>({...j,Name:u.data.Name||"",Phone:u.data.Phone||"",IdentityNumber:u.data.IdentityNumber||"",Gender:u.data.Gender||"",day:m.getDate(),month:m.getMonth()+1,year:m.getFullYear()}))}})()},[f]);const h=y=>{t({...e,[y.target.name]:y.target.value})},p=async y=>{y.preventDefault();const u=e.year&&e.month&&e.day?`${e.year}-${e.month}-${e.day}`:null;await Q.put(`/accounts/${s.AccountId}/profile`,{Name:e.Name,Phone:e.Phone,IdentityNumber:e.IdentityNumber,Gender:e.Gender,DateOfBirth:u},{headers:{Authorization:`Bearer ${f}`}}),alert("Cp nht thng tin thnh cng")},x=()=>{d.current.click()},v=y=>{const u=y.target.files[0];u&&(i(u),o(URL.createObjectURL(u)))},S=async()=>{if(!l)return alert("Cha chn avatar");const y=new FormData;y.append("avatar",l),await Q.put(`/accounts/${s.AccountId}/avatar`,y,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}});const u=await Q.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});sessionStorage.setItem("account",JSON.stringify(u.data)),r(u.data),i(null),o(null),alert("Cp nht avatar thnh cng"),window.location.reload()},w=[{label:"Tn",name:"Name"},{label:"S in thoi",name:"Phone"},{label:"CMND / CCCD",name:"IdentityNumber"}];return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(ca,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"H s ca ti"}),a.jsxs("div",{className:"grid grid-cols-[2fr_1px_1fr] gap-8",children:[a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[w.map(y=>a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:y.label}),a.jsx("input",{name:y.name,value:e[y.name],onChange:h,className:"col-span-2 border px-3 py-2 rounded w-full"})]},y.name)),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Gii tnh"}),a.jsxs("div",{className:"col-span-2 flex gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"m",checked:e.Gender==="m",onChange:h}),"Nam"]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"f",checked:e.Gender==="f",onChange:h}),"N"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Ngy sinh"}),a.jsxs("div",{className:"col-span-2 flex gap-3",children:[a.jsxs("select",{name:"day",value:e.day,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Ngy"}),[...Array(31)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"month",value:e.month,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Thng"}),[...Array(12)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"year",value:e.year,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Nm"}),Array.from({length:70},(y,u)=>2025-u).map(y=>a.jsx("option",{children:y},y))]})]})]}),a.jsxs("div",{className:"grid grid-cols-3",children:[a.jsx("div",{}),a.jsxs("div",{className:"grid grid-cols-2",children:[a.jsx("button",{type:"submit",className:"bg-orange-500 cursor-pointer hover:bg-orange-600 text-white px-4 py-2 rounded",children:"Lu"}),a.jsx("div",{className:"col-span-2"})]})]})]}),a.jsx("div",{className:"bg-black w-[1px]"}),a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:c||(s==null?void 0:s.Avatar)||`${pe}/uploads/AccountAvatar/avtDf.png`,className:"w-[255px] h-[255px] rounded-full object-cover border cursor-pointer",onClick:x,title:"Click  i avatar"}),a.jsx("input",{type:"file",accept:"image/*",ref:d,className:"hidden",onChange:v}),a.jsx("button",{onClick:S,className:"bg-orange-500 cursor-pointer hover:bg-orange-600 text-white px-4 py-2 rounded",children:"Lu nh"})]})]})]})]})]})}function S4(){const[e,t]=g.useState({Name:"",Phone:"",IdentityNumber:"",Gender:"",day:"",month:"",year:""}),n=oe(),[s,r]=g.useState(null),[l,i]=g.useState(null),[c,o]=g.useState(null),d=g.useRef(null),f=sessionStorage.getItem("token");g.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),n("/"))},[n]),g.useEffect(()=>{(async()=>{const u=await Q.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});if(r(u.data),u.data.DateOfBirth){const m=new Date(u.data.DateOfBirth);t(j=>({...j,Name:u.data.Name||"",Phone:u.data.Phone||"",IdentityNumber:u.data.IdentityNumber||"",Gender:u.data.Gender||"",day:m.getDate(),month:m.getMonth()+1,year:m.getFullYear()}))}})()},[f]);const h=y=>{t({...e,[y.target.name]:y.target.value})},p=async y=>{y.preventDefault();const u=e.year&&e.month&&e.day?`${e.year}-${e.month}-${e.day}`:null;await Q.put(`/accounts/${s.AccountId}/profile`,{Name:e.Name,Phone:e.Phone,IdentityNumber:e.IdentityNumber,Gender:e.Gender,DateOfBirth:u},{headers:{Authorization:`Bearer ${f}`}}),alert("Cp nht thng tin thnh cng")},x=()=>{d.current.click()},v=y=>{const u=y.target.files[0];u&&(i(u),o(URL.createObjectURL(u)))},S=async()=>{if(!l)return alert("Cha chn avatar");const y=new FormData;y.append("avatar",l),await Q.put(`/accounts/${s.AccountId}/avatar`,y,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}});const u=await Q.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});sessionStorage.setItem("account",JSON.stringify(u.data)),r(u.data),i(null),o(null),alert("Cp nht avatar thnh cng"),window.location.reload()},w=[{label:"Tn",name:"Name"},{label:"S in thoi",name:"Phone"},{label:"CMND / CCCD",name:"IdentityNumber"}];return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"H s ca ti"}),a.jsxs("div",{className:"grid grid-cols-[2fr_1px_1fr] gap-8",children:[a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[w.map(y=>a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:y.label}),a.jsx("input",{name:y.name,value:e[y.name],onChange:h,className:"col-span-2 border px-3 py-2 rounded w-full"})]},y.name)),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Gii tnh"}),a.jsxs("div",{className:"col-span-2 flex gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"m",checked:e.Gender==="m",onChange:h}),"Nam"]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"f",checked:e.Gender==="f",onChange:h}),"N"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Ngy sinh"}),a.jsxs("div",{className:"col-span-2 flex gap-3",children:[a.jsxs("select",{name:"day",value:e.day,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Ngy"}),[...Array(31)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"month",value:e.month,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Thng"}),[...Array(12)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"year",value:e.year,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Nm"}),Array.from({length:70},(y,u)=>2025-u).map(y=>a.jsx("option",{children:y},y))]})]})]}),a.jsxs("div",{className:"grid grid-cols-3",children:[a.jsx("div",{}),a.jsxs("div",{className:"grid grid-cols-2",children:[a.jsx("button",{type:"submit",className:"col-span-1 bg-orange-500 text-white px-2 py-2 rounded",children:"Lu"}),a.jsx("div",{className:"col-span-2"})]})]})]}),a.jsx("div",{className:"bg-black w-[1px]"}),a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:c||(s==null?void 0:s.Avatar)||`${pe}/uploads/AccountAvatar/avtDf.png`,className:"w-[255px] h-[255px] rounded-full object-cover border cursor-pointer",onClick:x,title:"Click  i avatar"}),a.jsx("input",{type:"file",accept:"image/*",ref:d,className:"hidden",onChange:v}),a.jsx("button",{onClick:S,className:"bg-orange-500 text-white px-6 py-2 rounded",children:"Lu nh"})]})]})]})]})]})}function C4(){const[e,t]=g.useState([]),[n,s]=g.useState(!0),r=oe(),l=sessionStorage.getItem("token"),i=async()=>{try{const o=await Q.get("/addresses/me",{headers:{Authorization:`Bearer ${l}`}});t(o.data)}catch(o){console.error(o)}finally{s(!1)}};g.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),r("/"))},[r]),g.useEffect(()=>{l&&i()},[l]);const c=async o=>{if(window.confirm("Bn c chc mun xa a ch ny?"))try{await Q.delete(`/addresses/${o}`,{headers:{Authorization:`Bearer ${l}`}}),i()}catch(f){console.error(f),alert("Xa tht bi")}};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(ca,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"a ch ca ti"}),a.jsx("button",{onClick:()=>r("/address/add"),className:"bg-orange-500 cursor-pointer hover:bg-orange-600 text-white px-4 py-2 rounded",children:"+ Thm a ch"})]}),n?a.jsx("p",{children:"ang ti..."}):e.length===0?a.jsx("p",{className:"text-gray-500",children:"Cha c a ch"}):a.jsx("div",{className:"space-y-4",children:e.map(o=>a.jsxs("div",{onClick:()=>r(`/address/update/${o.AddressId}`),className:"border rounded-lg p-4 flex justify-between items-start cursor-pointer hover:shadow transition relative",children:[a.jsx("div",{children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[o.Name," - ",o.Phone]}),a.jsx("p",{className:"text-gray-600",children:o.Content})]})}),a.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),c(o.AddressId)},className:" flex items-center gap-1 cursor-pointer px-3 py-1.5 text-sm font-medium text-red-600 border border-red-200 rounded-md hover:bg-red-200 hover:border-red-500 active:scale-95 transition",children:"Xa"})]},o.AddressId))})]})]})]})}function T4(){const[e,t]=g.useState(""),[n,s]=g.useState(""),[r,l]=g.useState(""),[i,c]=g.useState(!1),[o,d]=g.useState(""),f=oe(),h=sessionStorage.getItem("token");g.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),f("/"))},[f]);const p=async v=>{if(v.preventDefault(),!e.trim())return alert("Nhp tn ngi nhn");if(!n.trim())return alert("Nhp s in thoi");if(n.trim().length!==10)return alert("S in thoi phi ng 10 ch s");if(!r.trim())return alert("Nhp a ch");try{c(!0),await Q.post("/addresses",{Name:e.trim(),Phone:n.trim(),Content:r.trim()},{headers:{Authorization:`Bearer ${h}`}}),f("/address")}catch{alert("Thm tht bi")}finally{c(!1)}},x=()=>{(e||n||r)&&!window.confirm("Bn cha lu, chc chn hu?")||f("/address")};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(ca,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Thm a ch"}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsx("input",{value:e,onChange:v=>t(v.target.value),placeholder:"Tn ngi nhn",className:"w-full border rounded p-3"}),a.jsx("input",{value:n,onChange:v=>{const S=v.target.value.replace(/\D/g,"");s(S),S.length>10?d("S in thoi khng c qu 10 ch s"):d("")},onBlur:()=>{n&&n.length!==10&&d("S in thoi phi ng 10 ch s")},placeholder:"S in thoi",className:`w-full border rounded p-3 ${o?"border-red-500":""}`}),o&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:o}),a.jsx("textarea",{value:r,onChange:v=>l(v.target.value),placeholder:"a ch chi tit",className:"w-full border rounded p-3",rows:4}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{type:"submit",disabled:i,className:"bg-orange-500 text-white cursor-pointer px-6 py-2 rounded disabled:opacity-60",children:i?"ang lu...":"Lu"}),a.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 rounded border cursor-pointer border-gray-300 text-gray-700 hover:bg-gray-100",children:"Hu"})]})]})]})]})]})}const E4={":)":"",":(":"",":D":"",";)":"",":P":""},A4=e=>{let t=e;for(const[n,s]of Object.entries(E4))t=t.split(n).join(s);return t},Bf=e=>{const t=new Date(e),n=new Date,s=t.getFullYear(),r=t.getMonth(),l=t.getDate(),i=n.getFullYear(),c=n.getMonth(),o=n.getDate(),d=Math.floor((new Date(i,c,o)-new Date(s,r,l))/(24*60*60*1e3)),f=t.getHours().toString().padStart(2,"0"),h=t.getMinutes().toString().padStart(2,"0");if(s===i&&r===c&&l===o)return`${f}:${h}`;if(d>0&&d<7){const v=t.getDay();return`${v===0?"CN":`T${v+1}`} lc ${f}:${h}`}const p=l,x=r+1;return s!==i?`${p} THG ${x}/${s} lc ${f}:${h}`:`${p} THG ${x} lc ${f}:${h}`},Uf=(e,t)=>!e||!t||e.SenderId!==t.SenderId?!1:new Date(t.SendAt)-new Date(e.SendAt)<=6e4,O4=({chat:e,currentUserId:t,messages:n=[],onSendMessage:s,onNewMessage:r,onInitiateCall:l})=>{const[i,c]=g.useState(""),[o,d]=g.useState(!1),[f,h]=g.useState(null),p=g.useRef(null),x=500,v=async()=>{if(!(!i.trim()||!e)&&s)try{await s(i.slice(0,x)),c("")}catch(m){console.error("Error sending message:",m)}};g.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[n]);const S=(m,j)=>{const N=m||"";return N.startsWith("image/")?a.jsx(Sr,{className:"text-blue-500"}):N.startsWith("video/")?a.jsx(aa,{className:"text-red-500"}):N.startsWith("audio/")?a.jsx(xs,{className:"text-green-500"}):j!=null&&j.endsWith(".pdf")?a.jsx(Jx,{className:"text-red-500"}):j!=null&&j.endsWith(".doc")||j!=null&&j.endsWith(".docx")?a.jsx(Wx,{className:"text-blue-500"}):j!=null&&j.endsWith(".xls")||j!=null&&j.endsWith(".xlsx")?a.jsx(Zx,{className:"text-green-500"}):N.includes("zip")||N.includes("compressed")?a.jsx(Kx,{className:"text-yellow-500"}):a.jsx(ir,{className:"text-gray-500"})},w=m=>{const j=m.MessageType==="image",N=m.MessageType==="video",O=m.MessageType==="audio";let T=m.FileURL;return T&&T.startsWith("/api/")?T=`${pe}${T}`:T&&!T.includes("/")&&!T.startsWith("http")?T=`${pe}/api/files/${T}`:!T&&m.FileName&&(T=`${pe}/api/files/${m.MessageId}`),a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:`rounded-lg overflow-hidden ${j?"border":""}`,children:j?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:T,alt:m.FileName||"Image",className:"max-w-full max-h-64 object-contain cursor-pointer bg-gray-100 group-hover:blur-sm transition-all duration-200",onClick:()=>h({url:T,name:m.FileName||"Image"}),onError:b=>b.target.src=`${pe}/uploads/placeholder.png`}),a.jsx("div",{className:"absolute inset-0 backdrop-blur-0 group-hover:backdrop-blur-[2px] bg-white/0 group-hover:bg-white/5 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:a.jsx("button",{onClick:()=>h({url:T,name:m.FileName||"Image"}),className:"p-2 bg-white/80 backdrop-blur-sm cursor-pointer rounded-full shadow-sm hover:bg-white hover:shadow-md transition-all",children:a.jsx(Sr,{className:"text-gray-700"})})})]}):N?a.jsx("div",{className:"relative",children:a.jsx("video",{controls:!0,className:"max-w-full max-h-64 bg-black",poster:m.ThumbnailURL,children:a.jsx("source",{src:T,type:m.FileMimeType||"video/mp4"})})}):O?a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xs,{className:"text-2xl text-green-500 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",title:m.FileName||"Audio file",children:m.FileName||"Audio file"}),a.jsx("audio",{controls:!0,className:"w-full mt-2",src:T})]})]})}):a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-2xl flex-shrink-0",children:S(m.FileMimeType,m.FileName)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",title:m.FileName||"File",children:m.FileName||"File"}),m.FileSize&&a.jsxs("p",{className:"text-sm text-gray-500",children:[(m.FileSize/1024).toFixed(1)," KB"]})]}),a.jsx("a",{href:T,download:m.FileName||"file",className:"p-2 hover:bg-gray-200 rounded-full transition-colors flex-shrink-0",title:"Download",onClick:b=>!T&&b.preventDefault(),children:a.jsx(pi,{})})]})})}),m.Content&&m.Content!==m.FileName&&a.jsx("p",{className:"mt-2 text-sm text-gray-700 break-words whitespace-pre-wrap",children:m.Content})]})},y=m=>{if(m.MessageType==="call_invite"||m.MessageType==="call_end")return a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2",children:m.Content});const j=ip.parse(A4(m.Content||""),{folder:"svg",ext:".svg",className:"twemoji"});return a.jsx("span",{dangerouslySetInnerHTML:{__html:j}})},u=n.filter((m,j,N)=>j===N.findIndex(O=>O.MessageId===m.MessageId));return a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o&&a.jsx(cp,{chatId:e==null?void 0:e.ChatId,senderId:t,onClose:()=>d(!1),onSuccess:m=>{r&&r(m),d(!1)}}),f&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>h(null),children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] bg-white rounded-lg shadow-2xl overflow-hidden",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-between p-3 border-b",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 truncate flex-1 mr-4",children:f.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:f.url,download:f.name,className:"p-2 text-gray-600 cursor-pointer hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",onClick:m=>m.stopPropagation(),children:a.jsx(pi,{size:20})}),a.jsx("button",{onClick:()=>h(null),className:"p-2 text-gray-600 cursor-pointer hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",children:a.jsx(Cr,{size:24})})]})]}),a.jsx("div",{className:"pt-12 h-full flex items-center justify-center p-4",children:a.jsx("img",{src:f.url,alt:f.name,className:"max-w-full max-h-[calc(90vh-3rem)] object-contain"})})]})}),a.jsx("div",{ref:p,className:"flex-1 p-3 overflow-y-auto bg-gray-50",style:{maxHeight:"500px",overflowX:"hidden"},children:u.map((m,j)=>{const N=u[j-1],O=u[j+1],T=m.SenderId==t,b=Uf(N,m),C=Uf(m,O),E=j===0||!b;let D="rounded-lg";return!b&&C?D=T?"rounded-lg rounded-tr-2xl":"rounded-lg rounded-tl-2xl":b&&!C&&(D=T?"rounded-lg rounded-br-2xl":"rounded-lg rounded-bl-2xl"),m.MessageType==="call_invite"||m.MessageType==="call_end"?a.jsxs("div",{children:[E&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:Bf(m.SendAt)}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2 px-4 bg-gray-100 rounded-full",children:m.Content})})]},m.MessageId||`${m.SendAt}_${j}`):a.jsxs("div",{children:[E&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:Bf(m.SendAt)}),a.jsx("div",{className:`flex ${T?"justify-end":"justify-start"} mb-1`,children:a.jsx("div",{className:D,style:{maxWidth:m.MessageType!=="text"?"100%":"65%",padding:"0.5rem 0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowWrap:"anywhere",backgroundColor:T?"#f97316":"#fff",color:T?"#fff":"#000",border:T?"none":"1px solid #e5e7eb",fontFamily:'"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif'},children:m.MessageType==="text"?y(m):w(m)})})]},m.MessageId||`${m.SendAt}_${j}`)})}),a.jsxs("div",{className:"border-t border-gray-200 p-3 bg-white min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>l&&l("audio"),className:"h-10 w-10 flex items-center cursor-pointer justify-center text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-full transition-colors flex-shrink-0",title:"Gi thoi",disabled:!e,children:a.jsx(yi,{})}),a.jsx("button",{onClick:()=>l&&l("video"),className:"h-10 w-10 flex items-center justify-center cursor-pointer text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-full transition-colors flex-shrink-0",title:"Gi video",disabled:!e,children:a.jsx(aa,{})}),a.jsx("button",{onClick:()=>d(!0),className:"h-10 w-10 flex items-center justify-center cursor-pointer text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors flex-shrink-0",title:"Gi file",disabled:!e,children:a.jsx(vd,{size:18})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("input",{className:"w-full h-10 border border-gray-300 rounded-full px-4 text-sm focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:i,maxLength:x,onChange:m=>c(m.target.value),onKeyDown:m=>m.key==="Enter"&&v(),placeholder:e?"Nhp ni dung tin nhn...":"Chn cuc tr chuyn",disabled:!e})}),a.jsx("button",{onClick:v,disabled:!e||!i.trim(),className:"h-10 w-10 bg-orange-500 text-white cursor-pointer rounded-full flex items-center justify-center hover:bg-orange-600 transition-colors flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ep,{size:16})})]}),a.jsxs("div",{className:"text-xs text-gray-400 text-center mt-1",children:[i.length,"/",x]})]})]})},k4=e=>{const t="/uploads/AccountAvatar/avtDf.png";return e?(e.startsWith("http://")&&window.location.protocol==="https:"&&(e=e.replace("http://","https://")),e.startsWith("http://")||e.startsWith("https://")?e:`/uploads/AccountAvatar/${e}`):t};function D4(){const e=oe(),t=JSON.parse(sessionStorage.getItem("account")),n=t==null?void 0:t.AccountId,{socket:s}=gd(),[r,l]=g.useState([]),[i,c]=g.useState(null),[o,d]=g.useState([]),[f,h]=g.useState(null),[p,x]=g.useState(!1),v=g.useRef(new Set),S=g.useRef(f);g.useEffect(()=>{S.current=f},[f]),g.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),g.useEffect(()=>{n&&Q.get("/chats/seller",{params:{sellerId:n}}).then(m=>{const j=m.data.map(N=>({...N,SellerId:parseInt(n)}));l(j)}).catch(m=>console.error("Error loading chats:",m))},[n]),g.useEffect(()=>{if(!i)return;(async()=>{try{const j=await Q.get("/messages",{params:{chatId:i.ChatId}});d(j.data),await Q.post("/messages/read",{chatId:i.ChatId,readerId:n}),l(N=>N.map(O=>O.ChatId===i.ChatId?{...O,UnreadCount:0}:O))}catch(j){console.error("Error loading messages:",j)}})()},[i,n]),g.useEffect(()=>{if(!i||!s)return;s.emit("joinChat",i.ChatId);const m=j=>{j.ChatId===i.ChatId&&(v.current.has(j.MessageId)||(v.current.add(j.MessageId),d(N=>N.some(O=>O.MessageId===j.MessageId)?N:[...N,j]),j.SenderId!=n&&l(N=>N.map(O=>O.ChatId===i.ChatId?{...O,UnreadCount:(O.UnreadCount||0)+1}:O))))};return s.on("newMessage",m),()=>{s.off("newMessage",m),s.emit("leaveChat",i.ChatId)}},[i,n,s]),g.useEffect(()=>{if(!s)return;const m=N=>{var O;((O=S.current)==null?void 0:O.CallId)===N.CallId&&h(N)},j=N=>{var O;((O=S.current)==null?void 0:O.CallId)===N.CallId&&(h(null),x(!1))};return s.on("callAccepted",m),s.on("callEnded",j),()=>{s.off("callAccepted",m),s.off("callEnded",j)}},[s]);const w=async m=>{if(!(!m.trim()||!i))try{const N=(await Q.post("/messages",{chatId:i.ChatId,senderId:n,content:m})).data;v.current.add(N.MessageId),d(O=>[...O,N])}catch(j){console.error("Send message error:",j),alert("Gi tin nhn tht bi")}},y=m=>{v.current.has(m.MessageId)||(v.current.add(m.MessageId),d(j=>[...j,m]))},u=async m=>{var j,N;if(i)try{const O=i.BuyerId,T=await Q.post("/calls/initiate",{chatId:i.ChatId,callerId:n,receiverId:O,type:m});h(T.data),x(!0)}catch(O){console.error("Failed to initiate call:",O),alert("Khng th bt u cuc gi: "+(((N=(j=O.response)==null?void 0:j.data)==null?void 0:N.message)||O.message))}};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),f&&a.jsx(Ji,{call:f,currentUserId:n,isIncoming:!1,onEndCall:()=>{h(null),x(!1)},isOpen:p,socket:s}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1 bg-white flex h-[650px] overflow-hidden rounded-xl border border-gray-300 shadow-md min-w-0",children:[a.jsxs("div",{className:"w-72 border-r flex flex-col flex-shrink-0",children:[a.jsx("div",{className:"p-3 font-semibold border-b flex-shrink-0",children:"Tin nhn"}),a.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:r.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Cha c cuc tr chuyn no"}):r.map(m=>a.jsx("div",{onClick:()=>c(m),className:`p-3 cursor-pointer border-b hover:bg-gray-100 transition-colors active:bg-gray-200 flex-shrink-0 ${(i==null?void 0:i.ChatId)===m.ChatId?"bg-orange-50 border-l-4 border-l-orange-500":""}`,children:a.jsxs("div",{className:"flex gap-2 items-center min-w-0",children:[a.jsx("img",{src:m.BuyerAvatar?`${pe}/uploads/AccountAvatar/${m.BuyerAvatar}`:`${pe}/uploads/AccountAvatar/avtDf.png`,className:"w-10 h-10 rounded-full object-cover flex-shrink-0",alt:m.BuyerName}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold text-sm truncate",children:m.BuyerName}),a.jsx("div",{className:"text-xs truncate",children:a.jsx("span",{className:m.UnreadCount>0?"font-bold text-black":"text-gray-500",children:m.LastMessage||"Cha c tin nhn"})})]}),m.UnreadCount>0&&a.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full min-w-5 h-5 flex items-center justify-center flex-shrink-0",children:m.UnreadCount>9?"9+":m.UnreadCount})]})},m.ChatId))})]}),a.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-3 border-b font-semibold flex items-center justify-between bg-gray-50 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("img",{src:k4(i.BuyerAvatar),className:"w-10 h-10 rounded-full object-cover flex-shrink-0",alt:i.BuyerName,onError:m=>{m.target.onerror=null,m.target.src="/uploads/AccountAvatar/avtDf.png"}}),a.jsxs("span",{className:"text-gray-800 truncate",children:["Chat vi ",i.BuyerName]})]})}),a.jsx(O4,{chat:i,currentUserId:n,messages:o,onSendMessage:w,onNewMessage:y,onInitiateCall:u})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 p-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"Chn cuc tr chuyn"}),a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Chn mt cuc tr chuyn t danh sch bn tri  bt u nhn tin"})]})})]})]})]})}function M4(){const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState([]),[l,i]=g.useState(null),[c,o]=g.useState(!1),[d,f]=g.useState(null),[h,p]=g.useState("all"),[x,v]=g.useState(1),S=12;g.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]);const w=async()=>{try{const D=(await Q.get("/ads")).data.map(M=>({...M,AdsImage:M.AdsImage?`/uploads/AdsImage/${M.AdsImage}`:null}));n(D)}catch(E){console.error(E)}},y=async()=>{try{const E=await Q.get("/styleAds");r(E.data)}catch(E){console.error(E)}};g.useEffect(()=>{w(),y()},[]);const u=async(E,D)=>{var H;const M=Number(D)===1?0:1;if((H=(await Q.patch(`/ads/${E}/status`,{status:M})).data)!=null&&H.needConfirm){const K=t.find(U=>U.AdsId===E),V=C(K.StyleID);if(!window.confirm(`Qung co ny ang hin th ti "${V}". Bn c chc mun tt khng?`))return;await Q.patch(`/ads/${E}/status`,{status:0,confirm:!0})}w()},m=async E=>{const D=new FormData;D.append("image",E),await Q.post("/ads/upload",D,{headers:{"Content-Type":"multipart/form-data"}}),w()},j=E=>{i(E),o(!0)},N=async E=>{var D,M;try{if(Number(l.StyleID)===Number(E)){alert("nh ny  c s dng  trang ny"),o(!1),i(null);return}const B=await Q.patch(`/ads/${l.AdsId}/style`,{styleId:E});if(B.data.message){alert(B.data.message);return}if(B.data.type==="empty_style"){if(!window.confirm(`Bn c chc mun chuyn nh sang "${C(E)}" khng?`))return;await Q.patch(`/ads/${l.AdsId}/confirm-style`,{newStyleId:E})}if(B.data.type==="occupied_style"){if(!window.confirm(`Trang "${C(E)}"  c nh khc. nh c s b n. Bn c chc khng?`))return;await Q.patch(`/ads/${l.AdsId}/confirm-style`,{newStyleId:E,occupiedAdId:B.data.occupiedAd.AdsId})}w(),o(!1),i(null)}catch(B){alert(((M=(D=B.response)==null?void 0:D.data)==null?void 0:M.message)||"Khng th thay i trang hin th qung co")}},O=g.useMemo(()=>t.filter(E=>h==="all"?!0:String(E.Status)===h),[t,h]);g.useEffect(()=>{v(1)},[h]);const T=Math.ceil(O.length/S),b=O.slice((x-1)*S,x*S),C=E=>{const D=s.find(M=>Number(M.StyleID)===Number(E));return D?D.StyleName:"-"};return a.jsxs(sa,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Danh sch Qung co"}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"border rounded px-3 py-1 text-sm",children:[a.jsx("option",{value:"all",children:"Tt c"}),a.jsx("option",{value:"1",children:"Hot ng"}),a.jsx("option",{value:"0",children:"Ngng s dng"})]}),a.jsxs("label",{className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded cursor-pointer text-sm",children:["Thm qung co",a.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:E=>{var D;(D=E.target.files)!=null&&D[0]&&(m(E.target.files[0]),E.target.value="")}})]})]})]}),a.jsx("div",{className:"grid grid-cols-6 gap-4",children:b.map(E=>a.jsxs("div",{className:"bg-white rounded shadow p-4 flex flex-col items-center",children:[E.AdsImage?a.jsxs("div",{className:"relative w-full h-40 mb-2 overflow-hidden rounded cursor-pointer",onClick:()=>f(E.AdsImage),children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-110 blur-md",style:{backgroundImage:`url(${E.AdsImage})`}}),a.jsx("img",{src:E.AdsImage,className:"relative z-10 w-full h-full object-contain"})]}):a.jsx("div",{className:"w-full h-40 bg-gray-200 flex items-center justify-center mb-2",children:"Cha c nh"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{onClick:()=>u(E.AdsId,E.Status),className:`px-3 py-1 rounded text-white transition ${Number(E.Status)===1?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:Number(E.Status)===1?"ang dng":"Ngng dng"}),a.jsxs("button",{onClick:()=>j(E),className:"px-3 py-1 rounded bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-1 cursor-pointer",children:[a.jsx(VN,{}),"Chn trang"]})]}),E.StyleID&&a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Mn hnh: ",C(E.StyleID)]})]},E.AdsId))}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsx("button",{onClick:()=>v(E=>Math.max(1,E-1)),disabled:x===1,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${x===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-500 hover:text-white cursor-pointer"}
          `,children:" Trc"}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:T},(E,D)=>a.jsx("button",{onClick:()=>v(D+1),className:`
                w-9 h-9 rounded-full text-sm font-semibold
                transition-all duration-200
                ${x===D+1?"bg-orange-300 text-white":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
              `,children:D+1},D))}),a.jsx("button",{onClick:()=>v(E=>Math.min(T,E+1)),disabled:x===T||T===0,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${x===T||T===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-500 hover:text-white cursor-pointer"}
          `,children:"Sau "})]}),c&&l&&a.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded shadow-lg p-5 w-96",children:[a.jsx("h2",{className:"text-lg font-bold mb-3",children:"Chn Trang hin th"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.filter(E=>E.StyleID!==1).map(E=>{const D=t.find(M=>Number(M.StyleID)===Number(E.StyleID));return a.jsxs("button",{onClick:()=>N(E.StyleID),className:"border rounded p-2 text-left hover:bg-gray-50",children:[a.jsx("p",{className:"font-semibold",children:E.StyleName}),D?a.jsx("img",{src:D.AdsImage,className:"w-full h-20 object-cover mt-1 rounded"}):a.jsx("p",{className:"mt-1 text-sm text-gray-400 italic",children:"Trng (null)"})]},E.StyleID)})}),a.jsx("button",{onClick:()=>o(!1),className:"mt-4 w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded cursor-pointer",children:"Hu"})]})}),d&&a.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"relative bg-white rounded-lg p-3",children:[a.jsx("button",{onClick:()=>f(null),className:"absolute -top-3 -right-3 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center cursor-pointer hover:bg-red-600",children:""}),a.jsx("img",{src:d,className:"max-w-[80vw] max-h-[80vh] object-contain rounded"})]})})]})}function _4(){const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState([]),[l,i]=g.useState([]),[c,o]=g.useState([]),[d,f]=g.useState([]),[h,p]=g.useState(null),[x,v]=g.useState(null),[S,w]=g.useState(null),[y,u]=g.useState([]),[m,j]=g.useState(!0),[N,O]=g.useState(!1),T=g.useMemo(()=>{const A=new Set;return t.forEach(q=>{q.selectedVoucher&&A.add(q.selectedVoucher.UsageId)}),x&&A.add(x.UsageId),A},[t,x]),b=A=>Number(A||0).toLocaleString("vi-VN");g.useEffect(()=>{if(!JSON.parse(sessionStorage.getItem("account"))){e("/login",{replace:!0});return}const q=localStorage.getItem("buyNowData"),X=JSON.parse(sessionStorage.getItem("checkoutCartIds"))||[];q&&!X.length?O(!0):O(!1)},[e]),g.useEffect(()=>{(async()=>{var q,X;try{const I=JSON.parse(sessionStorage.getItem("account"));if(!I)return;j(!0);const W=JSON.parse(localStorage.getItem("buyNowData")),F=JSON.parse(sessionStorage.getItem("checkoutCartIds"))||[];let G;W&&W.buyNow&&!F.length?G=await Q.post("/orders/checkout/buynow",{productId:W.productId,quantity:W.quantity||1}):G=await Q.post("/orders/checkout",{cartIds:F});const[Z,ge,Me]=await Promise.all([Q.get(`/addresses/account/${I.AccountId}`),Q.get("/orders/shiptypes"),Q.get("/payment-methods")]),Ct=G.data.items.map((En,Qr)=>{var Cd;return{...En,itemId:En.CartId||`buynow_${En.ProductId}_${Qr}`,selectedShipType:((Cd=ge.data)==null?void 0:Cd[0])||null,selectedVoucher:null}});n(Ct),o(G.data.orderVouchers||[]),f(G.data.allVouchers||[]),r(Z.data||[]),i(ge.data||[]),u(Me.data||[]),(q=Z.data)!=null&&q.length&&p(Z.data[0]),(X=Me.data)!=null&&X.length&&w(Me.data[0]),j(!1)}catch(I){console.error("Fetch error:",I),alert("Khng th ti d liu checkout"),localStorage.removeItem("buyNowData"),e("/cart")}})()},[e]);const C=A=>{const q=y.find(X=>X.MethodId===Number(A));w(q||null)},E=(A,q)=>{n(X=>X.map(I=>{if(I.itemId===A){let W=null;if(q){const F=I.vouchers.find(Z=>Z.UsageId===Number(q));if(!F)return I;if(T.has(F.UsageId))return alert(`Voucher "${F.VoucherName}"  c s dng  sn phm khc hoc cho ton n. Vui lng chn voucher khc.`),I;if(F.StallId&&F.StallId!==I.StallId)return alert(`Voucher "${F.VoucherName}" ch p dng cho sn phm t ca hng ny, khng p dng cho sn phm hin ti`),I;const G=B(F,I);if(G==="fully_used")return alert(`Voucher ny ch cn ${F.Quantity} lt v  c s dng ht trong n ny`),I;if(G==="min_order_not_met")return alert(`Voucher yu cu n hng ti thiu ${b(F.MinOrderValue)}`),I;W=F,x&&x.UsageId===F.UsageId&&v(null)}return{...I,selectedVoucher:W}}return I}))},D=(A,q)=>{n(X=>X.map(I=>{if(I.itemId===A){const W=l.find(F=>F.ShipTypeId===Number(q))||null;return{...I,selectedShipType:W}}return I}))},M=A=>{if(A){const q=c.find(I=>I.UsageId===Number(A));if(!q)return;if(T.has(q.UsageId)){alert(`Voucher "${q.VoucherName}" ang c s dng cho sn phm. Vui lng b chn  sn phm trc hoc chn voucher khc.`);return}if(t.reduce((I,W)=>I+W.totalPrice,0)<q.MinOrderValue){alert(`Voucher yu cu n hng ti thiu ${b(q.MinOrderValue)}`);return}n(I=>I.map(W=>W.selectedVoucher&&W.selectedVoucher.UsageId===q.UsageId?{...W,selectedVoucher:null}:W)),v(q)}else v(null)},B=(A,q)=>{var I;return T.has(A.UsageId)?"used_by_other":((I=q.selectedVoucher)==null?void 0:I.UsageId)===A.UsageId?"selected":t.reduce((W,F)=>{var G;return((G=F.selectedVoucher)==null?void 0:G.UsageId)===A.UsageId?W+1:W},0)>=A.Quantity?"fully_used":q.totalPrice<A.MinOrderValue?"min_order_not_met":"available"},H=A=>t.some(X=>{var I;return((I=X.selectedVoucher)==null?void 0:I.UsageId)===A.UsageId})?"used_by_product":(x==null?void 0:x.UsageId)===A.UsageId?"selected":"available",K=A=>{const q=A.vouchers||[];return q.length===0?a.jsx("option",{disabled:!0,children:"Khng c voucher kh dng"}):q.map(X=>{const I=B(X,A),W=I!=="selected"&&I!=="available";let F=`${X.VoucherName} - `;return X.DiscountType==="percent"?(F+=`Gim ${X.DiscountValue}%`,X.MaxDiscount&&(F+=` (ti a ${b(X.MaxDiscount)})`)):F+=`Gim ${b(X.DiscountValue)}`,X.MinOrderValue>0&&(F+=` - Ti thiu ${b(X.MinOrderValue)}`),I==="used_by_other"?F+=" -  s dng":I==="fully_used"?F+=" -  ht lt":I==="min_order_not_met"&&(F+=" - Khng  iu kin"),a.jsx("option",{value:X.UsageId,disabled:W,className:W?"text-gray-400 bg-gray-50":"",children:F},X.UsageId)})},V=()=>!c||c.length===0?a.jsx("option",{disabled:!0,children:"Khng c voucher ton n"}):c.map(A=>{const q=H(A),X=q!=="selected"&&q!=="available";let I=`${A.VoucherName} - `;return A.DiscountType==="ship"?I+=`Gim ship ${b(A.DiscountValue)}`:A.DiscountType==="percent"?(I+=`Gim ${A.DiscountValue}%`,A.MaxDiscount&&(I+=` (ti a ${b(A.MaxDiscount)})`)):I+=`Gim ${b(A.DiscountValue)}`,A.MinOrderValue>0&&(I+=` - n ti thiu ${b(A.MinOrderValue)}`),q==="used_by_product"&&(I+=" - ang dng cho sn phm"),a.jsx("option",{value:A.UsageId,disabled:X,className:X?"text-gray-400 bg-gray-50":"",children:I},A.UsageId)}),_=A=>{const q=A.selectedVoucher;if(!q)return 0;const X=A.totalPrice||A.UnitPrice*A.Quantity;if(X<q.MinOrderValue)return 0;let I=0;return q.DiscountType==="percent"?(I=Math.floor(X*q.DiscountValue/100),q.MaxDiscount&&(I=Math.min(I,q.MaxDiscount))):I=q.DiscountValue,Math.min(I,X)},U=A=>{const q=_(A),X=A.totalPrice||A.UnitPrice*A.Quantity;return Math.max(X-q,0)},J=()=>{if(!x)return{product:0,ship:0,isValid:!1};const A=t.reduce((F,G)=>F+G.totalPrice,0),q=t.reduce((F,G)=>{var Z;return F+(((Z=G.selectedShipType)==null?void 0:Z.ShipFee)||0)},0);if(A<x.MinOrderValue)return{product:0,ship:0,isValid:!1,requiredMin:x.MinOrderValue};const X=x;if(X.DiscountType==="ship")return{product:0,ship:Math.min(q,X.DiscountValue),isValid:!0};let I=0;const W=t.reduce((F,G)=>F+U(G),0);return X.DiscountType==="percent"?(I=Math.floor(W*X.DiscountValue/100),X.MaxDiscount&&(I=Math.min(I,X.MaxDiscount))):I=X.DiscountValue,{product:Math.min(I,W),ship:0,isValid:!0}},ee=t.reduce((A,q)=>A+(q.totalPrice||q.UnitPrice*q.Quantity||0),0),ae=t.reduce((A,q)=>A+U(q),0),z=t.reduce((A,q)=>{var X;return A+(((X=q.selectedShipType)==null?void 0:X.ShipFee)||0)},0),Y=J(),k=ae-Y.product+(z-Y.ship),L=()=>{if(N){const A=JSON.parse(localStorage.getItem("buyNowData"));A!=null&&A.productId?e(`/product/${A.productId}`):e("/"),localStorage.removeItem("buyNowData")}else e("/cart")},P=async()=>{var A,q,X;if(!h){alert("Vui lng chn a ch nhn hng");return}if(t.some(I=>!I.selectedShipType)){alert("Vui lng chn phng thc vn chuyn cho tt c sn phm");return}if(!S){alert("Vui lng chn phng thc thanh ton");return}if(x&&t.reduce((W,F)=>W+F.totalPrice,0)<x.MinOrderValue){alert(`Voucher "${x.VoucherName}" yu cu n hng ti thiu ${b(x.MinOrderValue)}`);return}try{const I=JSON.parse(sessionStorage.getItem("checkoutCartIds")||"[]"),W={addressId:h.AddressId,items:t.map(G=>{var Z,ge;return{productId:G.ProductId,quantity:G.Quantity,selectedVoucherId:((Z=G.selectedVoucher)==null?void 0:Z.UsageId)||null,selectedShipTypeId:(ge=G.selectedShipType)==null?void 0:ge.ShipTypeId}}),orderVoucherId:(x==null?void 0:x.UsageId)||null,paymentMethodId:S.MethodId,cartIds:N?[]:I,isBuyNow:N};console.log("Sending order data:",W);const F=await Q.post("/orders",W);alert(`t hng thnh cng! M n hng: #${F.data.orderId}`),localStorage.removeItem("buyNowData"),sessionStorage.removeItem("checkoutCartIds"),S.MethodId===2?(localStorage.removeItem("buyNowData"),sessionStorage.removeItem("checkoutCartIds"),e(`/payment/${F.data.orderId}`)):(localStorage.removeItem("buyNowData"),sessionStorage.removeItem("checkoutCartIds"),e("/orders"))}catch(I){console.error("Order error:",I),console.error("Error response:",(A=I.response)==null?void 0:A.data),alert(((X=(q=I.response)==null?void 0:q.data)==null?void 0:X.message)||"t hng tht bi. Vui lng th li.")}};return m?a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"ang ti n hng..."}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Vui lng ch trong giy lt"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-gray-100 min-h-screen py-8 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 mb-2 transition",children:[a.jsx(np,{className:"w-4 h-4"}),N?"Quay li sn phm":"Quay li gi hng"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Thanh ton"}),a.jsxs("p",{className:"text-gray-500 mt-2",children:[N?"Mua ngay - Hon tt n hng":"Hon tt n hng ca bn",N&&a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Mua ngay"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-orange-100 text-orange-600",children:a.jsx(tt,{className:"w-5 h-5"})}),a.jsx("div",{className:"h-1 w-8 bg-orange-500"}),a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-orange-500 text-white",children:a.jsx(as,{className:"w-5 h-5"})})]})]}),T.size>0&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Lt,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-sm text-yellow-700",children:"Mi voucher ch c s dng mt ln. Khi chn voucher cho sn phm, voucher  s khng kh dng cho ton n v ngc li."})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-50 text-blue-600",children:a.jsx(vi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"a ch nhn hng"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Chn a ch giao hng ca bn"})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:`p-5 rounded-xl border-2 transition-all duration-300 ${h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:h?a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:h.Name}),a.jsx("span",{className:"text-sm text-gray-500",children:"|"}),a.jsx("span",{className:"text-sm text-gray-600",children:h.Phone}),h.Status===1&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Mc nh"})]}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:h.Content})]}),a.jsx("button",{onClick:()=>e("/address"),className:"ml-4 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition",children:"Thay i"})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("p",{className:"text-gray-400 mb-3",children:"Cha c a ch no"}),a.jsx("button",{onClick:()=>e("/address/add"),className:"px-4 py-2 text-sm font-medium cursor-pointer text-blue-600 hover:text-blue-700 border border-blue-200 hover:border-blue-300 rounded-lg transition",children:"+ Thm a ch mi"})]})}),s.length>0&&a.jsx("select",{className:"absolute inset-0 opacity-0 cursor-pointer",value:(h==null?void 0:h.AddressId)||"",onChange:A=>{const q=s.find(X=>X.AddressId===Number(A.target.value));p(q)},children:s.map(A=>a.jsxs("option",{value:A.AddressId,children:[A.Name," | ",A.Phone," | ",A.Content]},A.AddressId))})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-50 text-green-600",children:a.jsx(tt,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Sn phm  chn"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," sn phm trong n hng"]})]})]}),t.length===0?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(tt,{className:"w-8 h-8 text-gray-400"})}),a.jsx("p",{className:"text-gray-500",children:"Khng c sn phm no"}),a.jsx("button",{onClick:()=>e("/cart"),className:"mt-4 px-6 py-2 text-sm font-medium text-orange-600 hover:text-orange-700 border border-orange-200 hover:border-orange-300 rounded-lg transition",children:"Quay li gi hng"})]}):a.jsx("div",{className:"space-y-6",children:t.map(A=>{var q,X;return a.jsxs("div",{className:"flex gap-4 p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:A.Image,alt:A.ProductName,className:"w-24 h-24 rounded-xl object-cover border border-gray-100"}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:A.Quantity})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{onClick:()=>e(`/product/${A.ProductId}`),className:"font-semibold text-gray-800 hover:text-orange-500 cursor-pointer transition mb-1",children:A.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[a.jsxs("span",{children:["n gi: ",a.jsxs("strong",{className:"text-gray-700",children:[b(A.UnitPrice||A.ProductPrice||0),""]})]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Tng: ",a.jsxs("strong",{className:"text-gray-700",children:[b(A.totalPrice||A.UnitPrice*A.Quantity||0),""]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-400 line-through mb-1",children:[b(A.totalPrice||A.UnitPrice*A.Quantity||0),""]}),a.jsxs("div",{className:"font-bold text-red-500 text-lg",children:[b(U(A)),""]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(Ni,{className:"w-4 h-4"}),"Voucher sn phm",A.selectedVoucher&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-800 rounded-full",children:" chn"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition appearance-none bg-white",value:((q=A.selectedVoucher)==null?void 0:q.UsageId)||"",onChange:I=>E(A.itemId,I.target.value),children:[a.jsx("option",{value:"",children:"Khng s dng"}),K(A)]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),A.selectedVoucher&&a.jsx("div",{className:"mt-2 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:A.selectedVoucher.VoucherName}),a.jsxs("p",{className:"text-xs text-green-600 mt-0.5",children:["Gim ",b(_(A)),""]})]}),a.jsx("button",{onClick:()=>E(A.itemId,""),className:"text-xs px-2 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded transition",children:"Xa"})]})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4"}),"Vn chuyn"]}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition appearance-none bg-white",value:((X=A.selectedShipType)==null?void 0:X.ShipTypeId)||"",onChange:I=>D(A.itemId,I.target.value),children:l.length>0?l.map(I=>a.jsxs("option",{value:I.ShipTypeId,children:[I.Content," (+",b(I.ShipFee),")"]},I.ShipTypeId)):a.jsx("option",{disabled:!0,children:"ang ti..."})}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),A.selectedShipType&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Ph vn chuyn: ",a.jsxs("span",{className:"font-medium",children:[b(A.selectedShipType.ShipFee),""]})]})]})]})]})]},A.itemId)})})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-50 text-purple-600",children:a.jsx(Ni,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Voucher ton n"}),a.jsx("p",{className:"text-sm text-gray-500",children:"p dng cho ton b n hng"})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsxs("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-100 outline-none transition appearance-none bg-white",value:(x==null?void 0:x.UsageId)||"",onChange:A=>M(A.target.value),children:[a.jsx("option",{value:"",children:"Khng s dng voucher"}),V()]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),x&&a.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-100 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-100 text-purple-600",children:a.jsx(Pt,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-purple-800",children:x.VoucherName}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm text-purple-600",children:x.DiscountType==="ship"?`Gim ship ${b(x.DiscountValue)}`:x.DiscountType==="percent"?`Gim ${x.DiscountValue}%`:`Gim ${b(x.DiscountValue)}`}),x.MinOrderValue>0&&a.jsxs("span",{className:"text-xs text-purple-500 bg-purple-50 px-2 py-0.5 rounded",children:["Ti thiu ",b(x.MinOrderValue),""]})]})]}),a.jsx("button",{onClick:()=>M(""),className:"text-sm px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition",children:"Xa"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-50 text-blue-600",children:a.jsx(as,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Phng thc thanh ton"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Chn phng thc thanh ton"})]})]}),a.jsx("div",{className:"space-y-3",children:y.length===0?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-gray-400",children:"ang ti phng thc thanh ton..."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition appearance-none bg-white",value:(S==null?void 0:S.MethodId)||"",onChange:A=>C(A.target.value),children:[a.jsx("option",{value:"",children:"Chn phng thc thanh ton"}),y.map(A=>a.jsx("option",{value:A.MethodId,className:"text-gray-700",children:A.MethodName},A.MethodId))]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),a.jsx("div",{className:"hidden md:grid grid-cols-1 gap-3",children:y.map(A=>a.jsx("div",{className:`p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${(S==null?void 0:S.MethodId)===A.MethodId?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-100 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>C(A.MethodId),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${(S==null?void 0:S.MethodId)===A.MethodId?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:(S==null?void 0:S.MethodId)===A.MethodId&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h5",{className:"font-medium text-gray-800",children:A.MethodName}),A.IconUrl&&a.jsx("img",{src:A.IconUrl,alt:A.MethodName,className:"w-8 h-8 object-contain"})]}),A.Description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:A.Description}),A.AdditionalInfo&&a.jsx("div",{className:"mt-2 text-xs text-gray-400 bg-gray-50 p-2 rounded-lg",children:A.AdditionalInfo})]})]})},A.MethodId))})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden sticky top-6",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Tng thanh ton"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Tng tin hng"}),a.jsxs("span",{className:"font-medium",children:[b(ee),""]})]}),ee>ae&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Gim voucher sn phm"}),a.jsxs("span",{className:"font-medium",children:["- ",b(ee-ae),""]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Ph vn chuyn"}),a.jsxs("span",{className:"font-medium",children:[b(z),""]})]}),Y.product>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim voucher n hng"}),a.jsxs("span",{className:"font-medium",children:["- ",b(Y.product),""]})]}),Y.ship>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim ph vn chuyn"}),a.jsxs("span",{className:"font-medium",children:["- ",b(Y.ship),""]})]}),a.jsx("div",{className:"border-t border-gray-200 pt-4",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Tng thanh ton"}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-red-500",children:[b(k),""]}),a.jsx("p",{className:"text-xs text-gray-400 text-right mt-1",children:" bao gm VAT"})]})]})})]})]}),a.jsxs("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-gray-100",children:[a.jsx("button",{onClick:P,disabled:!h||t.length===0,className:`w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-[1.02] ${!h||t.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl"}`,children:h?t.length===0?"KHNG C SN PHM":`THANH TON ${b(k)}`:"CHN A CH"}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:["Bng cch t hng, bn ng  vi ",a.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"iu khon dch v"})," ca chng ti"]})]})]})]})]})]})}),a.jsx(Bt,{})]})}function R4(){const e=oe(),t=JSON.parse(sessionStorage.getItem("account")),[n,s]=g.useState([]),[r,l]=g.useState(!0),i={percent:"Theo phn trm",fixed:"Gi c nh"};return g.useEffect(()=>{(!t||Number(t.RoleId)!==3)&&(alert("Bn khng c quyn truy cp!"),e("/"))},[t,e]),g.useEffect(()=>{(async()=>{try{const o=sessionStorage.getItem("token"),d=await Q.get(`/vouchers/seller/${t.AccountId}`,{headers:{Authorization:`Bearer ${o}`}});s(d.data)}catch(o){console.error("Fetch vouchers error:",o)}finally{l(!1)}})()},[t]),a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Danh sch phiu gim gi"}),a.jsx("button",{onClick:()=>e("/seller/voucher/create"),className:"px-4 py-2 bg-orange-500 cursor-pointer text-white rounded hover:bg-orange-600",children:"To phiu gim gi mi"})]}),r?a.jsx("p",{children:"ang ti..."}):n.length===0?a.jsx("p",{children:"Bn cha c voucher no."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(c=>{var o;return a.jsxs("div",{className:"border rounded-lg p-4 shadow hover:shadow-lg transition",children:[a.jsx("h3",{className:"font-semibold text-lg",children:c.VoucherName}),a.jsxs("p",{children:["Loi: ",i[c.DiscountType]]}),a.jsxs("p",{children:["Gi tr gim:"," ",c.DiscountType==="percent"?`${c.DiscountValue}% (ti a ${(o=c.MaxDiscount)==null?void 0:o.toLocaleString()})`:`${c.DiscountValue.toLocaleString()}`]}),a.jsxs("p",{children:["n ti thiu: ",c.MinOrderValue.toLocaleString(),""]}),a.jsxs("p",{children:["Tng s phiu: ",c.TotalQuantity," Phiu"]}),a.jsxs("p",{children:["Cn li: ",c.Quantity," Phiu"]}),a.jsxs("p",{children:["Ht hn:"," ",new Date(c.EndTime).toLocaleDateString("vi-VN")]}),a.jsx("button",{onClick:()=>e(`/seller/voucher/update/${c.VoucherId}`),className:"mt-3 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Cp nht voucher"})]},c.VoucherId)})})]})]})]})}function z4(){const e=oe();JSON.parse(sessionStorage.getItem("account"));const[t]=cx();t.get("id");const[n,s]=g.useState({VoucherName:"",DiscountType:"percent",DiscountValue:"",MinOrderValue:"",MaxDiscount:"",Quantity:"",EndTime:""}),[r,l]=g.useState({}),[i,c]=g.useState(!1),[o,d]=g.useState(0);g.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),g.useEffect(()=>{if(n.MinOrderValue){const w=Number(n.MinOrderValue),y=Math.floor(w*.1);d(y)}},[n.MinOrderValue]);const f=[{value:"100000",label:"100.000 (10% = 10.000)"},{value:"200000",label:"200.000 (10% = 20.000)"},{value:"300000",label:"300.000 (10% = 30.000)"},{value:"500000",label:"500.000 (10% = 50.000)"},{value:"1000000",label:"1.000.000 (10% = 100.000)"},{value:"2000000",label:"2.000.000 (10% = 200.000)"},{value:"3000000",label:"3.000.000 (10% = 300.000)"},{value:"5000000",label:"5.000.000 (10% = 500.000)"}],h=()=>{const w=[{value:"10000",label:"10.000"},{value:"20000",label:"20.000"},{value:"30000",label:"30.000"},{value:"50000",label:"50.000"},{value:"100000",label:"100.000"},{value:"200000",label:"200.000"},{value:"300000",label:"300.000"},{value:"500000",label:"500.000"},{value:"1000000",label:"1.000.000"}];return n.MinOrderValue?w.filter(y=>Number(y.value)<=o):w},p=w=>{const{name:y,value:u}=w.target,m={...n,[y]:u};if(y==="DiscountType"&&(m.DiscountValue="",m.MaxDiscount="",l({})),y==="MinOrderValue"&&n.DiscountType==="percent"){const j=Number(u)||0,N=Math.floor(j*.1);m.MaxDiscount&&Number(m.MaxDiscount)>N&&(m.MaxDiscount="",l(O=>({...O,MaxDiscount:`Gim ti a phi  10% n ti thiu ( ${N.toLocaleString()})`})))}s(m),x(y,u)},x=(w,y)=>{const u={...r};switch(w){case"MinOrderValue":y&&Number(y)<1e5?u.MinOrderValue="n ti thiu phi t 100.000":delete u.MinOrderValue;break;case"DiscountValue":if(n.DiscountType==="percent")y&&![5,10].includes(Number(y))?u.DiscountValue="Ch c chn 5% hoc 10%":delete u.DiscountValue;else if(n.DiscountType==="fixed"){const m=Number(y)||0;n.MinOrderValue?m<=0?u.DiscountValue="Gi tr gim phi ln hn 0":m>o?u.DiscountValue=`Gi tr gim phi  10% n ti thiu ( ${o.toLocaleString()})`:delete u.DiscountValue:y&&m<=0?u.DiscountValue="Gi tr gim phi ln hn 0":delete u.DiscountValue}break;case"MaxDiscount":if(n.DiscountType==="percent"){const m=Number(y)||0;y&&m>o?u.MaxDiscount=`Gim ti a phi  10% n ti thiu ( ${o.toLocaleString()})`:delete u.MaxDiscount}break;case"Quantity":y&&(Number(y)<1||Number(y)>500||!Number.isInteger(Number(y)))?u.Quantity="S lng phi l s nguyn t 1 n 500":delete u.Quantity;break;case"EndTime":if(y){const m=new Date().setHours(0,0,0,0);new Date(y).setHours(0,0,0,0)<=m?u.EndTime="Ngy ht hn phi sau ngy hin ti":delete u.EndTime}break}l(u)},v=()=>{const w={};return x("MinOrderValue",n.MinOrderValue),x("DiscountValue",n.DiscountValue),x("MaxDiscount",n.MaxDiscount),x("Quantity",n.Quantity),x("EndTime",n.EndTime),n.VoucherName.trim()||(w.VoucherName="Vui lng nhp tn voucher"),n.MinOrderValue||(w.MinOrderValue="Vui lng chn gi tr n ti thiu"),n.DiscountType==="percent"?(n.DiscountValue||(w.DiscountValue="Vui lng chn phn trm gim"),n.MaxDiscount||(w.MaxDiscount="Vui lng chn mc gim ti a")):n.DiscountType==="fixed"&&(n.DiscountValue||(w.DiscountValue="Vui lng nhp gi tr gim")),l(y=>({...y,...w})),Object.keys({...r,...w}).length===0},S=async w=>{var y,u;if(w.preventDefault(),!v()){alert("Vui lng kim tra li thng tin");return}c(!0);try{const m=sessionStorage.getItem("token");await Q.post("/vouchers/seller",{...n,DiscountValue:Number(n.DiscountValue),MinOrderValue:Number(n.MinOrderValue),MaxDiscount:n.DiscountType==="percent"?Number(n.MaxDiscount):null,Quantity:Number(n.Quantity),EndTime:n.EndTime},{headers:{Authorization:`Bearer ${m}`}}),alert("To voucher thnh cng!"),e("/seller/voucher")}catch(m){console.error(m),alert("Li khi to voucher: "+(((u=(y=m.response)==null?void 0:y.data)==null?void 0:u.message)||m.message))}finally{c(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1 bg-white p-6 rounded-lg border border-black-300 shadow",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"To phiu gim gi mi"}),a.jsxs("form",{className:"space-y-4",onSubmit:S,children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Tn voucher ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"VoucherName",value:n.VoucherName,onChange:p,required:!0,className:`border rounded px-3 py-2 w-full ${r.VoucherName?"border-red-500":""}`,placeholder:"Nhp tn voucher"}),r.VoucherName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.VoucherName})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Loi gim gi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"DiscountType",value:n.DiscountType,onChange:p,className:"border rounded px-3 py-2 w-full",children:[a.jsx("option",{value:"percent",children:"Gim theo phn trm"}),a.jsx("option",{value:"fixed",children:"Gim tin c nh"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Gi tr n ti thiu ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"MinOrderValue",value:n.MinOrderValue,onChange:p,required:!0,className:`border rounded px-3 py-2 w-full ${r.MinOrderValue?"border-red-500":""}`,children:[a.jsx("option",{value:"",children:"-- Chn gi tr ti thiu --"}),f.map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))]}),r.MinOrderValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.MinOrderValue})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Gi tr gim ",a.jsx("span",{className:"text-red-500",children:"*"})]}),n.DiscountType==="percent"?a.jsxs(a.Fragment,{children:[a.jsxs("select",{name:"DiscountValue",value:n.DiscountValue,onChange:p,required:!0,className:`border rounded px-3 py-2 w-full ${r.DiscountValue?"border-red-500":""}`,children:[a.jsx("option",{value:"",children:"-- Chn phn trm gim --"}),a.jsx("option",{value:"5",children:"5%"}),a.jsx("option",{value:"10",children:"10%"})]}),r.DiscountValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.DiscountValue})]}):a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"number",name:"DiscountValue",value:n.DiscountValue,onChange:p,min:"1",required:!0,className:`border rounded px-3 py-2 w-full ${r.DiscountValue?"border-red-500":""}`,placeholder:"Nhp s tin gim (VN)"}),r.DiscountValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.DiscountValue}),n.MinOrderValue&&a.jsx("div",{className:"flex items-center gap-2 mt-1"})]})]}),n.DiscountType==="percent"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Gim ti a (VN) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"MaxDiscount",value:n.MaxDiscount,onChange:p,required:!0,disabled:!n.MinOrderValue,className:`border rounded px-3 py-2 w-full ${r.MaxDiscount?"border-red-500":""} ${n.MinOrderValue?"":"bg-gray-100 cursor-not-allowed"}`,children:[a.jsx("option",{value:"",children:n.MinOrderValue?"-- Chn mc gim ti a --":"-- Vui lng chn n ti thiu trc --"}),h().map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))]}),r.MaxDiscount&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.MaxDiscount})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["S lng voucher ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"Quantity",value:n.Quantity,onChange:p,min:"1",max:"500",required:!0,className:`border rounded px-3 py-2 w-full ${r.Quantity?"border-red-500":""}`,placeholder:"Nhp s lng (1-500)"}),r.Quantity&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.Quantity})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Ngy ht hn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"EndTime",value:n.EndTime,onChange:p,required:!0,min:new Date().toISOString().split("T")[0],className:`border rounded px-3 py-2 w-full ${r.EndTime?"border-red-500":""}`}),r.EndTime&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.EndTime})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("button",{type:"submit",disabled:i||!n.MinOrderValue,className:`px-6 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 ${i||!n.MinOrderValue?"opacity-50 cursor-not-allowed":""}`,children:i?"ang x l...":"To voucher"}),a.jsx("button",{type:"button",onClick:()=>e("/seller/voucher"),className:"ml-4 px-6 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Hy"})]})]}),a.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Quy tc to voucher:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"n ti thiu: T 100.000 tr ln"}),a.jsxs("li",{children:["Gim theo phn trm:",a.jsxs("ul",{className:"list-circle pl-5 mt-1",children:[a.jsx("li",{children:"Ch c chn 5% hoc 10%"}),a.jsx("li",{children:"Gim ti a phi  10% gi tr n ti thiu"})]})]}),a.jsxs("li",{children:["Gim c nh:",a.jsxs("ul",{className:"list-circle pl-5 mt-1",children:[a.jsx("li",{children:"Ngi bn t nhp gi tr gim"}),a.jsx("li",{children:"Gi tr gim phi  10% gi tr n ti thiu"})]})]}),a.jsx("li",{children:"S lng voucher: T 1 n 500"}),a.jsx("li",{children:"Ngy ht hn phi sau ngy hin ti"})]})]}),n.MinOrderValue&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded",children:[a.jsx("h4",{className:"font-bold text-blue-800 mb-2",children:"Thng tin xc nhn:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"n ti thiu:"})," ",Number(n.MinOrderValue).toLocaleString(),""]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"10% n ti thiu:"})," ",o.toLocaleString(),""]}),n.DiscountType==="percent"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Phn trm gim:"})," ",n.DiscountValue?n.DiscountValue+"%":"Cha chn"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Gim ti a:"})," ",n.MaxDiscount?Number(n.MaxDiscount).toLocaleString()+"":"Cha chn"]})]}),n.DiscountType==="fixed"&&n.DiscountValue&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"font-medium",children:"Gi tr gim:"})," ",Number(n.DiscountValue).toLocaleString(),"",Number(n.DiscountValue)<=o?a.jsxs("span",{className:"ml-2 text-green-600 text-sm",children:[" Hp l ( ",o.toLocaleString(),")"]}):a.jsx("span",{className:"ml-2 text-red-600 text-sm",children:" Vt qu gii hn 10%"})]})]})]})]})]})]})}function L4(){var h;const e=oe(),{id:t}=ia();g.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]);const[n,s]=g.useState({VoucherName:"",DiscountType:"",DiscountValue:"",MaxDiscount:null,MinOrderValue:"",Quantity:"",EndTime:""}),[r,l]=g.useState(""),[i,c]=g.useState(!1),o="bg-gray-100 cursor-not-allowed";g.useEffect(()=>{(async()=>{try{const x=sessionStorage.getItem("token"),v=await Q.get(`/vouchers/${t}`,{headers:{Authorization:`Bearer ${x}`}});s({VoucherName:v.data.VoucherName,DiscountType:v.data.DiscountType,DiscountValue:v.data.DiscountValue,MaxDiscount:v.data.MaxDiscount,MinOrderValue:v.data.MinOrderValue,Quantity:"",EndTime:v.data.EndTime.split("T")[0]}),l(v.data.EndTime)}catch(x){console.error(x),alert("Khng th ti voucher"),e("/seller/voucher")}})()},[t,e]);const d=p=>{s({...n,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault();const x=Number(n.Quantity);if(!Number.isInteger(x)||x<1||x>500){alert("S lng phi t 1 n 500");return}c(!0);try{const v=sessionStorage.getItem("token");await Q.put(`/vouchers/${t}`,{Quantity:x,EndTime:n.EndTime},{headers:{Authorization:`Bearer ${v}`}}),alert("Cp nht voucher thnh cng!"),e("/seller/voucher")}catch(v){console.error(v),alert("Li khi cp nht voucher")}finally{c(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1 bg-white p-6 rounded-lg border border-black-300 shadow",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Cp nht voucher"}),a.jsxs("form",{className:"space-y-4",onSubmit:f,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tn voucher"}),a.jsx("input",{value:n.VoucherName,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi gim gi"}),a.jsx("input",{value:n.DiscountType==="percent"?"Theo %":"Gim tin c nh",disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gi tr gim"}),a.jsx("input",{value:n.DiscountType==="percent"?`${n.DiscountValue}% (ti a ${(h=n.MaxDiscount)==null?void 0:h.toLocaleString()})`:`${Number(n.DiscountValue).toLocaleString()}`,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gi tr n ti thiu"}),a.jsx("input",{value:`${Number(n.MinOrderValue).toLocaleString()}`,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"S lng thm"}),a.jsx("input",{type:"number",name:"Quantity",value:n.Quantity,onChange:d,min:1,max:500,required:!0,className:"border rounded px-3 py-2 w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ngy ht hn"}),a.jsx("input",{type:"date",value:n.EndTime,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:i?"ang cp nht...":"Cp nht voucher"}),a.jsx("button",{type:"button",onClick:()=>e("/seller/voucher"),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Hu"})]})]})]})]})]})}function V4(){const[e,t]=g.useState([]),[n,s]=g.useState(!0),r=oe(),[l,i]=g.useState(1),c=15,o=u=>!u||Number(u)===0?"N/A":`n t ${Number(u).toLocaleString("vi-VN")} `,[d,f]=g.useState({discountType:"",endTime:"",conditionText:""}),h=u=>{const{name:m,value:j}=u.target;i(1),f(N=>({...N,[m]:j}))},p=new Date,x=e.filter(u=>{if(d.discountType&&u.DiscountType!==d.discountType||d.conditionText&&Number(u.MinOrderValue)!==Number(d.conditionText))return!1;const m=new Date(u.EndTime);return!(d.endTime==="active"&&m<p||d.endTime==="expired"&&m>=p)}),v=(u,m,j)=>u==="percent"?`${m}% (ti a ${Number(j).toLocaleString("vi-VN")} )`:`${Number(m).toLocaleString("vi-VN")} `,S=(u,m="")=>a.jsxs("div",{className:"grid grid-cols-3 text-right",children:[a.jsxs("span",{className:`col-span-2 ${m}`,children:[u," V"]}),a.jsx("span",{})]});g.useEffect(()=>{(async()=>{try{const m=await Q.get("/vouchers/admin");t(m.data)}catch(m){console.error("Li ly voucher admin:",m)}finally{s(!1)}})()},[]);const w=Math.ceil(x.length/c),y=x.slice((l-1)*c,l*c);return n?a.jsx(sa,{children:a.jsx("div",{className:"text-center text-gray-500",children:"ang ti d liu..."})}):a.jsx(sa,{children:a.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-orange-500",children:" Danh sch phiu gim gi"}),a.jsxs("button",{onClick:()=>r("/admin/voucher/create"),className:`\r
      flex items-center gap-2\r
      bg-orange-500 hover:bg-orange-600\r
      text-white px-4 py-2 rounded-lg\r
      shadow transition-all duration-200 cursor-pointer\r
    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-semibold",children:"To voucher"})]})]}),a.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-6 items-center",children:[a.jsxs("select",{name:"discountType",value:d.discountType,onChange:h,className:"border rounded px-3 py-2 cursor-pointer",children:[a.jsx("option",{value:"",children:"-- Loi gim gi --"}),a.jsx("option",{value:"percent",children:"Phn trm (%)"}),a.jsx("option",{value:"fixed",children:"S tin ()"}),a.jsx("option",{value:"ship",children:"Vn chuyn ()"})]}),a.jsxs("select",{name:"endTime",value:d.endTime,onChange:h,className:"border rounded px-3 py-2 cursor-pointer",children:[a.jsx("option",{value:"",children:"-- Trng thi --"}),a.jsx("option",{value:"active",children:"Cn hn"}),a.jsx("option",{value:"expired",children:"Ht hn"})]}),a.jsxs("select",{name:"conditionText",value:d.conditionText,onChange:h,className:"border rounded px-3 py-2 cursor-pointer",children:[a.jsx("option",{value:"",children:"-- Chn iu kin --"}),a.jsx("option",{value:"0",children:"n khng cn iu kin"}),a.jsx("option",{value:"10000",children:"n t 10.000"}),a.jsx("option",{value:"20000",children:"n t 20.000"}),a.jsx("option",{value:"50000",children:"n t 50.000"}),a.jsx("option",{value:"100000",children:"n t 100.000"}),a.jsx("option",{value:"200000",children:"n t 200.000"}),a.jsx("option",{value:"500000",children:"n t 500.000"}),a.jsx("option",{value:"1000000",children:"n t 1.000.000"}),a.jsx("option",{value:"2000000",children:"n t 2.000.000"})]}),a.jsx("span",{className:"col-span-1"}),a.jsx("div",{className:"col-span-2 flex justify-end",children:a.jsx("button",{onClick:()=>{f({discountType:"",endTime:"",conditionText:""}),i(1)},className:"bg-gray-100 hover:bg-gray-200 rounded px-4 py-2 text-sm font-medium cursor-pointer",children:"Lm mi"})})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs("table",{className:"w-full text-sm text-center",children:[a.jsx("thead",{className:"bg-orange-500 text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-center",children:"M gim gi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gian hng"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"iu kin"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gim gi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Tng phiu"}),a.jsx("th",{className:"px-4 py-3 text-center",children:" nhn"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Cn li"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Hn s dng"})]})}),a.jsx("tbody",{children:y.map(u=>{const m=o(u.MinOrderValue),j=v(u.DiscountType,u.DiscountValue,u.MaxDiscount);return a.jsxs("tr",{className:"border-b hover:bg-orange-50 transition",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:u.VoucherName}),a.jsx("td",{className:"px-4 py-3 text-center",children:u.StallName?a.jsx("span",{children:u.StallName}):a.jsx("span",{className:"rainbow-text",children:"Admin"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:m}),a.jsx("td",{className:"px-4 py-3 text-orange-600 font-semibold text-center",children:j}),a.jsx("td",{className:"px-4 py-3",children:S(u.TotalQuantity)}),a.jsx("td",{className:"px-4 py-3",children:S(u.UsedQuantity,"text-red-500")}),a.jsx("td",{className:"px-4 py-3",children:S(u.RemainingQuantity,"text-green-600")}),a.jsx("td",{className:"px-4 py-3 text-center",children:new Date(u.EndTime).toLocaleDateString("vi-VN")})]},u.VoucherId)})})]})}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>i(u=>Math.max(1,u-1)),disabled:l===1,className:`
              flex items-center gap-2 px-4 py-2 rounded-full border
              transition-all duration-200
              ${l===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
            `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:w},(u,m)=>a.jsx("button",{onClick:()=>i(m+1),className:`
                  w-9 h-9 rounded-full text-sm font-semibold
                  transition-all duration-200
                  ${l===m+1?"bg-orange-300 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
                `,children:m+1},m))}),a.jsxs("button",{onClick:()=>i(u=>Math.min(w,u+1)),disabled:l===w||w===0,className:`
              flex items-center gap-2 px-4 py-2 rounded-full border
              transition-all duration-200
              ${l===w||w===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
            `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})})}function B4(){const e=oe(),t=Number(sessionStorage.getItem("accountId")),[n,s]=g.useState({VoucherName:"",DiscountType:"fixed",DiscountValue:"",MinOrderValue:0,MaxDiscount:"",Quantity:"",EndTime:""}),[r,l]=g.useState(!1),[i,c]=g.useState(""),o=f=>{const{name:h,value:p}=f.target;s(x=>({...x,[h]:p}))},d=async f=>{if(f.preventDefault(),c(""),!n.VoucherName||!n.DiscountValue||!n.Quantity||!n.EndTime){c("Vui lng nhp y  thng tin bt buc");return}if(n.DiscountType==="percent"&&(!n.MaxDiscount||Number(n.MaxDiscount)<=0)){c("Vui lng nhp mc gim ti a");return}try{l(!0),await Q.post("/vouchers",{VoucherName:n.VoucherName,DiscountType:n.DiscountType,DiscountValue:Number(n.DiscountValue),MinOrderValue:Number(n.MinOrderValue),MaxDiscount:n.DiscountType==="percent"?Number(n.MaxDiscount):null,Quantity:Number(n.Quantity),EndTime:n.EndTime,CreatedBy:t}),e("/admin/vouchers")}catch(h){console.error(h),c("To voucher tht bi")}finally{l(!1)}};return a.jsx(sa,{children:a.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-orange-500 mb-6",children:" To phiu gim gi (Admin)"}),i&&a.jsx("div",{className:"mb-4 bg-red-100 text-red-600 px-4 py-2 rounded",children:i}),a.jsxs("form",{onSubmit:d,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tn voucher"}),a.jsx("input",{type:"text",name:"VoucherName",value:n.VoucherName,onChange:o,className:"w-full border rounded px-3 py-2",placeholder:"VD: ADMIN10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"iu kin n hng"}),a.jsxs("select",{name:"MinOrderValue",value:n.MinOrderValue,onChange:o,className:"w-full border rounded px-3 py-2",children:[a.jsx("option",{value:0,children:"Khng iu kin"}),a.jsx("option",{value:1e4,children:"n t 10.000"}),a.jsx("option",{value:2e4,children:"n t 20.000"}),a.jsx("option",{value:5e4,children:"n t 50.000"}),a.jsx("option",{value:1e5,children:"n t 100.000"}),a.jsx("option",{value:2e5,children:"n t 200.000"}),a.jsx("option",{value:5e5,children:"n t 500.000"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi gim gi"}),a.jsxs("select",{name:"DiscountType",value:n.DiscountType,onChange:o,className:"w-full border rounded px-3 py-2",children:[a.jsx("option",{value:"fixed",children:"Gim tin"}),a.jsx("option",{value:"percent",children:"Gim theo %"}),a.jsx("option",{value:"ship",children:"Ph vn chuyn"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gi tr gim"}),a.jsx("input",{type:"number",name:"DiscountValue",value:n.DiscountValue,onChange:o,className:"w-full border rounded px-3 py-2",placeholder:n.DiscountType==="percent"?"VD: 10 (%)":"VD: 50000 ()"})]}),n.DiscountType==="percent"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gim ti a ()"}),a.jsx("input",{type:"number",name:"MaxDiscount",value:n.MaxDiscount,onChange:o,className:"w-full border rounded px-3 py-2",placeholder:"VD: 50000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"S lng voucher"}),a.jsx("input",{type:"number",name:"Quantity",value:n.Quantity,onChange:o,className:"w-full border rounded px-3 py-2",min:1})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hn s dng"}),a.jsx("input",{type:"date",name:"EndTime",value:n.EndTime,onChange:o,className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>e("/admin/vouchers"),className:"px-4 py-2 rounded border",children:"Hy"}),a.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 rounded bg-orange-500 text-white",children:r?"ang to...":"To voucher"})]})]})]})})}function U4(){const[e,t]=g.useState([]),[n,s]=g.useState(!0),r=oe();return g.useEffect(()=>{(async()=>{try{const i=await Q.get("/voucher-usage/me");t(i.data)}catch(i){console.error("Li ly voucher:",i)}finally{s(!1)}})()},[]),a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(ca,{}),a.jsxs("div",{className:"flex-1 bg-white rounded-lg p-6 border",children:[a.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Voucher ca ti"}),n?a.jsx("p",{children:"ang ti voucher..."}):e.length===0?a.jsx("p",{className:"text-gray-500",children:"Bn cha c voucher no"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(l=>a.jsx("div",{children:a.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm overflow-hidden h-[130px]",children:[a.jsxs("div",{className:"w-24 bg-orange-400 text-white flex flex-col items-center justify-center px-2",children:[a.jsx("div",{className:"text-[10px] font-semibold tracking-wide",children:"VOUCHER"}),a.jsx("div",{className:"mt-1 font-bold text-sm text-center leading-tight line-clamp-2",children:l.VoucherName})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-around",children:[...Array(6)].map((i,c)=>a.jsx("div",{className:"w-3 h-3 bg-gray-100 rounded-full -translate-x-1/2"},c))})}),a.jsxs("div",{className:"flex-1 p-3 pl-6 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-gray-900 text-sm",children:l.DiscountType==="percent"?`Gim ${l.DiscountValue}%`:`Gim ${Number(l.DiscountValue).toLocaleString("vi-VN")}`}),l.DiscountType==="percent"&&l.MaxDiscount!==null&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Gim ti a ",Number(l.MaxDiscount).toLocaleString("vi-VN"),""]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Cho n t"," ",Number(l.MinOrderValue??0).toLocaleString("vi-VN"),""]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("p",{className:"text-[11px] text-gray-500",children:["HSD: ",new Date(l.EndTime).toLocaleDateString("vi-VN")]}),a.jsxs("p",{className:"text-[11px] text-gray-500",children:["S lng: ",l.Quantity]})]}),a.jsx("button",{onClick:()=>r("/cart"),className:"border border-red-500 text-red-500 cursor-pointer text-xs px-3 py-1 rounded hover:bg-red-50",children:"Dng ngay"})]})]})]})},l.UsageId))})]})]})]})}function I4(){const{id:e}=ia(),t=oe(),n=sessionStorage.getItem("token"),[s,r]=g.useState(""),[l,i]=g.useState(""),[c,o]=g.useState(""),[d,f]=g.useState(!1),[h,p]=g.useState("");g.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),t("/"))},[t]),g.useEffect(()=>{e&&n&&(async()=>{try{const w=await Q.get(`/addresses/${e}`,{headers:{Authorization:`Bearer ${n}`}});r(w.data.Name),i(w.data.Phone),o(w.data.Content)}catch{alert("Khng tm thy a ch"),t("/address")}})()},[e,n,t]);const x=async S=>{if(S.preventDefault(),!s.trim())return alert("Nhp tn ngi nhn");if(!l.trim())return alert("Nhp s in thoi");if(l.length!==10)return alert("S in thoi phi ng 10 ch s");if(!c.trim())return alert("Nhp a ch");try{f(!0),await Q.put(`/addresses/${e}`,{Name:s.trim(),Phone:l.trim(),Content:c.trim()},{headers:{Authorization:`Bearer ${n}`}}),t("/address")}catch{alert("Cp nht tht bi")}finally{f(!1)}},v=()=>{(s||l||c)&&!window.confirm("Bn cha lu, chc chn hu?")||t("/address")};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(ca,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Cp nht a ch"}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsx("input",{value:s,onChange:S=>r(S.target.value),placeholder:"Tn ngi nhn",className:"w-full border rounded p-3"}),a.jsx("input",{value:l,onChange:S=>{const w=S.target.value.replace(/\D/g,"");i(w),w.length>10?p("S in thoi khng c qu 10 ch s"):p("")},onBlur:()=>{l&&l.length!==10&&p("S in thoi phi ng 10 ch s")},placeholder:"S in thoi",className:`w-full border rounded p-3 ${h?"border-red-500":""}`}),h&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:h}),a.jsx("textarea",{value:c,onChange:S=>o(S.target.value),placeholder:"a ch chi tit",className:"w-full border rounded p-3",rows:4}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{type:"submit",disabled:d,className:"bg-orange-500 text-white px-6 py-2 cursor-pointer rounded disabled:opacity-60",children:d?"ang lu...":"Cp nht"}),a.jsx("button",{type:"button",onClick:v,className:"px-6 py-2 rounded border cursor-pointer border-gray-300 text-gray-700 hover:bg-gray-100",children:"Hu"})]})]})]})]})]})}const H4=()=>{const[e,t]=g.useState([]),[n,s]=g.useState(null),[r,l]=g.useState(!1),[i,c]=g.useState({PercentValue:"",MinOrderValue:"",MaxOrderValue:"",Description:""}),[o,d]=g.useState(!1),[f,h]=g.useState({}),[p,x]=g.useState(""),v=async()=>{try{const C=r?"/platform-fees/all":"/platform-fees",E=await Q.get(C);if(t(E.data),E.data.length>0){const D=[...E.data].sort((B,H)=>B.MinOrderValue-H.MinOrderValue),M=[];for(let B=0;B<D.length-1;B++){const H=D[B],K=D[B+1];H.MaxOrderValue!==null&&K.MinOrderValue!==null&&K.MinOrderValue>H.MaxOrderValue+1&&M.push(`${H.MaxOrderValue+1} - ${K.MinOrderValue-1}`)}M.length>0?x(` C khong trng: ${M.join(", ")}`):x(" Cc khong thu  c sp xp st nt")}}catch(C){console.error(C),alert("Li khi ti danh sch thu")}};g.useEffect(()=>{v()},[r]);const S=C=>{const{name:E,value:D}=C.target;c({...i,[E]:D}),f[E]&&h({...f,[E]:""})},w=()=>{const C={};if(!i.PercentValue)C.PercentValue="Vui lng nhp phn trm thu";else{const E=parseFloat(i.PercentValue);(isNaN(E)||E<0||E>100)&&(C.PercentValue="Phn trm thu phi t 0-100%")}if(!i.MinOrderValue)C.MinOrderValue="Vui lng nhp gi tr ti thiu";else{const E=parseInt(i.MinOrderValue);(isNaN(E)||E<0)&&(C.MinOrderValue="Gi tr ti thiu khng c m")}if(i.MaxOrderValue){const E=parseInt(i.MinOrderValue),D=parseInt(i.MaxOrderValue);!isNaN(E)&&!isNaN(D)&&D<=E&&(C.MaxOrderValue="Gi tr ti a phi ln hn gi tr ti thiu")}return h(C),Object.keys(C).length===0},y=async C=>{var E,D;if(C.preventDefault(),!!w()){d(!0);try{const M={...i,PercentValue:parseFloat(i.PercentValue),MinOrderValue:parseInt(i.MinOrderValue),MaxOrderValue:i.MaxOrderValue?parseInt(i.MaxOrderValue):null,Description:i.Description||`p dng cho n hng t ${parseInt(i.MinOrderValue).toLocaleString()}${i.MaxOrderValue?` n ${parseInt(i.MaxOrderValue).toLocaleString()}`:" tr ln"}`};n?await Q.put(`/platform-fees/${n.FeeId}`,M):await Q.post("/platform-fees",M),u(),v()}catch(M){console.error(M),(D=(E=M.response)==null?void 0:E.data)!=null&&D.message?alert(M.response.data.message):alert("C li xy ra")}finally{d(!1)}}},u=()=>{c({PercentValue:"",MinOrderValue:"",MaxOrderValue:"",Description:""}),s(null),h({})},m=C=>{s(C),c({PercentValue:C.PercentValue.toString(),MinOrderValue:C.MinOrderValue.toString(),MaxOrderValue:C.MaxOrderValue?C.MaxOrderValue.toString():"",Description:C.Description||""}),window.scrollTo({top:0,behavior:"smooth"})},j=async C=>{if(window.confirm(`Bn c chc chn mun xa mc thu ny?
Sau khi xa, cn kim tra li cc khong gi tr  m bo khng c khong trng.`))try{await Q.delete(`/platform-fees/${C}`),v(),alert(" xa mc thu")}catch(E){console.error(E),alert("C li xy ra")}},N=async C=>{try{await Q.put(`/platform-fees/activate/${C}`),v(),alert(" kch hot li mc thu")}catch(E){console.error(E),alert("C li xy ra")}},O=C=>new Intl.NumberFormat("vi-VN").format(C)+"",T=(C,E)=>E===null?` ${O(C)}`:`${O(C)} - ${O(E)}`,b=()=>{if(e.length===0)return 0;const C=e.filter(D=>D.Status).sort((D,M)=>D.MinOrderValue-M.MinOrderValue);if(C.length===0)return 0;const E=C[C.length-1];return E.MaxOrderValue===null?E.MinOrderValue+1:E.MaxOrderValue+1};return a.jsx(sa,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold text-orange-500",children:"Qun l thu sn theo khong gi"})}),a.jsx("button",{onClick:()=>l(!r),className:"px-4 py-2 bg-gray-200 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer transition-colors",children:r?"n  xa":"Hin th  xa"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:n?`Cp nht mc thu #${n.FeeId}`:"Thm mc thu mi"}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phn trm thu (%) *"}),a.jsx("input",{type:"number",name:"PercentValue",value:i.PercentValue,onChange:S,className:`w-full p-2 border rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent ${f.PercentValue?"border-red-500":"border-gray-300"}`,placeholder:"V d: 5.5",min:"0",max:"100",step:"0.1"}),f.PercentValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.PercentValue})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi tr n hng ti thiu () *"}),a.jsx("input",{type:"number",name:"MinOrderValue",value:i.MinOrderValue,onChange:S,className:`w-full p-2 border rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent ${f.MinOrderValue?"border-red-500":"border-gray-300"}`,placeholder:n?"V d: 0":`Gi : ${b()}`,min:"0"}),f.MinOrderValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.MinOrderValue})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi tr n hng ti a ()"}),a.jsx("input",{type:"number",name:"MaxOrderValue",value:i.MaxOrderValue,onChange:S,className:`w-full p-2 border rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent ${f.MaxOrderValue?"border-red-500":"border-gray-300"}`,placeholder:" trng nu khng gii hn",min:"0"}),f.MaxOrderValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.MaxOrderValue})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),a.jsx("input",{type:"text",name:"Description",value:i.Description,onChange:S,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent",placeholder:"V d: p dng cho n hng t 0 n 100,000"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-orange-400 text-white rounded-lg cursor-pointer hover:bg-orange-500 cursor-pointer transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"ang x l...":n?"Cp nht":"Thm mi"}),n&&a.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 bg-gray-200 text-gray-700 cursor-pointer rounded-lg hover:bg-gray-300 transition-colors",children:"Hy"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-orange-400 border-b flex justify-between items-center",children:[a.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Danh sch mc thu (",e.length,")"]}),a.jsxs("div",{className:"text-sm text-white",children:[e.filter(C=>C.Status).length," mc ang hot ng"]})]}),e.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cha c mc thu no c thit lp"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left text-gray-700",children:"ID"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Phn trm"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Khong gi"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"M t"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Trng thi"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Thao tc"})]})}),a.jsx("tbody",{children:e.map((C,E)=>{const D=e[E+1];let M=!1;return D&&C.Status&&D.Status&&C.MaxOrderValue!==null&&D.MinOrderValue!==null&&(M=D.MinOrderValue>C.MaxOrderValue+1),a.jsxs("tr",{className:`border-b hover:bg-gray-50 ${C.Status?"":"bg-gray-100 opacity-75"} ${M?"bg-yellow-50":""}`,children:[a.jsxs("td",{className:"p-3",children:[a.jsx("div",{className:"font-medium",children:C.FeeId}),M&&a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"C khong trng"})})]}),a.jsxs("td",{className:"p-3 font-semibold text-orange-600",children:[C.PercentValue,"%"]}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"font-medium",children:T(C.MinOrderValue,C.MaxOrderValue)})}),a.jsxs("td",{className:"p-3",children:[a.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:C.Description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["To: ",new Date(C.CreatedAt).toLocaleDateString("vi-VN")]})]}),a.jsx("td",{className:"p-3",children:C.Status?a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-sm rounded-full",children:"ang hot ng"}):a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-full",children:" xa"})}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"flex gap-2",children:C.Status?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>m(C),className:"px-3 py-1 bg-blue-100 text-blue-700 cursor-pointer rounded hover:bg-blue-200 transition-colors text-sm",children:"Sa"}),a.jsx("button",{onClick:()=>j(C.FeeId),className:"px-3 py-1 bg-red-100 text-red-700 cursor-pointer rounded hover:bg-red-200 transition-colors text-sm",children:"Xa"})]}):a.jsx("button",{onClick:()=>N(C.FeeId),className:"px-3 py-1 bg-green-100 text-green-700 cursor-pointer rounded hover:bg-green-200 transition-colors text-sm",children:"Kch hot"})})})]},C.FeeId)})})]})})]})]})})};function $4(){const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState([]),[l,i]=g.useState(!0),[c,o]=g.useState("all"),[d,f]=g.useState(null),[h,p]=g.useState(!1),[x,v]=g.useState(1),S=10,w=z=>Number(z||0).toLocaleString("vi-VN"),y={1:{label:"Ch thanh ton",color:"bg-yellow-100 text-yellow-800",icon:ma},2:{label:"Ch chun b",color:"bg-blue-100 text-blue-800",icon:tt},3:{label:"ang giao",color:"bg-purple-100 text-purple-800",icon:Xt},4:{label:"Hon thnh",color:"bg-green-100 text-green-800",icon:Pt},5:{label:" hy",color:"bg-red-100 text-red-800",icon:In},6:{label:"Tr hng",color:"bg-orange-100 text-orange-800",icon:Gc},7:{label:"Ch chun b",color:"bg-blue-100 text-blue-800",icon:tt}},u={1:{label:"Ch chun b",color:"bg-yellow-100 text-yellow-800",icon:tt},2:{label:" chun b xong",color:"bg-blue-100 text-blue-800",icon:Pt},3:{label:"ang giao",color:"bg-purple-100 text-purple-800",icon:Xt},4:{label:"Hon thnh",color:"bg-green-100 text-green-800",icon:Pt},5:{label:" hy",color:"bg-red-100 text-red-800",icon:WN},6:{label:"Tr hng",color:"bg-orange-100 text-orange-800",icon:Gc}},m=[{id:"all",label:"Tt c"},{id:"1",label:"Ch thanh ton"},{id:"2",label:"Ch chun b"},{id:"3",label:"ang giao"},{id:"4",label:"Hon thnh"},{id:"5",label:" hy"},{id:"6",label:"Tr hng"}],j=z=>{if(!z||!z.VoucherName)return null;const{VoucherName:Y,DiscountType:k,DiscountValue:L,MaxDiscount:P}=z;let A="";return k==="percent"?(A=`Gim ${L}%`,P&&(A+=` (ti a ${w(P)})`)):k==="fixed"?A=`Gim ${w(L)}`:k==="ship"&&(A=`Min ph ship ${w(L)}`),{name:Y,text:A,type:k}},N=z=>{if(!z.DiscountType||!z.DiscountValue)return 0;const Y=z.UnitPrice*z.Quantity;if(z.DiscountType==="percent"){let k=Math.floor(Y*z.DiscountValue/100);return z.MaxDiscount&&(k=Math.min(k,z.MaxDiscount)),k}else{if(z.DiscountType==="fixed")return Math.min(z.DiscountValue,Y);if(z.DiscountType==="ship")return 0}return 0};g.useEffect(()=>{O()},[]);const O=async()=>{var z;try{const Y=JSON.parse(sessionStorage.getItem("account")),k=sessionStorage.getItem("token");if(!Y||!k){e("/login");return}i(!0);const P=(await Q.get("/orders/my-orders",{headers:{Authorization:`Bearer ${k}`}})).data.map(A=>({...A,CreatedAt:new Date(A.CreatedAt).toLocaleDateString("vi-VN"),UpdatedAt:new Date(A.UpdatedAt).toLocaleDateString("vi-VN"),OrderDate:new Date(A.OrderDate).toLocaleDateString("vi-VN"),itemCount:A.itemCount||1}));n(P)}catch(Y){console.error("Fetch orders error:",Y),((z=Y.response)==null?void 0:z.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert("Khng th ti danh sch n hng")}finally{i(!1)}},T=g.useMemo(()=>c==="all"?t:t.filter(z=>z.Status===parseInt(c)),[t,c]),b=g.useMemo(()=>{const z=(x-1)*S,Y=z+S;return T.slice(z,Y)},[T,x,S]),C=Math.ceil(T.length/S);g.useEffect(()=>{r(b)},[b]),g.useEffect(()=>{v(1)},[c]);const E=async z=>{var Y;try{const k=sessionStorage.getItem("token"),L=await Q.get(`/orders/${z}`,{headers:{Authorization:`Bearer ${k}`}}),P=L.data.details.map(G=>{const Z=N(G),ge=G.UnitPrice*G.Quantity,Me=ge-Z;return{...G,Image:G.Image||"https://via.placeholder.com/80",itemTotal:ge,itemDiscount:Z,finalPrice:Math.max(Me,0),voucherDisplay:j(G)}}),A=P.reduce((G,Z)=>G+Z.itemTotal,0),q=P.reduce((G,Z)=>G+Z.itemDiscount,0),X=P.reduce((G,Z)=>G+Z.ShipFee,0);let I=null,W=0,F=0;if(L.data.order.OrderVoucherId){const G={VoucherName:L.data.order.OrderVoucherName,DiscountType:L.data.order.OrderDiscountType,DiscountValue:L.data.order.OrderDiscountValue,MaxDiscount:L.data.order.OrderMaxDiscount};I=j(G);const Z=A-q;if(G.DiscountType==="ship")F=Math.min(X,G.DiscountValue);else if(G.DiscountType==="percent"){const ge=Math.floor(Z*G.DiscountValue/100);W=G.MaxDiscount?Math.min(ge,G.MaxDiscount):ge}else G.DiscountType==="fixed"&&(W=Math.min(G.DiscountValue,Z))}f({...L.data,details:P,summary:{productTotal:A,productDiscount:q,totalShip:X,orderDiscount:W,orderShipDiscount:F,grandTotal:L.data.order.FinalPrice},hasOrderVoucher:!!L.data.order.OrderVoucherId,hasProductVouchers:P.some(G=>G.voucherDisplay)}),p(!0)}catch(k){console.error("Fetch order detail error:",k),((Y=k.response)==null?void 0:Y.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert("Khng th ti chi tit n hng")}},D=z=>z.MethodId===1?z.Status===4?" thanh ton":"Ch thanh ton":z.Status===2?" thanh ton":"Cha thanh ton",M=z=>z.MethodId!==1&&z.Status!==2,B=async z=>{var Y,k;try{const L=sessionStorage.getItem("token"),P=await Q.post(`/orders/${z}/payment`,{},{headers:{Authorization:`Bearer ${L}`}});alert("Chuyn hng n trang thanh ton..."),O(),p(!1)}catch(L){console.error("Payment error:",L),alert("Li khi thc hin thanh ton: "+(((k=(Y=L.response)==null?void 0:Y.data)==null?void 0:k.message)||L.message))}},H=g.useMemo(()=>{const z={all:t.length};return m.forEach(Y=>{Y.id!=="all"&&(z[Y.id]=t.filter(k=>k.Status===parseInt(Y.id)).length)}),z},[t]),K=z=>{const Y=y[z]||{label:"Khng xc nh",color:"bg-gray-100 text-gray-800",icon:Lt},k=Y.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium ${Y.color}`,children:[a.jsx(k,{className:"w-4 h-4"}),Y.label]})},V=z=>{const Y=u[z]||{label:"Khng xc nh",color:"bg-gray-100 text-gray-800",icon:Lt},k=Y.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs ${Y.color}`,children:[a.jsx(k,{className:"w-3 h-3"}),Y.label]})},_=z=>{const Y=[];switch(z.Status){case 1:Y.push({label:"Thanh ton",action:()=>B(z.OrderId),icon:as,color:"bg-green-600 cursor-pointer hover:bg-green-700"},{label:"Hy n",action:()=>U(z.OrderId),icon:In,color:"bg-red-600 cursor-pointer hover:bg-red-700"});break;case 2:Y.push({label:"Hy n",action:()=>U(z.OrderId),icon:In,color:"bg-red-600 cursor-pointer hover:bg-red-700"});break;case 3:Y.push({label:"Lin h shop",action:()=>J(z.OrderId),icon:jd,color:"bg-blue-600 cursor-pointer hover:bg-blue-700"});break;case 4:Y.push({label:"nh gi",action:()=>e(`/feedback/order/${z.OrderId}`),icon:bn,color:"bg-orange-600 cursor-pointer hover:bg-orange-700"},{label:"Mua li",action:()=>ee(z.OrderId),icon:Gc,color:"bg-purple-600 cursor-pointer hover:bg-purple-700"});break}return Y},U=async z=>{var Y,k;if(window.confirm("Bn c chc chn mun hy n hng ny?"))try{const L=sessionStorage.getItem("token");await Q.put(`/orders/${z}/cancel`,{},{headers:{Authorization:`Bearer ${L}`}}),alert(" hy n hng thnh cng"),O()}catch(L){const P=((k=(Y=L.response)==null?void 0:Y.data)==null?void 0:k.message)||"Khng th hy n hng  trng thi hin ti";alert(P)}},J=z=>{e(`/chat?order=${z}`)},ee=async z=>{try{const Y=sessionStorage.getItem("token");await Q.post(`/orders/${z}/reorder`,{},{headers:{Authorization:`Bearer ${Y}`}}),alert(" thm sn phm vo gi hng"),e("/cart")}catch{alert("Khng th mua li n hng ny")}},ae=()=>{var W,F;if(!d)return null;const{order:z,details:Y,itemCount:k,summary:L,hasOrderVoucher:P,hasProductVouchers:A}=d;(W=y[z.Status])!=null&&W.icon;const q=D(z),X=M(z),I=P||A;return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>p(!1)}),a.jsxs("div",{className:"relative bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto z-10",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Chi tit n hng"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:"font-mono text-gray-700",children:["#",z.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:z.OrderDate})]}),K(z.Status)]})]}),a.jsx("button",{onClick:()=>p(!1),className:"p-2 cursor-pointer hover:bg-gray-100 rounded-lg transition",children:a.jsx(In,{className:"w-6 h-6 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-8",children:[I&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100 rounded-xl p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(Ni,{className:"w-5 h-5 text-purple-600"}),"Voucher  s dng"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P&&a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Rf,{className:"w-4 h-4 text-purple-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Voucher ton n"}),a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:z.OrderVoucherName})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",children:z.OrderDiscountType==="percent"?a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(M3,{className:"w-4 h-4"}),"Gim ",z.OrderDiscountValue,"%",z.OrderMaxDiscount&&a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(ti a ",w(z.OrderMaxDiscount),")"]})]}):z.OrderDiscountType==="ship"?a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Xt,{className:"w-4 h-4"}),"Gim ship ",w(z.OrderDiscountValue),""]}):a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Rf,{className:"w-4 h-4"}),"Gim ",w(z.OrderDiscountValue),""]})}),a.jsxs("div",{className:"text-sm font-semibold text-red-500",children:["-",w(z.OrderDiscountType==="ship"?L.orderShipDiscount:L.orderDiscount),""]})]})]}),A&&a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(tt,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Voucher sn phm"}),a.jsxs("p",{className:"text-sm text-blue-600",children:[Y.filter(G=>G.voucherDisplay).length," sn phm c p dng"]})]})]}),a.jsx("div",{className:"space-y-2 max-h-24 overflow-y-auto",children:Y.filter(G=>G.voucherDisplay).map((G,Z)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("div",{className:"truncate max-w-[180px]",children:a.jsx("span",{className:"text-gray-700",children:G.ProductName})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-600",children:G.voucherDisplay.text}),a.jsxs("span",{className:"font-medium text-red-500",children:["-",w(G.itemDiscount),""]})]})]},Z))})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trng thi n hng"}),a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map((G,Z)=>{var ge;return a.jsxs(g.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${z.Status>=G?"bg-green-500 text-white":"bg-gray-200 text-gray-400"}`,children:Z+1}),a.jsx("span",{className:"text-sm mt-2 text-gray-600",children:((ge=y[G])==null?void 0:ge.label)||`Bc ${G}`})]}),Z<3&&a.jsx("div",{className:`flex-1 h-1 ${z.Status>G?"bg-green-500":"bg-gray-200"}`})]},G)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(vi,{className:"w-5 h-5 text-blue-600"})}),a.jsx("h4",{className:"font-semibold text-gray-800",children:"a ch giao hng"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:z.AddressName||((F=z.AddressContent)==null?void 0:F.split(",")[0])}),a.jsx("p",{className:"text-gray-600",children:z.AddressPhone}),a.jsx("p",{className:"text-gray-600 text-sm",children:z.AddressContent})]})]}),a.jsxs("div",{className:"border rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(as,{className:"w-5 h-5 text-green-600"})}),a.jsx("h4",{className:"font-semibold text-gray-800",children:"Thanh ton"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:z.MethodName}),a.jsxs("p",{className:"text-gray-600",children:["Trng thi: ",q]}),X&&a.jsxs("button",{onClick:()=>B(z.OrderId),className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition cursor-pointer flex items-center gap-2",children:[a.jsx(i4,{className:"w-4 h-4"}),"Thanh ton ngay"]}),a.jsxs("p",{className:"text-lg font-bold text-red-500",children:[w(z.FinalPrice),""]})]})]})]}),a.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 p-4 border-b",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h4",{className:"font-semibold text-gray-800",children:["Sn phm (",k,")"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[k," sn phm"]})]})}),a.jsx("div",{className:"divide-y",children:Y==null?void 0:Y.map((G,Z)=>a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:G.Image,alt:G.ProductName,className:"w-20 h-20 rounded-lg object-cover border",onError:ge=>{ge.target.onerror=null,ge.target.src="https://via.placeholder.com/80"}})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800",children:G.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["n gi: ",w(G.UnitPrice),""]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["S lng: ",G.Quantity]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Tng: ",w(G.itemTotal),""]})]}),G.voucherDisplay&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[a.jsx(Ni,{className:"w-3 h-3"}),a.jsxs("span",{children:[G.voucherDisplay.name,":"]}),a.jsx("span",{className:"font-medium",children:G.voucherDisplay.text})]}),a.jsxs("div",{className:"text-sm text-red-500 font-medium",children:["-",w(G.itemDiscount),""]})]}),a.jsx("div",{className:"flex items-center gap-4 mt-2 text-sm",children:a.jsxs("span",{className:"text-blue-600",children:["Ph ship: ",w(G.ShipFee),""]})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-red-500",children:[w(G.finalPrice+G.ShipFee),""]}),a.jsx("div",{className:"mt-2",children:V(G.Status)})]})]})})]})},Z))}),a.jsx("div",{className:"bg-gray-50 p-6 border-t",children:a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-80 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Tng tin hng:"}),a.jsxs("span",{children:[w(L.productTotal),""]})]}),L.productDiscount>0&&a.jsxs("div",{className:"flex justify-between text-blue-600",children:[a.jsx("span",{children:"Gim voucher sn phm:"}),a.jsxs("span",{children:["- ",w(L.productDiscount),""]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Ph vn chuyn:"}),a.jsxs("span",{children:[w(L.totalShip),""]})]}),L.orderShipDiscount>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim ph vn chuyn:"}),a.jsxs("span",{children:["- ",w(L.orderShipDiscount),""]})]}),L.orderDiscount>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim voucher ton n:"}),a.jsxs("span",{children:["- ",w(L.orderDiscount),""]})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Tng thanh ton:"}),a.jsxs("span",{className:"text-red-500",children:[w(L.grandTotal),""]})]})})]})})})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"ng"}),_(z).map((G,Z)=>a.jsxs("button",{onClick:G.action,className:`px-6 py-2 text-white rounded-lg cursor-pointer flex items-center gap-2 transition ${G.color}`,children:[a.jsx(G.icon,{className:"w-4 h-4"}),G.label]},Z))]})]})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(ca,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"n hng ca ti"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l v theo di n hng ca bn"})]}),a.jsx("div",{className:"bg-white rounded-xl border mb-6",children:a.jsx("div",{className:"flex overflow-x-auto",children:m.map(z=>a.jsx("button",{onClick:()=>o(z.id),className:`flex-shrink-0 cursor-pointer px-6 py-4 border-b-2 font-medium transition ${c===z.id?"border-orange-500 text-orange-600 bg-orange-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[z.label,a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c===z.id?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:H[z.id]||0})]})},z.id))})}),l?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"ang ti n hng..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(tt,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Khng c n hng"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Bn cha c n hng no trong mc ny"}),a.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer",children:"Mua sm ngay"})]}):a.jsx("div",{className:"space-y-4",children:s.map(z=>{var L,P;const Y=_(z),k=D(z);return a.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden hover:shadow-md transition",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"font-mono text-gray-700",children:["#",z.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:z.CreatedAt})]}),K(z.Status)]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("span",{className:"text-lg font-bold text-red-500",children:[w(z.FinalPrice),""]})})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vi,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Giao n"}),a.jsx("p",{className:"font-medium truncate max-w-[200px]",children:((L=z.AddressContent)==null?void 0:L.split(",")[0])||"Khng c a ch"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(as,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Thanh ton"}),a.jsx("p",{className:"font-medium",children:z.MethodName}),a.jsx("p",{className:"text-xs text-gray-500",children:k})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-2",children:[Array.from({length:Math.min(3,z.itemCount)}).map((A,q)=>a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center",children:a.jsx(tt,{className:"w-5 h-5 text-gray-400"})},q)),z.itemCount>3&&a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-orange-100 flex items-center justify-center",children:a.jsxs("span",{className:"text-xs font-bold text-orange-700",children:["+",z.itemCount-3]})})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[z.itemCount," sn phm"]}),a.jsx("p",{className:"text-xs text-gray-500",children:((P=z.AddressContent)==null?void 0:P.split(",").slice(1).join(",").trim())||"ang cp nht..."})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-col gap-3",children:[a.jsxs("button",{onClick:()=>E(z.OrderId),className:"px-4 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 transition",children:[a.jsx(ap,{className:"w-4 h-4"}),"Xem chi tit"]}),Y.map((A,q)=>a.jsxs("button",{onClick:A.action,className:`px-4 py-2 text-white rounded-lg flex items-center justify-center gap-2 transition cursor-pointer ${A.color}`,children:[a.jsx(A.icon,{className:"w-4 h-4"}),A.label]},q))]})]})})]},z.OrderId)})}),C>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>v(z=>Math.max(1,z-1)),disabled:x===1,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${x===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:C},(z,Y)=>a.jsx("button",{onClick:()=>v(Y+1),className:`
                          w-9 h-9 rounded-full text-sm font-semibold
                          transition-all duration-200
                          ${x===Y+1?"bg-orange-500 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
                        `,children:Y+1},Y))}),a.jsxs("button",{onClick:()=>v(z=>Math.min(C,z+1)),disabled:x===C||C===0,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${x===C||C===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})]})})}),h&&a.jsx(ae,{}),a.jsx(Bt,{})]})}function q4(){const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState([]),[l,i]=g.useState(!0),[c,o]=g.useState(null),[d,f]=g.useState(!1),[h,p]=g.useState(new Set),[x,v]=g.useState({status:"all",search:"",dateFrom:"",dateTo:"",orderId:""}),[S,w]=g.useState(1),y=10,[u,m]=g.useState(!1),j=k=>Number(k||0).toLocaleString("vi-VN"),N=k=>k?new Date(k).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",O=k=>k?k.startsWith("http")||k.startsWith("/uploads")?k:`/uploads/ProductImage/${k}`:"https://via.placeholder.com/80",T={1:{label:"Ch thanh ton",color:"bg-gray-100 text-gray-800",icon:ma,bgColor:"bg-gray-50"},2:{label:"Ch chun b",color:"bg-gray-100 text-gray-800",icon:ma,bgColor:"bg-gray-50"},3:{label:"ang giao",color:"bg-purple-100 text-purple-800",icon:Xt,bgColor:"bg-purple-50"},4:{label:"Hon thnh",color:"bg-blue-100 text-blue-800",icon:Pt,bgColor:"bg-blue-50"},5:{label:" hy",color:"bg-red-100 text-red-800",icon:In,bgColor:"bg-red-50"},7:{label:"Ch gian hng khc",color:"bg-orange-100 text-orange-800",icon:ma,bgColor:"bg-orange-50"}},b={1:{label:"Ch chun b",color:"bg-gray-100 text-gray-800",icon:ma,bgColor:"bg-gray-50"},2:{label:" chun b",color:"bg-green-100 text-green-800",icon:Pt,bgColor:"bg-green-50"},3:{label:"ang giao",color:"bg-purple-100 text-purple-800",icon:Xt,bgColor:"bg-purple-50"},4:{label:"Hon thnh",color:"bg-blue-100 text-blue-800",icon:Pt,bgColor:"bg-blue-50"},5:{label:" hy",color:"bg-red-100 text-red-800",icon:In,bgColor:"bg-red-50"},7:{label:"Ch gian hng khc",color:"bg-orange-100 text-orange-800",icon:ma,bgColor:"bg-orange-50"}},C=g.useCallback(async()=>{var k,L,P;try{const A=JSON.parse(sessionStorage.getItem("account")),q=sessionStorage.getItem("token");if(!A||!q){e("/login");return}i(!0);const X={status:x.status==="all"?"":x.status,search:x.search,dateFrom:x.dateFrom,dateTo:x.dateTo,orderId:x.orderId},I=await Q.get("/orders/seller/orders",{headers:{Authorization:`Bearer ${q}`},params:X});if(I.data&&Array.isArray(I.data)){const W=I.data.map(F=>{var G;return{...F,CreatedAt:N(F.CreatedAt),UpdatedAt:N(F.UpdatedAt),OrderDate:N(F.OrderDate),details:((G=F.details)==null?void 0:G.map(Z=>({...Z,Image:O(Z.Image)})))||[],processedCount:F.processedCount||0,readyToShipCount:F.readyToShipCount||0,pendingCount:F.pendingCount||0,cancelledCount:F.cancelledCount||0,itemCount:F.itemCount||0,processedPercentage:F.itemCount>0?Math.round(F.processedCount/F.itemCount*100):0,allProcessed:F.itemCount>0&&F.processedCount===F.itemCount,canShip:(F.OrderStatus===2||F.OrderStatus===7)&&F.readyToShipCount>0&&F.pendingCount===0}});n(W)}}catch(A){console.error("Fetch orders error:",A),((k=A.response)==null?void 0:k.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert(((P=(L=A.response)==null?void 0:L.data)==null?void 0:P.message)||"Khng th ti danh sch n hng"),n([])}finally{i(!1)}},[x,e]);g.useEffect(()=>{C()},[C]);const E=g.useMemo(()=>t.filter(k=>{if(x.status!=="all"&&String(k.OrderStatus)!==x.status||x.orderId&&!String(k.OrderId).includes(x.orderId))return!1;if(x.dateFrom||x.dateTo){const L=new Date(k.CreatedAt);if(x.dateFrom){const P=new Date(x.dateFrom);if(P.setHours(0,0,0,0),L<P)return!1}if(x.dateTo){const P=new Date(x.dateTo);if(P.setHours(23,59,59,999),L>P)return!1}}return!0}),[t,x]),D=g.useMemo(()=>{const k=(S-1)*y,L=k+y;return E.slice(k,L)},[E,S,y]),M=Math.ceil(E.length/y);g.useEffect(()=>{w(1)},[x]),g.useEffect(()=>{r(D)},[D]);const B=async k=>{var L,P;if(window.confirm("Xc nhn chuyn tt c sn phm sang trng thi ang giao?"))try{const A=sessionStorage.getItem("token"),X=(await Q.put(`/orders/seller/orders/${k}/ship`,{},{headers:{Authorization:`Bearer ${A}`}})).data.newOrderStatus;X===3?alert("n hng  c chuyn sang trng thi ang giao"):X===7&&alert(" gi hng thnh cng. ang ch gian hng khc vn chuyn..."),n(I=>I.map(W=>W.OrderId===k?{...W,OrderStatus:X,canShip:!1}:W)),c&&c.order.OrderId===k&&(o(I=>({...I,order:{...I.order,OrderStatus:X,canShip:!1},details:I.details.map(W=>({...W,Status:W.Status===2?3:W.Status}))})),m(!1)),setTimeout(()=>C(),1e3),f(!1)}catch(A){console.error("Shipping error:",A),alert(((P=(L=A.response)==null?void 0:L.data)==null?void 0:P.message)||"Khng th chuyn trng thi n hng")}},H=async k=>{var L,P;try{const A=sessionStorage.getItem("token"),q=await Q.get(`/orders/seller/orders/${k}`,{headers:{Authorization:`Bearer ${A}`}});if(q.data){const X=q.data.order||{},I=q.data.details||[];let W=0,F=0;const G=I.map(Ct=>{const En=Ct.UnitPrice*Ct.Quantity,Qr=Ct.PlatformFeePercent?Math.round(En*Ct.PlatformFeePercent/100):0;return W+=Qr,F+=En,{...Ct,Image:O(Ct.Image),itemTotal:En,feeAmount:Qr,finalPrice:En+Ct.ShipFee,isPrepared:Ct.Status===2}}),Z=F-W,Me=G.filter(Ct=>Ct.Status===2).length===G.length&&G.length>0;o({order:{...X,CreatedAt:N(X.CreatedAt),OrderDate:N(X.OrderDate),canShip:(X.OrderStatus===2||X.OrderStatus===7)&&Me,SubTotal:F,TotalFee:W,Revenue:Z},details:G,itemCount:q.data.itemCount||0,allPrepared:Me}),m(Me),f(!0)}}catch(A){console.error("Fetch order detail error:",A),alert(((P=(L=A.response)==null?void 0:L.data)==null?void 0:P.message)||"Khng th ti chi tit n hng")}},K=async(k,L)=>{var P,A;try{const q=sessionStorage.getItem("token");if((await Q.get(`/orders/seller/order-details/${k}/check`,{headers:{Authorization:`Bearer ${q}`}})).data.currentStatus>=3){alert("Khng th thay i trng thi khi  bt u vn chuyn");return}const W=L===1;if(await Q.put(`/orders/seller/order-details/${k}/prepare`,{isPrepared:W},{headers:{Authorization:`Bearer ${q}`}}),n(F=>F.map(G=>{var Z;return{...G,details:(Z=G.details)==null?void 0:Z.map(ge=>ge.OrderDetailId===k?{...ge,Status:W?2:1}:ge)}})),c){const F=c.details.map(Me=>Me.OrderDetailId===k?{...Me,Status:W?2:1,isPrepared:W}:Me),G=F.filter(Me=>Me.Status===2).length,Z=F.length,ge=G===Z&&Z>0;o(Me=>({...Me,details:F,allPrepared:ge,order:{...Me.order,canShip:(Me.order.OrderStatus===2||Me.order.OrderStatus===7)&&ge}})),m(ge)}alert(W?" nh du  chun b hng":" b nh du chun b hng"),setTimeout(()=>C(),500)}catch(q){console.error("Update prepare status error:",q),alert(((A=(P=q.response)==null?void 0:P.data)==null?void 0:A.message)||"Khng th cp nht trng thi chun b hng")}},V=async()=>{var P,A;if(!c)return;const k=sessionStorage.getItem("token"),L=!u;try{const q=c.details.filter(Z=>Z.Status===1||Z.Status===2?L?Z.Status===1:Z.Status===2:!1);if(q.length===0){alert(L?"Khng c sn phm no ang ch chun b":"Khng c sn phm no  chun b");return}const X=q.map(Z=>Q.put(`/orders/seller/order-details/${Z.OrderDetailId}/prepare`,{isPrepared:L},{headers:{Authorization:`Bearer ${k}`}}));await Promise.all(X);const I=c.details.map(Z=>q.some(ge=>ge.OrderDetailId===Z.OrderDetailId)?{...Z,Status:L?2:1,isPrepared:L}:Z),W=I.filter(Z=>Z.Status===2).length,F=I.filter(Z=>Z.Status===1||Z.Status===2).length,G=W===F&&F>0;o(Z=>({...Z,details:I,allPrepared:G,order:{...Z.order,canShip:(Z.order.OrderStatus===2||Z.order.OrderStatus===7)&&G}})),m(G),alert(L?" nh du tt c sn phm  chun b":" b nh du tt c sn phm"),setTimeout(()=>C(),500)}catch(q){console.error("Prepare all error:",q),alert(((A=(P=q.response)==null?void 0:P.data)==null?void 0:A.message)||"Khng th cp nht trng thi")}},_=k=>{p(L=>{const P=new Set(L);return P.has(k)?P.delete(k):P.add(k),P})},U=(k,L="normal")=>{const P=T[k]||{label:"Khng xc nh",color:"bg-gray-100 text-gray-800",icon:Lt},A=P.icon,q=L==="small"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm";return a.jsxs("span",{className:`inline-flex items-center gap-1.5 ${q} rounded-full font-medium ${P.color}`,children:[a.jsx(A,{className:"w-3 h-3"}),P.label]})},J=(k,L="normal")=>{const P=b[k]||{label:"Khng xc nh",color:"bg-gray-100 text-gray-800",icon:Lt},A=P.icon,q=L==="small"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm";return a.jsxs("span",{className:`inline-flex items-center gap-1.5 ${q} rounded-full font-medium ${P.color}`,children:[a.jsx(A,{className:"w-3 h-3"}),P.label]})},ee=(k,L)=>{v(P=>({...P,[k]:L}))},ae=()=>{const k=["M n","Ngy t","Khch hng","ST","Trng thi","Tng tin","S SP"," chun b","a ch"],L=s.map(I=>{var F;let W="";if(I.OrderStatus===5)W=" hu";else{const G=I.itemCount||0,Z=I.processedCount||0;W=`${G>0?Z/G*100:"0"}% (${Z}/${G})`}return[I.OrderId,I.CreatedAt,I.CustomerName,I.CustomerPhone,((F=T[I.OrderStatus])==null?void 0:F.label)||"Khng xc nh",`${j(I.FinalPrice)}`,I.itemCount||0,W,I.AddressContent]}),P=[k.join(", "),...L.map(I=>I.map(W=>`${W}`).join(", "))].join(`
`),A=new Blob([P],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a"),X=URL.createObjectURL(A);q.setAttribute("href",X),q.setAttribute("download",`${new Date().toISOString().split("T")[0]}.csv`),q.style.visibility="hidden",document.body.appendChild(q),q.click(),document.body.removeChild(q)},z=()=>{const k={total:E.length,processing:E.filter(L=>L.OrderStatus===2).length,shipping:E.filter(L=>L.OrderStatus===3).length,completed:E.filter(L=>L.OrderStatus===4).length,waiting:E.filter(L=>L.OrderStatus===7).length};return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Tng n hng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:j(k.total)})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(lp,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"ang x l"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k.processing})]}),a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:a.jsx(tt,{className:"w-6 h-6 text-blue-500"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Ch gian hng khc"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k.waiting})]}),a.jsx("div",{className:"p-3 bg-orange-50 rounded-lg",children:a.jsx(ma,{className:"w-6 h-6 text-orange-500"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"ang giao"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:k.shipping})]}),a.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:a.jsx(Xt,{className:"w-6 h-6 text-purple-500"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hon thnh"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:k.completed})]}),a.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:a.jsx(Pt,{className:"w-6 h-6 text-green-500"})})]})})]})},Y=()=>{if(!c)return null;const{order:k,details:L}=c,P=L.length,A=L.filter(F=>F.Status===2).length,q=A===P&&P>0,X=L.reduce((F,G)=>F+G.itemTotal,0),I=L.reduce((F,G)=>F+(G.feeAmount||0),0),W=X-I;return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>f(!1)}),a.jsxs("div",{className:"relative bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto z-10",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Chi tit n hng"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:"font-mono text-gray-700",children:["#",k.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:k.OrderDate})]}),U(k.OrderStatus)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-2 border border-gray-300 text-gray-700 cursor-pointer rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(V3,{className:"w-4 h-4"}),"In n"]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 cursor-pointer rounded-lg transition",children:a.jsx(In,{className:"w-6 h-6 text-gray-500"})})]})]}),a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{className:"border rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(vi,{className:"w-5 h-5 text-green-600"})}),a.jsx("h4",{className:"font-semibold text-gray-800",children:"a ch giao hng"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Tn ngi nhn: "}),k.AddressName]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"S in thoi: "}),k.AddressPhone]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"a ch: "}),k.AddressContent]})]})]})}),a.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 p-4 border-b flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ji,{className:"w-5 h-5 text-gray-500"}),a.jsxs("h4",{className:"font-semibold text-gray-800",children:["Sn phm trong n (",P,")"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[A,"/",P," sn phm  chun b"]}),a.jsx("div",{className:`px-3 py-1 text-sm rounded-lg ${q?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:q?" sn sng giao":"ang chun b"})]})]}),(k.OrderStatus===2||k.OrderStatus===7)&&a.jsx("div",{className:"px-4 py-3 border-b bg-gray-50 flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"checkAll",checked:u,onChange:V,className:"w-5 h-5 text-blue-600 bg-gray-100 cursor-pointer border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"checkAll",className:"ml-2 text-sm font-medium text-gray-900",children:`Chn tt c (${L.filter(F=>F.Status===1).length} sn phm c th chun b)`})]})}),a.jsx("div",{className:"divide-y",children:L.map((F,G)=>{var Z,ge;return a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsxs("div",{className:"flex-shrink-0 pt-2",children:[(k.OrderStatus===2||k.OrderStatus===7)&&(F.Status===1||F.Status===2)&&a.jsx("button",{onClick:()=>K(F.OrderDetailId,F.Status),className:`w-6 h-6 rounded border-2 cursor-pointer flex items-center justify-center transition ${F.Status===2?"bg-green-100 border-green-500":"border-gray-300 hover:border-green-500 hover:bg-green-50"}`,title:F.Status===2?" chun b - Nhn  b":"Cha chun b - Nhn  nh du",children:F.Status===2&&a.jsx(Tr,{className:"w-4 h-4 text-green-600"})}),F.Status===3&&a.jsx("div",{className:"w-6 h-6 rounded bg-purple-100 border-2 border-purple-500 flex items-center justify-center",children:a.jsx(Xt,{className:"w-4 h-4 text-purple-600"})}),F.Status===4&&a.jsx("div",{className:"w-6 h-6 rounded bg-blue-100 border-2 border-blue-500 flex items-center justify-center",children:a.jsx(Pt,{className:"w-4 h-4 text-blue-600"})}),F.Status===5&&a.jsx("div",{className:"w-6 h-6 rounded bg-red-100 border-2 border-red-500 flex items-center justify-center",children:a.jsx(In,{className:"w-4 h-4 text-red-600"})})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:F.Image,alt:F.ProductName,className:"w-20 h-20 rounded-lg object-cover border",onError:Me=>{Me.target.onerror=null,Me.target.src="https://via.placeholder.com/80"}})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800",children:F.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["n gi: ",j(F.UnitPrice),""]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["S lng: ",F.Quantity]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Tng: ",j(F.itemTotal),""]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[a.jsxs("span",{className:"text-blue-600",children:["Ph ship: ",j(F.ShipFee),""]}),F.PlatformFeePercent&&a.jsxs("span",{className:"text-purple-600",children:["Ph sn: ",F.PlatformFeePercent,"% (",j(F.feeAmount),")"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-red-500",children:[j(F.finalPrice),""]}),a.jsx("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs mt-2 ${((Z=b[F.Status])==null?void 0:Z.color)||"bg-gray-100 text-gray-800"}`,children:((ge=b[F.Status])==null?void 0:ge.label)||"Khng xc nh"})]})]})})]})},G)})})]}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"S sn phm"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[j(X),""]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tng tin hng"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[j(I),""]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ph sn"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[j(W),""]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Doanh thu"})]})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-gray-500",children:(k.OrderStatus===2||k.OrderStatus===7)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4"}),a.jsx("span",{children:"Click vo  vung  nh du/b nh du sn phm  chun b xong"})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"ng"}),(k.OrderStatus===2||k.OrderStatus===7)&&q&&a.jsxs("button",{onClick:()=>B(k.OrderId),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4"}),"Gi hng ngay"]})]})]})]})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(Vt,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l n hng"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Xem v qun l n hng t khch hng"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:ae,className:"px-4 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[a.jsx(p3,{className:"w-4 h-4"}),"Xut CSV"]}),a.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 cursor-pointer text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[a.jsx(U3,{className:"w-4 h-4"}),"Lm mi"]})]})]})}),a.jsx(z,{}),a.jsxs("div",{className:"bg-white rounded-xl border p-6 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trng thi"}),a.jsxs("select",{className:"w-full p-2.5 border cursor-pointer rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:x.status,onChange:k=>ee("status",k.target.value),children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:"2",children:"ang x l"}),a.jsx("option",{value:"7",children:"Ch gian hng khc"}),a.jsx("option",{value:"3",children:"ang giao"}),a.jsx("option",{value:"4",children:"Hon thnh"}),a.jsx("option",{value:"5",children:" hy"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M n hng"}),a.jsxs("div",{className:"relative",children:[a.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",className:"w-full pl-10 p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"VD: 1234",value:x.orderId||"",onChange:k=>ee("orderId",k.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:x.dateFrom,onChange:k=>ee("dateFrom",k.target.value),max:x.dateTo||new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:x.dateTo,onChange:k=>ee("dateTo",k.target.value),min:x.dateFrom||"",max:new Date().toISOString().split("T")[0]})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:()=>{v({status:"all",search:"",dateFrom:"",dateTo:"",orderId:""})},className:"px-4 py-2 text-gray-600 cursor-pointer hover:text-gray-800 transition flex items-center gap-2",children:a.jsx("span",{children:"Xa b lc"})}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Tng: ",a.jsx("span",{className:"font-semibold text-blue-500",children:E.length})," n hng"]})]})]}),l?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"ang ti n hng..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(tt,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Khng c n hng"}),a.jsx("p",{className:"text-gray-500",children:"Khng tm thy n hng no ph hp vi b lc"})]}):a.jsx("div",{className:"space-y-4",children:s.map(k=>{var P;const L=h.has(k.OrderId);return a.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden hover:shadow-md transition",children:[a.jsx("div",{className:"p-6 border-b cursor-pointer hover:bg-gray-50",onClick:()=>_(k.OrderId),children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"font-mono font-bold text-gray-800",children:["#",k.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:k.CreatedAt})]}),U(k.OrderStatus)]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-lg font-bold text-red-500",children:[j(k.FinalPrice),""]}),L?a.jsx(u3,{className:"w-5 h-5 text-gray-400"}):a.jsx(r3,{className:"w-5 h-5 text-gray-400"})]})]})}),L&&a.jsx("div",{className:"p-6 border-t",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thng tin khch hng"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(a4,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"font-medium",children:k.AddressName})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(R3,{className:"w-4 h-4 text-gray-400"}),a.jsx("a",{href:`tel:${k.AddressPhone}`,className:"text-blue-600 hover:underline",children:k.AddressPhone})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"a ch giao hng"}),a.jsx("div",{className:"space-y-1",children:a.jsx("p",{className:"text-gray-600 text-sm",children:k.AddressContent})})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:["Sn phm (",k.totalItems||0,")"]}),a.jsxs("div",{className:"space-y-3",children:[(P=k.details)==null?void 0:P.slice(0,3).map((A,q)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:A.Image,alt:A.ProductName,className:"w-10 h-10 rounded object-cover",onError:X=>{X.target.onerror=null,X.target.src="https://via.placeholder.com/40"}}),(k.OrderStatus===2||k.OrderStatus===7)&&(A.Status===1||A.Status===2)&&a.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 rounded-full border border-white ${A.Status===2?"bg-green-500":"bg-gray-300"}`,children:A.Status===2&&a.jsx(Tr,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:A.ProductName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[A.Quantity,"  ",j(A.UnitPrice),""]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium",children:[j(A.UnitPrice*A.Quantity),""]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:J(A.Status,"small")})]})]},q)),(k.totalItems||0)>3&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["+ ",(k.totalItems||0)-3," sn phm khc"]}),(k.OrderStatus===2||k.OrderStatus===7)&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[a.jsx("span",{children:"Tin  x l"}),a.jsxs("span",{children:[k.processedCount||0,"/",k.itemCount||0]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${k.processedPercentage||0}%`}})})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>H(k.OrderId),className:"w-full px-4 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 transition",children:[a.jsx(ap,{className:"w-4 h-4"}),"Xem chi tit"]}),(k.OrderStatus===2||k.OrderStatus===7)&&k.canShip&&a.jsxs("button",{onClick:()=>B(k.OrderId),className:"w-full px-4 py-2 bg-blue-600 text-white cursor-pointer rounded-lg flex items-center justify-center gap-2 transition hover:bg-blue-700",children:[a.jsx(Xt,{className:"w-4 h-4"}),"Gi hng ngay"]}),(k.OrderStatus===2||k.OrderStatus===7)&&!k.canShip&&a.jsx("div",{className:"text-sm text-gray-500 text-center p-2",children:k.pendingCount===0?"Cha c sn phm no c chun b":`Cn chun b thm ${k.pendingCount} sn phm`}),a.jsxs("button",{onClick:()=>e("/seller/chat"),className:"w-full px-4 py-2 border border-blue-300 cursor-pointer text-blue-600 rounded-lg hover:bg-blue-50 flex items-center justify-center gap-2 transition",children:[a.jsx(sp,{className:"w-4 h-4"}),"Nhn tin"]})]})]})})]},k.OrderId)})}),M>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>w(k=>Math.max(1,k-1)),disabled:S===1,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${S===1?"bg-blue-100 text-blue-300 border-blue-200 cursor-not-allowed":"bg-white text-blue-500 border-blue-300 hover:bg-blue-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:M},(k,L)=>a.jsx("button",{onClick:()=>w(L+1),className:`
                          w-9 h-9 rounded-full text-sm font-semibold
                          transition-all duration-200
                          ${S===L+1?"bg-blue-500 text-white shadow":"bg-blue-50 text-blue-500 hover:bg-blue-200 cursor-pointer"}
                        `,children:L+1},L))}),a.jsxs("button",{onClick:()=>w(k=>Math.min(M,k+1)),disabled:S===M||M===0,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${S===M||M===0?"bg-blue-100 text-blue-300 border-blue-200 cursor-not-allowed":"bg-white text-blue-500 border-blue-300 hover:bg-blue-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})]})})}),d&&a.jsx(Y,{}),a.jsx(Bt,{})]})}function F4(){const{id:e}=ia(),t=oe(),n=JSON.parse(sessionStorage.getItem("account")),s=n==null?void 0:n.AccountId,[r,l]=g.useState(null),[i,c]=g.useState([]),[o,d]=g.useState({avgScore:0,totalFeedbacks:0,scoreDistribution:{5:0,4:0,3:0,2:0,1:0}}),[f,h]=g.useState(!1),[p,x]=g.useState(!0),[v,S]=g.useState(1),[w,y]=g.useState(!1),u=`${pe}/uploads/AccountAvatar`,m=`${pe}/uploads/ProductImage`,j=`${pe}/uploads/feedback`;g.useEffect(()=>{(async()=>{var B;try{x(!0);const[H,K]=await Promise.all([Q.get(`/stalls/${e}`),Q.get(`/feedback/stall/${e}/public?page=1&limit=10`)]);l(H.data),K.data.success&&(c(K.data.feedbacks),d({avgScore:parseFloat(K.data.rating.average)||0,totalFeedbacks:K.data.rating.total||0,scoreDistribution:((B=K.data.stats)==null?void 0:B.distribution)||{5:0,4:0,3:0,2:0,1:0}}))}catch(H){console.error("Load stall error:",H),alert("Khng tm thy gian hng"),t("/")}finally{x(!1)}})()},[e,t]);const N=async()=>{if(!w)try{y(!0);const M=v+1,B=await Q.get(`/feedback/stall/${e}/public?page=${M}&limit=10`);B.data.success&&(c(H=>[...H,...B.data.feedbacks]),S(M))}catch(M){console.error("Load more feedbacks error:",M)}finally{y(!1)}};if(p)return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("main",{className:"min-h-screen bg-gray-50 pt-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(8)].map((M,B)=>a.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[a.jsx("div",{className:"h-48 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},B))}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})})]})]})})})]});if(!r)return null;const{stall:O,products:T}=r,b=s&&s!==O.AccountId,C=O.Avt?`${u}/${O.Avt}`:`${u}/avtDf.png`,E=(M,B="md")=>{const H={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return a.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((K,V)=>a.jsx(bn,{className:`${H[B]} ${V<Math.floor(M)?"text-yellow-400 fill-yellow-400":V<M?"text-yellow-400":"text-gray-300"}`},V)),a.jsx("span",{className:`ml-2 ${B==="lg"?"text-lg":"text-sm"} text-gray-600 font-medium`,children:M.toFixed(1)})]})},D=M=>{const B=o.totalFeedbacks;return B===0?0:Math.round(o.scoreDistribution[M]/B*100)};return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("main",{className:"min-h-screen bg-gray-50 pt-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-6 mb-8 shadow-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"relative",children:a.jsx("img",{src:C,alt:O.StallName,className:"w-24 h-24 rounded-full border-4 border-white shadow-lg object-cover"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:O.StallName}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:[a.jsx(ji,{size:16,className:"text-gray-600"}),a.jsxs("span",{className:"text-sm font-medium",children:[T.length," sn phm"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:[a.jsx(Df,{size:16,className:"text-amber-500"}),a.jsxs("span",{className:"text-sm font-medium",children:[o.totalFeedbacks," nh gi"]})]}),o.totalFeedbacks>0&&a.jsx("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:E(o.avgScore)})]}),a.jsxs("p",{className:"text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Ch shop:"})," ",O.Name]})]})]}),b&&a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-red-500 cursor-pointer text-white px-6 py-3 rounded-full font-semibold hover:shadow-lg transition-shadow duration-200",children:[a.jsx(jd,{size:20}),"Chat vi shop"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sn phm ca shop"}),a.jsxs("span",{className:"text-gray-500",children:[T.length," sn phm"]})]}),T.length===0?a.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[a.jsx(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Shop cha c sn phm no"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:T.map(M=>a.jsxs("div",{onClick:()=>t(`/product/${M.ProductId}`),className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[a.jsx("img",{src:`${m}/${M.Image}`,alt:M.ProductName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),M.Status===0&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold px-3 py-1 bg-red-500 rounded-full text-sm",children:"Ngng bn"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800 line-clamp-2 mb-2 group-hover:text-orange-500",children:M.ProductName}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("span",{className:"text-red-500 font-bold text-lg",children:[Number(M.Price).toLocaleString()," "]})})]})]},M.ProductId))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(Df,{className:"w-5 h-5 text-amber-500"}),"Thng k shop"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Sn phm:"}),a.jsx("span",{className:"font-semibold",children:T.length})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"nh gi:"}),a.jsx("span",{className:"font-semibold",children:o.totalFeedbacks})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-gray-600",children:"im nh gi:"}),o.totalFeedbacks>0?E(o.avgScore):a.jsx("span",{className:"text-gray-400 text-sm",children:"Cha c"})]})]})]}),o.totalFeedbacks>0&&a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(X3,{className:"w-5 h-5 text-yellow-500"}),"Phn phi im"]}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(M=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center w-16",children:[a.jsx("span",{className:"text-sm text-gray-600 w-4",children:M}),a.jsx(bn,{className:"w-4 h-4 text-yellow-400 ml-1"})]}),a.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"bg-yellow-400 h-full rounded-full",style:{width:`${D(M)}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 w-10",children:[D(M),"%"]})]},M))})]})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"nh gi v shop"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[o.totalFeedbacks," nh gi t khch hng"]})]}),o.totalFeedbacks>0&&a.jsx("div",{className:"text-center bg-gradient-to-r from-orange-50 to-amber-50 px-6 py-4 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"text-4xl font-bold text-orange-600",children:o.avgScore.toFixed(1)}),a.jsxs("div",{children:[E(o.avgScore,"lg"),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"trn 5 sao"})]})]})})]}),o.totalFeedbacks===0?a.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(r4,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Cha c nh gi no"}),a.jsx("p",{className:"text-gray-500",children:"Hy l ngi u tin nh gi shop ny"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(M=>a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("img",{src:M.AccountAvatar?M.AccountAvatar.startsWith("http")?M.AccountAvatar:`${u}/${M.AccountAvatar}`:`${u}/avtDf.png`,alt:M.AccountName,className:"w-12 h-12 rounded-full flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:M.AccountName}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["nh gi v: ",M.ProductName||"sn phm"]})]}),a.jsxs("div",{className:"text-right",children:[E(M.Score),a.jsx("span",{className:"text-xs text-gray-400 block mt-1",children:new Date(M.CreatedAt).toLocaleDateString("vi-VN")})]})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:M.Content}),M.Images&&M.Images.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:M.Images.map((B,H)=>{const K=typeof B=="string"?B.startsWith("http")?B:`${j}/${B}`:"";return a.jsx("img",{src:K,alt:`Hnh ${H+1}`,className:"h-24 w-24 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>{const V=document.getElementById("modal-image"),_=document.getElementById("image-modal");V&&_&&(V.src=K,_.classList.remove("hidden"))}},H)})})]})]})},M.FeedbackId))}),i.length<o.totalFeedbacks&&a.jsx("div",{className:"text-center mt-8",children:a.jsx("button",{onClick:N,disabled:w,className:"px-6 py-2.5 bg-white border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition inline-flex items-center gap-2",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-orange-500"}),"ang ti..."]}):a.jsxs(a.Fragment,{children:["Xem thm nh gi",a.jsx(ChevronLeft,{className:"w-4 h-4 rotate-90"})]})})})]})]})]})}),a.jsx("div",{id:"image-modal",className:"hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[a.jsx("button",{onClick:()=>document.getElementById("image-modal").classList.add("hidden"),className:"absolute -top-10 right-0 p-2 text-white hover:text-gray-300 cursor-pointer"}),a.jsx("img",{id:"modal-image",src:"",alt:"nh nh gi",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})]})}),b&&a.jsxs(a.Fragment,{children:[a.jsx(Gr,{sellerId:O.AccountId,visible:!f,onOpen:()=>h(!0)}),f&&a.jsx(wd,{sellerId:O.AccountId,onClose:()=>h(!1)})]})]})}const G4=()=>{var K,V;const[e,t]=g.useState([]),[n,s]=g.useState(!0),[r,l]=g.useState(!1),[i,c]=g.useState(null),[o,d]=g.useState([]),[f,h]=g.useState(null),[p,x]=g.useState({status:"3",search:"",dateFrom:"",dateTo:""}),[v,S]=g.useState({show:!1,message:"",type:"success"});g.useEffect(()=>{j(),m()},[]);const w=(_,U="success")=>{S({show:!0,message:_,type:U}),setTimeout(()=>{S({show:!1,message:"",type:"success"})},3e3)},y={1:"Ch chun b",2:" chun b",3:"ang giao",4:" giao",5:" hy",6:"Tr hng"},u={1:"bg-yellow-100 text-yellow-800",2:"bg-blue-100 text-blue-800",3:"bg-purple-100 text-purple-800",4:"bg-green-100 text-green-800",5:"bg-red-100 text-red-800",6:"bg-gray-100 text-gray-800"},m=()=>{c(null),d([])},j=async()=>{try{l(!0);const _=new URLSearchParams({status:p.status,search:p.search,dateFrom:p.dateFrom,dateTo:p.dateTo}),U=await Q.get(`/orders/staff/orders?${_}`);console.log("Orders API response:",U.data),t(U.data.orders||[])}catch(_){console.error("Error fetching orders:",_),w("Li khi ti danh sch n hng","error")}finally{s(!1),l(!1)}},N=async _=>{try{h(null);const U=await Q.get(`/orders/staff/orders/${_}`);if(console.log("Order details API response:",U.data),!U.data.details||U.data.details.length===0){w("n hng ny khng c sn phm no","info"),m();return}if(U.data.details.filter(ee=>ee.Status===3).length===0){w("n hng ny khng c sn phm no ang giao","info"),m();return}d(U.data.details),c(_)}catch(U){console.error("Error fetching order details:",U),w("Li khi ti chi tit n hng","error"),m()}},O=async _=>{var U,J;try{if(!window.confirm("Xc nhn  giao hng thnh cng?"))return;await Q.put(`/orders/staff/order-details/${_}/deliver`);const ae=o.map(Y=>Y.OrderDetailId===_?{...Y,Status:4}:Y);d(ae),w(" xc nhn giao hng thnh cng!"),ae.every(Y=>Y.Status===4)&&(h(i),setTimeout(()=>{w(`n hng #${i}  hon thnh!`),m(),j()},1500))}catch(ee){console.error("Error confirming delivery:",ee),w(((J=(U=ee.response)==null?void 0:U.data)==null?void 0:J.message)||"Khng th xc nhn giao hng","error")}},T=async()=>{var _,U;try{if(!window.confirm("Xc nhn tt c sn phm  c giao?"))return;await Q.put(`/orders/staff/orders/${i}/deliver-all`);const ee=o.map(ae=>({...ae,Status:4}));d(ee),w(" xc nhn tt c sn phm!"),h(i),setTimeout(()=>{w(`n hng #${i}  hon thnh!`),m(),j()},1500)}catch(J){console.error("Error confirming all delivery:",J),w(((U=(_=J.response)==null?void 0:_.data)==null?void 0:U.message)||"Li khi xc nhn","error")}},b=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_),C=_=>_?_.startsWith("http")||_.startsWith("/uploads")?_:`/uploads/ProductImage/${_}`:"https://via.placeholder.com/48x48?text=No+Image",E=_=>new Date(_).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),D=()=>{s(!0),m(),h(null),j()},M=_=>{m(),h(null),N(_)},B=()=>{const _=o.reduce((ae,z)=>ae+z.Quantity,0),U=o.filter(ae=>ae.Status===3).length,J=o.filter(ae=>ae.Status===4).length,ee=o.reduce((ae,z)=>ae+z.UnitPrice*z.Quantity,0);return{totalProducts:_,shippingProducts:U,deliveredProducts:J,totalAmount:ee}};if(n)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});const H=B();return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.show&&a.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg ${v.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[v.type==="success"?a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),v.message]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l n hng ang giao"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Xc nhn n hng  c giao n khch hng"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tm kim"}),a.jsx("input",{type:"text",placeholder:"M n hng, tn khch hng...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.search,onChange:_=>x({...p,search:_.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.dateFrom,onChange:_=>x({...p,dateFrom:_.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.dateTo,onChange:_=>x({...p,dateTo:_.target.value})})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:D,disabled:r,className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ti..."]}):"p dng b lc"})})]})}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden sticky top-6",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"n hng ang giao"}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[e.length," n"]})]})}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-250px)]",children:e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("p",{children:"Khng c n hng no ang vn chuyn"})]}):e.map(_=>a.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${i===_.OrderId?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>M(_.OrderId),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"font-medium text-gray-800",children:["#",_.OrderId]}),a.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:[_.itemCount," sp"]})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate mb-1",children:_.CustomerName}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:_.CustomerPhone})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"font-medium text-gray-900 block",children:b(_.FinalPrice)}),a.jsx("span",{className:"text-xs text-gray-500",children:E(_.OrderDate)})]})]})},_.OrderId))})]})}),a.jsx("div",{className:"col-span-12 lg:col-span-8",children:a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden min-h-[400px]",children:f?a.jsx("div",{className:"p-12 text-center",children:a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 max-w-md mx-auto",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto text-green-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Hon thnh!"}),a.jsxs("p",{className:"text-green-600 mb-6",children:["n hng #",f,"  c xc nhn giao hng thnh cng."]}),a.jsx("button",{onClick:()=>{h(null),m()},className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Xem n hng khc"})]})}):i&&o.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Chi tit n hng #",i]}),a.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:[o.length," sn phm"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsx("span",{className:"text-gray-600",children:(K=o[0])==null?void 0:K.CustomerName})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.jsx("span",{className:"text-gray-600",children:(V=o[0])==null?void 0:V.CustomerPhone})]})]})]}),o.some(_=>_.Status===3)&&a.jsxs("button",{onClick:T,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Xc nhn tt c"]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sn phm"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S lng"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"n gi"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[_.Image&&a.jsx("img",{src:C(_.Image),alt:_.ProductName,className:"w-12 h-12 object-cover rounded-lg mr-3",onError:U=>{U.target.src="https://via.placeholder.com/48x48?text=No+Image"}}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 mb-1",children:_.ProductName}),a.jsx("p",{className:"text-xs text-gray-500",children:_.StallName})]})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium bg-gray-100 px-2 py-1 rounded",children:_.Quantity})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium",children:b(_.UnitPrice)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u[_.Status]||"bg-gray-100 text-gray-800"}`,children:y[_.Status]||`Trng thi ${_.Status}`})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:_.Status===3?a.jsxs("button",{onClick:()=>O(_.OrderDetailId),className:"bg-green-100 text-green-800 px-3 py-1 rounded-lg hover:bg-green-200 transition-colors flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})," giao"]}):_.Status===4?a.jsxs("span",{className:"text-green-600 font-medium flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})," xc nhn"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"Khng th thao tc"})})]},_.OrderDetailId))})]})}),a.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tng sn phm"}),a.jsxs("p",{className:"font-medium text-lg",children:[H.totalProducts," sn phm"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ang vn chuyn"}),a.jsxs("p",{className:"font-medium text-lg text-blue-600",children:[H.shippingProducts," sn phm"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" giao"}),a.jsxs("p",{className:"font-medium text-lg text-green-600",children:[H.deliveredProducts," sn phm"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tng tin"}),a.jsx("p",{className:"font-medium text-lg",children:b(H.totalAmount)})]})]})})]})]}):a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Chn mt n hng"}),a.jsx("p",{className:"text-gray-500",children:"Chn n hng t danh sch bn tri  xem chi tit v xc nhn giao hng"})]})})})]})]})]}),a.jsx(Bt,{})]})};function Q4(){const{orderId:e}=ia(),t=oe(),[n,s]=g.useState([]),[r,l]=g.useState(!0),[i,c]=g.useState(null),[o,d]=g.useState(!1),[f,h]=g.useState(5),[p,x]=g.useState(""),[v,S]=g.useState([]),[w,y]=g.useState([]),[u,m]=g.useState(!1),[j,N]=g.useState(""),O=g.useRef(null);g.useEffect(()=>{T()},[e]);const T=async()=>{var B,H,K,V,_;try{const U=sessionStorage.getItem("token");l(!0);const J=await Q.get(`/feedback/order/${e}/products`,{headers:{Authorization:`Bearer ${U}`}});if(console.log("Response data:",J.data),J.data.success)s(J.data.products);else throw new Error(J.data.message||"Khng th ly danh sch sn phm")}catch(U){console.error("Fetch order products error:",U),((B=U.response)==null?void 0:B.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),t("/login")):(N(((K=(H=U.response)==null?void 0:H.data)==null?void 0:K.message)||U.message),(((V=U.response)==null?void 0:V.status)===404||((_=U.response)==null?void 0:_.status)===403)&&s([]))}finally{l(!1)}},b=B=>{if(B.hasFeedback){alert("Bn  nh gi sn phm ny ri!");return}c(B),h(5),x(""),S([]),y([]),N(""),d(!0)},C=B=>{const H=Array.from(B.target.files);if(v.length+H.length>5){N("Ch c ti ln ti a 5 nh");return}const K=[],V=[];if(H.forEach(U=>{if(U.size>5*1024*1024){V.push({file:U,reason:"Kch thc nh ti a l 5MB"});return}if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(U.type)){V.push({file:U,reason:"Ch chp nhn file nh (JPEG, PNG, GIF)"});return}K.push(U)}),V.length>0){N(V.map(U=>U.reason).join(", "));return}if(K.length===0)return;N("");const _=[];K.forEach(U=>{const J=new FileReader;J.onloadend=()=>{_.push(J.result),_.length===K.length&&y(ee=>[...ee,..._])},J.readAsDataURL(U)}),S(U=>[...U,...K])},E=B=>{S(H=>H.filter((K,V)=>V!==B)),y(H=>H.filter((K,V)=>V!==B))},D=async()=>{var B,H;if(i){if(!p.trim()){N("Vui lng nhp ni dung nh gi");return}if(p.trim().length<10){N("Ni dung nh gi phi c t nht 10 k t");return}if(p.trim().length>500){N("Ni dung nh gi khng c vt qu 500 k t");return}N(""),m(!0);try{const K=sessionStorage.getItem("token"),V=new FormData;V.append("OrderDetailId",i.OrderDetailId),V.append("Score",f),V.append("Content",p.trim()),v.forEach((U,J)=>{V.append("Images",U)});const _=await Q.post("/feedback",V,{headers:{Authorization:`Bearer ${K}`,"Content-Type":"multipart/form-data"}});if(_.data.success)alert("nh gi thnh cng!"),s(U=>U.map(J=>J.OrderDetailId===i.OrderDetailId?{...J,hasFeedback:!0,canFeedback:!1}:J)),d(!1),c(null),h(5),x(""),S([]),y([]);else throw new Error(_.data.message||"nh gi tht bi")}catch(K){console.error("Submit feedback error:",K);const V=((H=(B=K.response)==null?void 0:B.data)==null?void 0:H.message)||"nh gi tht bi. Vui lng th li.";N(V)}finally{m(!1)}}},M=B=>new Intl.NumberFormat("vi-VN").format(B)+"";return r?a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}),a.jsx(Bt,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(ca,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 mb-4 cursor-pointer",children:[a.jsx(i3,{className:"w-4 h-4"}),"Quay li n hng"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"nh gi sn phm"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full",children:[a.jsx(tt,{className:"w-4 h-4"}),a.jsxs("span",{children:["n hng #",e]})]}),a.jsxs("div",{className:"text-gray-600",children:[n.filter(B=>B.canFeedback).length," sn phm cha nh gi"]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(tt,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Khng c sn phm no"}),a.jsx("p",{className:"text-gray-500",children:"n hng ny khng c sn phm no  nh gi."})]}):a.jsx("div",{className:"divide-y",children:n.map(B=>a.jsx("div",{className:"p-6 hover:bg-gray-50",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:B.ProductImage||"https://via.placeholder.com/100",alt:B.ProductName,className:"w-20 h-20 rounded-lg object-cover border",onError:H=>{H.target.onerror=null,H.target.src="https://via.placeholder.com/100"}})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-800",children:B.ProductName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.StallName}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["S lng: ",B.Quantity]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Gi: ",M(B.UnitPrice)]})]})]}),a.jsx("div",{className:"flex flex-col items-end gap-3",children:B.hasFeedback?a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Tr,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:" nh gi"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cha nh gi"}),a.jsxs("button",{onClick:()=>b(B),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer flex items-center gap-2",children:[a.jsx(bn,{className:"w-4 h-4"}),"nh gi ngay"]})]})})]})})]})},B.OrderDetailId))})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Tng sn phm"}),a.jsx("div",{className:"text-2xl font-bold text-gray-800",children:n.length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:" nh gi"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(B=>B.hasFeedback).length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Cha nh gi"}),a.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.filter(B=>B.canFeedback).length})]})]})]})]})})}),o&&i&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>!u&&d(!1)}),a.jsxs("div",{className:"relative bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto z-10",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"nh gi sn phm"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:i.ProductName})]}),a.jsx("button",{onClick:()=>!u&&d(!1),disabled:u,className:"p-2 cursor-pointer hover:bg-gray-100 rounded-lg transition",children:a.jsx(o4,{className:"w-6 h-6 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("img",{src:i.ProductImage||"https://via.placeholder.com/60",alt:i.ProductName,className:"w-16 h-16 rounded-lg object-cover"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-800",children:i.ProductName}),a.jsx("p",{className:"text-sm text-gray-600",children:i.StallName})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Cht lng sn phm (ty chn)",a.jsx("span",{className:"text-gray-400 ml-1 text-xs",children:"Mc nh: 5 sao"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(B=>a.jsx("button",{type:"button",onClick:()=>h(B),disabled:u,className:"cursor-pointer p-1 hover:scale-110 transition-transform",children:a.jsx(bn,{className:`w-10 h-10 ${B<=f?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},B)),a.jsxs("span",{className:"ml-4 text-lg font-bold text-gray-700",children:[f," sao"]})]}),a.jsxs("div",{className:"flex gap-2 mt-2 text-sm text-gray-500",children:[a.jsx("span",{children:"Rt t"}),a.jsx("span",{className:"flex-1"}),a.jsx("span",{children:"Tuyt vi"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ni dung nh gi",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:p,onChange:B=>x(B.target.value),disabled:u,className:"w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",placeholder:"Hy chia s cm nhn ca bn v sn phm ny (sn phm c tt khng, c ng vi m t khng, c nn mua khng...)",maxLength:500}),a.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:[p.length,"/500"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[a.jsx(sp,{className:"w-4 h-4"}),a.jsx("span",{children:"Vit nh gi chi tit s c cng thm im tch ly!"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Hnh nh nh km (ty chn, ti a 5 nh)"}),a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-500 transition-colors",children:w.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-3 gap-4",children:w.map((B,H)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:B,alt:`Preview ${H+1}`,className:"h-32 w-full object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>E(H),disabled:u,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition cursor-pointer",children:a.jsx(Nd,{className:"w-4 h-4"})})]},H))}),w.length<5&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Nhp  thm nh (",w.length,"/5)"]}),a.jsxs("label",{className:"cursor-pointer inline-block",children:[a.jsx("input",{ref:O,type:"file",className:"hidden",accept:"image/*",onChange:C,disabled:u,multiple:!0}),a.jsxs("div",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition inline-flex items-center gap-2 mt-2",children:[a.jsx(rp,{className:"w-4 h-4"}),"Thm nh"]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(j3,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 mb-3",children:"Ko th nh vo y hoc"}),a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{ref:O,type:"file",className:"hidden",accept:"image/*",onChange:C,disabled:u,multiple:!0}),a.jsxs("div",{className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition inline-flex items-center gap-2",children:[a.jsx(t4,{className:"w-4 h-4"}),"Chn nh t my tnh"]})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"JPEG, PNG, GIF (ti a 5MB mi nh)"})]})})]}),j&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 text-red-700 rounded-lg",children:[a.jsx(Lt,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:j})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[a.jsx("button",{onClick:()=>!u&&d(!1),disabled:u,className:"px-6 py-2.5 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Hy"}),a.jsx("button",{onClick:D,disabled:u||p.trim().length<1,className:`px-6 py-2.5 text-white rounded-lg flex items-center gap-2 transition ${u||p.trim().length<1?"bg-gray-400 cursor-not-allowed":"bg-orange-500 cursor-pointer hover:bg-orange-600"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"ang gi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"w-4 h-4"}),"Gi nh gi"]})})]})]})]})]}),a.jsx(Bt,{})]})}function Y4(){var w,y;const e=oe(),[t,n]=g.useState([]),[s,r]=g.useState(!0),[l,i]=g.useState(null),[c,o]=g.useState({score:"",dateFrom:"",dateTo:"",page:1,limit:10}),[d,f]=g.useState(1);g.useEffect(()=>{h()},[c.page,c.score,c.dateFrom,c.dateTo]);const h=async()=>{var u;try{const m=sessionStorage.getItem("token");r(!0);const j=new URLSearchParams({page:c.page,limit:c.limit,...c.score&&{score:c.score},...c.dateFrom&&{dateFrom:c.dateFrom},...c.dateTo&&{dateTo:c.dateTo}}),N=await Q.get(`/feedback/my-feedbacks?${j}`,{headers:{Authorization:`Bearer ${m}`}});n(N.data.feedbacks),i(N.data.stats),f(N.data.pagination.totalPages)}catch(m){console.error("Fetch feedbacks error:",m),((u=m.response)==null?void 0:u.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert("Khng th ti danh sch nh gi")}finally{r(!1)}},p=async u=>{if(window.confirm("Bn c chc chn mun xa nh gi ny?"))try{const m=sessionStorage.getItem("token");await Q.delete(`/feedback/${u}`,{headers:{Authorization:`Bearer ${m}`}}),alert("Xa nh gi thnh cng"),h()}catch(m){console.error("Delete feedback error:",m),alert("Xa nh gi tht bi")}},x=async(u,m,j)=>{e(`/feedback/edit/${u}`)},v=u=>new Date(u).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),S=u=>Array(5).fill(0).map((m,j)=>a.jsx(bn,{className:`w-4 h-4 ${j<u?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},j));return a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(ca,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"nh gi ca ti"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l tt c nh gi bn  vit"})]}),l&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Tng s nh gi"}),a.jsx("div",{className:"text-2xl font-bold text-gray-800 mt-2",children:l.total})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"im trung bnh"}),a.jsxs("div",{className:"text-2xl font-bold text-yellow-500 mt-2",children:[l.average,a.jsx("span",{className:"text-lg ml-1",children:"/5"})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"5 sao"}),a.jsx("div",{className:"text-2xl font-bold text-green-600 mt-2",children:((w=l.distribution)==null?void 0:w[5])||0})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"1 sao"}),a.jsx("div",{className:"text-2xl font-bold text-red-600 mt-2",children:((y=l.distribution)==null?void 0:y[1])||0})]})]}),a.jsx("div",{className:"bg-white rounded-xl border p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lc theo sao"}),a.jsxs("select",{value:c.score,onChange:u=>o({...c,score:u.target.value,page:1}),className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"",children:"Tt c"}),a.jsx("option",{value:"5",children:"5 sao"}),a.jsx("option",{value:"4",children:"4 sao"}),a.jsx("option",{value:"3",children:"3 sao"}),a.jsx("option",{value:"2",children:"2 sao"}),a.jsx("option",{value:"1",children:"1 sao"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",value:c.dateFrom,onChange:u=>o({...c,dateFrom:u.target.value,page:1}),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",value:c.dateTo,onChange:u=>o({...c,dateTo:u.target.value,page:1}),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"ang ti nh gi..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(bn,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Cha c nh gi no"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Bn cha vit nh gi no cho sn phm"}),a.jsx("button",{onClick:()=>e("/orders"),className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer",children:"n n hng  nh gi"})]}):a.jsx("div",{className:"space-y-4",children:t.map(u=>a.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:u.ProductImage||"https://via.placeholder.com/80",alt:u.ProductName,className:"w-20 h-20 rounded-lg object-cover border"})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-800",children:u.ProductName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.StallName}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("div",{className:"flex",children:S(u.Score)}),a.jsx("span",{className:"text-sm text-gray-500",children:v(u.CreatedAt)})]}),a.jsx("p",{className:"mt-3 text-gray-700",children:u.Content}),u.Image&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:u.Image.startsWith("http")?u.Image:`http://localhost:3000${u.Image}`,alt:"Feedback",className:"h-40 rounded-lg object-cover"})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("button",{onClick:()=>x(u.FeedbackId),className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition cursor-pointer flex items-center gap-2",children:[a.jsx(Q3,{className:"w-4 h-4"}),"Sa"]}),a.jsxs("button",{onClick:()=>p(u.FeedbackId),className:"px-3 py-1.5 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition cursor-pointer flex items-center gap-2",children:[a.jsx(Nd,{className:"w-4 h-4"}),"Xa"]})]})]})})]})})},u.FeedbackId))}),d>1&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>o({...c,page:Math.max(1,c.page-1)}),disabled:c.page===1,className:`px-3 py-1.5 rounded-lg ${c.page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 cursor-pointer"}`,children:"Trc"}),Array.from({length:Math.min(5,d)},(u,m)=>{let j;return d<=5||c.page<=3?j=m+1:c.page>=d-2?j=d-4+m:j=c.page-2+m,a.jsx("button",{onClick:()=>o({...c,page:j}),className:`px-3 py-1.5 rounded-lg ${c.page===j?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 cursor-pointer"}`,children:j},j)}),a.jsx("button",{onClick:()=>o({...c,page:Math.min(d,c.page+1)}),disabled:c.page===d,className:`px-3 py-1.5 rounded-lg ${c.page===d?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 cursor-pointer"}`,children:"Sau"})]})})]})]})})}),a.jsx(Bt,{})]})}function X4(){const{orderId:e}=ia(),t=oe(),[n,s]=g.useState(null),[r,l]=g.useState(0),[i,c]=g.useState(""),[o,d]=g.useState("pending"),[f,h]=g.useState(!0),[p,x]=g.useState("");return g.useEffect(()=>{(async()=>{var S,w;try{const y=await Q.post("/payments/create",{orderId:e});s(y.data.qr),l(y.data.amount),c(y.data.description),h(!1)}catch(y){console.error("QR error:",y),x(((w=(S=y.response)==null?void 0:S.data)==null?void 0:w.message)||"Khng th to m QR"),h(!1)}})()},[e]),g.useEffect(()=>{if(o!=="pending")return;const v=setInterval(async()=>{try{const S=await Q.get(`/payments/status/${e}`);S.data.orderStatus===2?(d("success"),clearInterval(v)):S.data.paymentStatus==="failed"&&(d("failed"),clearInterval(v))}catch(S){console.error("Polling error:",S)}},3e3);return()=>clearInterval(v)},[e,o]),o==="success"?a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-16 px-4",children:a.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(Pt,{className:"w-10 h-10 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thanh ton thnh cng!"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["n hng #",e,"  c xc nhn."]}),a.jsx("button",{onClick:()=>t("/orders"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-xl transition",children:"Xem n hng"})]})}),a.jsx(Bt,{})]}):o==="failed"?a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-16 px-4",children:a.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(Lt,{className:"w-10 h-10 text-red-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thanh ton tht bi"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Vui lng th li hoc chn phng thc khc."}),a.jsx("button",{onClick:()=>t(`/order/${e}`),className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-xl transition",children:"Quay li n hng"})]})}),a.jsx(Bt,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-8 px-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 mb-6 transition",children:[a.jsx(np,{className:"w-4 h-4"})," Quay li"]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white",children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(as,{className:"w-6 h-6"})," Thanh ton n hng"]}),a.jsxs("p",{className:"opacity-90 mt-1",children:["M n: #",e]})]}),a.jsx("div",{className:"p-8",children:f?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(S3,{className:"w-10 h-10 animate-spin text-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"ang to m thanh ton..."})]}):p?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-600 mb-4",children:p}),a.jsx("button",{onClick:()=>t("/cart"),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition",children:"V gi hng"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"S tin cn thanh ton"}),a.jsxs("p",{className:"text-4xl font-bold text-red-500",children:[r.toLocaleString("vi-VN"),""]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Qut m QR bng ng dng ngn hng"}),a.jsx("div",{className:"flex justify-center",children:n&&a.jsx("img",{src:n.startsWith("http")?n:`data:image/png;base64,${n}`,alt:"QR thanh ton",className:"w-64 h-64"})}),a.jsxs("p",{className:"text-xs text-gray-400 text-center mt-4",children:["Ni dung chuyn khon: ",a.jsx("span",{className:"font-mono bg-gray-200 px-2 py-1 rounded",children:i})]})]}),a.jsx("div",{className:"border-t border-gray-100 pt-6",children:a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 bg-blue-50 p-4 rounded-xl",children:[a.jsx(Lt,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsx("p",{children:"Sau khi chuyn khon, vui lng ch h thng xc nhn (thng trong 1-2 pht). Trang s t ng cp nht khi thanh ton thnh cng."})]})})]})})]})]})}),a.jsx(Bt,{})]})}function P4(){const e=oe();JSON.parse(sessionStorage.getItem("account"));const[t,n]=g.useState(""),[s,r]=g.useState(""),[l,i]=g.useState(""),[c,o]=g.useState(null),[d,f]=g.useState(null),[h,p]=g.useState([]),[x,v]=g.useState([]),[S,w]=g.useState(!0),[y,u]=g.useState(null),[m,j]=g.useState(!0);g.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),g.useEffect(()=>{(async()=>{try{const C=await Q.get("/stalls/my-stall");u(C.data)}catch(C){console.error("Li ly stall:",C),alert("Khng th ly thng tin gian hng")}finally{j(!1)}})()},[]),g.useEffect(()=>{(async()=>{try{const C=await Q.get("/categories");v(C.data)}catch(C){console.error("Li ly danh mc:",C),alert("Khng th ti danh mc sn phm")}finally{w(!1)}})()},[]);const N=b=>{const C=b.target.files[0];C&&(o(C),f(URL.createObjectURL(C)))},O=b=>{p(C=>C.includes(b)?C.filter(E=>E!==b):[...C,b])},T=async b=>{var E,D;if(b.preventDefault(),!t.trim()){alert("Vui lng nhp tn sn phm");return}if(!s||isNaN(s)||parseInt(s)<=0){alert("Vui lng nhp gi hp l");return}if(!l.trim()){alert("Vui lng nhp m t");return}if(!c){alert("Vui lng chn nh sn phm");return}if(h.length===0){alert("Vui lng chn t nht mt danh mc");return}console.log("Selected categories:",h),console.log("CategoryIds JSON:",JSON.stringify(h));const C=new FormData;C.append("ProductName",t),C.append("Price",s),C.append("Description",l),C.append("Image",c),C.append("CategoryIds",JSON.stringify(h));try{const M=await Q.post("/products",C,{headers:{"Content-Type":"multipart/form-data"}});M.data.success?(alert("Thm sn phm thnh cng!"),e("/seller/products")):alert(M.data.message||"C li xy ra")}catch(M){console.error("Li khi thm sn phm:",M),alert(((D=(E=M.response)==null?void 0:E.data)==null?void 0:D.message)||"Li server")}};return m||S?a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsx("div",{className:"flex-1 p-8 text-center",children:"ang ti d liu..."})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(fe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Vt,{}),a.jsxs("div",{className:"flex-1 bg-white p-6 rounded shadow",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Thm sn phm mi"}),a.jsxs("form",{onSubmit:T,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Gian hng"}),a.jsx("input",{type:"text",value:(y==null?void 0:y.StallName)||"",disabled:!0,className:"w-full border border-gray-300 bg-gray-100 rounded px-3 py-2"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Tn sn phm ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:t,onChange:b=>n(b.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Gi (VN) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",min:"1",value:s,onChange:b=>r(b.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["M t ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{rows:"4",value:l,onChange:b=>i(b.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["nh sn phm ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:a.jsx("div",{className:"space-y-1 text-center",children:d?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:d,alt:"Preview",className:"max-h-48 mx-auto object-contain"}),a.jsx("button",{type:"button",onClick:()=>{o(null),f(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:a.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsxs("div",{className:"flex text-sm text-gray-600",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-orange-600 hover:text-orange-500 focus-within:outline-none",children:[a.jsx("span",{children:"Ti nh ln"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:N})]}),a.jsx("p",{className:"pl-1",children:"hoc ko th"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF ln n 5MB"})]})})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Danh mc ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x.map(b=>a.jsxs("label",{className:`flex items-center p-3 border rounded cursor-pointer transition ${h.includes(b.CategoryId)?"border-orange-500 bg-orange-50":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("input",{type:"checkbox",value:b.CategoryId,checked:h.includes(b.CategoryId),onChange:()=>O(b.CategoryId),className:"mr-2 cursor-pointer"}),b.CategoryImage?a.jsx("img",{src:b.CategoryImage,alt:b.CategoryName,className:"w-8 h-8 object-cover rounded mr-2",onError:C=>{C.target.style.display="none"}}):a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mr-2 flex items-center justify-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("span",{children:b.CategoryName})]},b.CategoryId))})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"bg-orange-500 text-white cursor-pointer px-6 py-2 rounded hover:bg-orange-600 transition",children:"Thm sn phm"}),a.jsx("button",{type:"button",onClick:()=>e("/seller/products"),className:"bg-gray-300 cursor-pointer text-gray-800 px-6 py-2 rounded hover:bg-gray-400 transition",children:"Hy"})]})]})]})]})]})}function K4(){return a.jsxs(a.Fragment,{children:[a.jsx(MN,{}),a.jsxs(r1,{children:[a.jsx(ce,{path:"/",element:a.jsx(g4,{})}),a.jsx(ce,{path:"/search",element:a.jsx(x4,{})}),a.jsx(ce,{path:"/login",element:a.jsx(p4,{})}),a.jsx(ce,{path:"/register",element:a.jsx(y4,{})}),a.jsxs(ce,{element:a.jsx(I1,{}),children:[a.jsx(ce,{path:"/admin/accounts",element:a.jsx(qN,{})}),a.jsx(ce,{path:"/admin/products",element:a.jsx(FN,{})}),a.jsx(ce,{path:"/admin/ads",element:a.jsx(M4,{})}),a.jsx(ce,{path:"/admin/accounts/:id",element:a.jsx(b4,{})}),a.jsx(ce,{path:"/admin/vouchers",element:a.jsx(V4,{})}),a.jsx(ce,{path:"/admin/voucher/create",element:a.jsx(B4,{})}),a.jsx(ce,{path:"/admin/platform-fee",element:a.jsx(H4,{})})]}),a.jsxs(ce,{element:a.jsx(H1,{}),children:[a.jsx(ce,{path:"/seller/products",element:a.jsx(u4,{})}),a.jsx(ce,{path:"/seller/profile",element:a.jsx(S4,{})}),a.jsx(ce,{path:"/seller/products/:id",element:a.jsx(N4,{})}),a.jsx(ce,{path:"/seller/chat",element:a.jsx(D4,{})}),a.jsx(ce,{path:"/seller/voucher",element:a.jsx(R4,{})}),a.jsx(ce,{path:"/seller/voucher/create",element:a.jsx(z4,{})}),a.jsx(ce,{path:"/seller/voucher/update/:id",element:a.jsx(L4,{})}),a.jsx(ce,{path:"/seller/orders",element:a.jsx(q4,{})}),a.jsx(ce,{path:"/seller/products/add",element:a.jsx(P4,{})})]}),a.jsx(ce,{element:a.jsx(q1,{}),children:a.jsx(ce,{path:"/staff/manage-orders",element:a.jsx(G4,{})})}),a.jsxs(ce,{element:a.jsx($1,{}),children:[a.jsx(ce,{path:"/profile",element:a.jsx(w4,{})}),a.jsx(ce,{path:"/address",element:a.jsx(C4,{})}),a.jsx(ce,{path:"/address/add",element:a.jsx(T4,{})}),a.jsx(ce,{path:"/address/update/:id",element:a.jsx(I4,{})}),a.jsx(ce,{path:"/my-voucher",element:a.jsx(U4,{})}),a.jsx(ce,{path:"/orders",element:a.jsx($4,{})}),a.jsx(ce,{path:"/stall/:id",element:a.jsx(F4,{})}),a.jsx(ce,{path:"/checkout",element:a.jsx(_4,{})}),a.jsx(ce,{path:"/feedback/order/:orderId",element:a.jsx(Q4,{})}),a.jsx(ce,{path:"/my-feedbacks",element:a.jsx(Y4,{})}),a.jsx(ce,{path:"/payment/:orderId",element:a.jsx(X4,{})})]}),a.jsx(ce,{path:"/cart",element:a.jsx(v4,{})}),a.jsx(ce,{path:"/product/:id",element:a.jsx(j4,{})})]})]})}l2.createRoot(document.getElementById("root")).render(a.jsx(Hn.StrictMode,{children:a.jsx(k1,{children:a.jsx($v,{children:a.jsx(K4,{})})})}));
