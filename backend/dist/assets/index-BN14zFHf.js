(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function Uf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var If={exports:{}},ji={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=Symbol.for("react.transitional.element"),op=Symbol.for("react.fragment");function Hf(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:cp,type:e,key:s,ref:t!==void 0?t:null,props:n}}ji.Fragment=op;ji.jsx=Hf;ji.jsxs=Hf;If.exports=ji;var a=If.exports,$f={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.transitional.element"),up=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),mp=Symbol.for("react.consumer"),xp=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),yp=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),bp=Symbol.for("react.activity"),Cd=Symbol.iterator;function vp(e){return e===null||typeof e!="object"?null:(e=Cd&&e[Cd]||e["@@iterator"],typeof e=="function"?e:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ff=Object.assign,Qf={};function fs(e,t,n){this.props=e,this.context=t,this.refs=Qf,this.updater=n||Gf}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yf(){}Yf.prototype=fs.prototype;function nu(e,t,n){this.props=e,this.context=t,this.refs=Qf,this.updater=n||Gf}var au=nu.prototype=new Yf;au.constructor=nu;Ff(au,fs.prototype);au.isPureReactComponent=!0;var Td=Array.isArray;function Fc(){}var Ae={H:null,A:null,T:null,S:null},Xf=Object.prototype.hasOwnProperty;function su(e,t,n){var s=n.ref;return{$$typeof:tu,type:e,key:t,ref:s!==void 0?s:null,props:n}}function jp(e,t){return su(e.type,t,e.props)}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===tu}function Np(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ed=/\/+/g;function Ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Np(""+e.key):t.toString(36)}function wp(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Fc,Fc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function _a(e,t,n,s,l){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(r){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case tu:case up:i=!0;break;case qf:return i=e._init,_a(i(e._payload),t,n,s,l)}}if(i)return l=l(e),i=s===""?"."+Ji(e,0):s,Td(l)?(n="",i!=null&&(n=i.replace(Ed,"$&/")+"/"),_a(l,t,n,"",function(d){return d})):l!=null&&(lu(l)&&(l=jp(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Ed,"$&/")+"/")+i)),t.push(l)),1;i=0;var c=s===""?".":s+":";if(Td(e))for(var o=0;o<e.length;o++)s=e[o],r=c+Ji(s,o),i+=_a(s,t,n,r,l);else if(o=vp(e),typeof o=="function")for(e=o.call(e),o=0;!(s=e.next()).done;)s=s.value,r=c+Ji(s,o++),i+=_a(s,t,n,r,l);else if(r==="object"){if(typeof e.then=="function")return _a(wp(e),t,n,s,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function Gl(e,t,n){if(e==null)return e;var s=[],l=0;return _a(e,s,"","",function(r){return t.call(n,r,l++)}),s}function Sp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ad=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cp={map:Gl,forEach:function(e,t,n){Gl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gl(e,function(){t++}),t},toArray:function(e){return Gl(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Activity=bp;se.Children=Cp;se.Component=fs;se.Fragment=dp;se.Profiler=fp;se.PureComponent=nu;se.StrictMode=hp;se.Suspense=pp;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ae.H.useMemoCache(e)}};se.cache=function(e){return function(){return e.apply(null,arguments)}};se.cacheSignal=function(){return null};se.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=Ff({},e.props),l=e.key;if(t!=null)for(r in t.key!==void 0&&(l=""+t.key),t)!Xf.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(s[r]=t[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var i=Array(r),c=0;c<r;c++)i[c]=arguments[c+2];s.children=i}return su(e.type,l,s)};se.createContext=function(e){return e={$$typeof:xp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:mp,_context:e},e};se.createElement=function(e,t,n){var s,l={},r=null;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)Xf.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(l[s]=t[s]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var c=Array(i),o=0;o<i;o++)c[o]=arguments[o+2];l.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)l[s]===void 0&&(l[s]=i[s]);return su(e,r,l)};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:gp,render:e}};se.isValidElement=lu;se.lazy=function(e){return{$$typeof:qf,_payload:{_status:-1,_result:e},_init:Sp}};se.memo=function(e,t){return{$$typeof:yp,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Ae.T,n={};Ae.T=n;try{var s=e(),l=Ae.S;l!==null&&l(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Fc,Ad)}catch(r){Ad(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ae.T=t}};se.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()};se.use=function(e){return Ae.H.use(e)};se.useActionState=function(e,t,n){return Ae.H.useActionState(e,t,n)};se.useCallback=function(e,t){return Ae.H.useCallback(e,t)};se.useContext=function(e){return Ae.H.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e,t){return Ae.H.useDeferredValue(e,t)};se.useEffect=function(e,t){return Ae.H.useEffect(e,t)};se.useEffectEvent=function(e){return Ae.H.useEffectEvent(e)};se.useId=function(){return Ae.H.useId()};se.useImperativeHandle=function(e,t,n){return Ae.H.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Ae.H.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Ae.H.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Ae.H.useMemo(e,t)};se.useOptimistic=function(e,t){return Ae.H.useOptimistic(e,t)};se.useReducer=function(e,t,n){return Ae.H.useReducer(e,t,n)};se.useRef=function(e){return Ae.H.useRef(e)};se.useState=function(e){return Ae.H.useState(e)};se.useSyncExternalStore=function(e,t,n){return Ae.H.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Ae.H.useTransition()};se.version="19.2.3";$f.exports=se;var x=$f.exports;const Vn=Uf(x);var Kf={exports:{}},Ni={},Pf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,_){var U=L.length;L.push(_);e:for(;0<U;){var Z=U-1>>>1,W=L[Z];if(0<l(W,_))L[Z]=_,L[U]=W,U=Z;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var _=L[0],U=L.pop();if(U!==_){L[0]=U;e:for(var Z=0,W=L.length,ae=W>>>1;Z<ae;){var T=2*(Z+1)-1,V=L[T],Q=T+1,B=L[Q];if(0>l(V,U))Q<W&&0>l(B,V)?(L[Z]=B,L[Q]=U,Z=Q):(L[Z]=V,L[T]=U,Z=T);else if(Q<W&&0>l(B,U))L[Z]=B,L[Q]=U,Z=Q;else break e}}return _}function l(L,_){var U=L.sortIndex-_.sortIndex;return U!==0?U:L.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],f=1,h=null,p=3,g=!1,b=!1,S=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var _=n(d);_!==null;){if(_.callback===null)s(d);else if(_.startTime<=L)s(d),_.sortIndex=_.expirationTime,t(o,_);else break;_=n(d)}}function N(L){if(S=!1,j(L),!b)if(n(o)!==null)b=!0,O||(O=!0,k());else{var _=n(d);_!==null&&K(N,_.startTime-L)}}var O=!1,E=-1,v=5,C=-1;function A(){return w?!0:!(e.unstable_now()-C<v)}function M(){if(w=!1,O){var L=e.unstable_now();C=L;var _=!0;try{e:{b=!1,S&&(S=!1,u(E),E=-1),g=!0;var U=p;try{t:{for(j(L),h=n(o);h!==null&&!(h.expirationTime>L&&A());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var W=Z(h.expirationTime<=L);if(L=e.unstable_now(),typeof W=="function"){h.callback=W,j(L),_=!0;break t}h===n(o)&&s(o),j(L)}else s(o);h=n(o)}if(h!==null)_=!0;else{var ae=n(d);ae!==null&&K(N,ae.startTime-L),_=!1}}break e}finally{h=null,p=U,g=!1}_=void 0}}finally{_?k():O=!1}}}var k;if(typeof m=="function")k=function(){m(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=M,k=function(){H.postMessage(null)}}else k=function(){y(M,0)};function K(L,_){E=y(function(){L(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var _=3;break;default:_=p}var U=p;p=_;try{return L()}finally{p=U}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(L,_){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=p;p=L;try{return _()}finally{p=U}},e.unstable_scheduleCallback=function(L,_,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,L={id:f++,callback:_,priorityLevel:L,startTime:U,expirationTime:W,sortIndex:-1},U>Z?(L.sortIndex=U,t(d,L),n(o)===null&&L===n(d)&&(S?(u(E),E=-1):S=!0,K(N,U-Z))):(L.sortIndex=W,t(o,L),b||g||(b=!0,O||(O=!0,k()))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var _=p;return function(){var U=p;p=_;try{return L.apply(this,arguments)}finally{p=U}}}})(Zf);Pf.exports=Zf;var Tp=Pf.exports,Jf={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=x;function Wf(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sn(){}var tt={d:{f:Sn,r:function(){throw Error(Wf(522))},D:Sn,C:Sn,L:Sn,m:Sn,X:Sn,S:Sn,M:Sn},p:0,findDOMNode:null},Ap=Symbol.for("react.portal");function Op(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ap,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var qs=Ep.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function wi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Wf(299));return Op(e,t,null,n)};nt.flushSync=function(e){var t=qs.T,n=tt.p;try{if(qs.T=null,tt.p=2,e)return e()}finally{qs.T=t,tt.p=n,tt.d.f()}};nt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,tt.d.C(e,t))};nt.prefetchDNS=function(e){typeof e=="string"&&tt.d.D(e)};nt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=wi(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?tt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:l,fetchPriority:r}):n==="script"&&tt.d.X(e,{crossOrigin:s,integrity:l,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};nt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=wi(t.as,t.crossOrigin);tt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&tt.d.M(e)};nt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=wi(n,t.crossOrigin);tt.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};nt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=wi(t.as,t.crossOrigin);tt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else tt.d.m(e)};nt.requestFormReset=function(e){tt.d.r(e)};nt.unstable_batchedUpdates=function(e,t){return e(t)};nt.useFormState=function(e,t,n){return qs.H.useFormState(e,t,n)};nt.useFormStatus=function(){return qs.H.useHostTransitionStatus()};nt.version="19.2.3";function em(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(em)}catch(e){console.error(e)}}em(),Jf.exports=nt;var Dp=Jf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=Tp,tm=x,Mp=Dp;function $(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function am(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sm(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Od(e){if(Sl(e)!==e)throw Error($(188))}function _p(e){var t=e.alternate;if(!t){if(t=Sl(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var r=l.alternate;if(r===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===r.child){for(r=l.child;r;){if(r===n)return Od(l),e;if(r===s)return Od(l),t;r=r.sibling}throw Error($(188))}if(n.return!==s.return)n=l,s=r;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,s=r;break}if(c===s){i=!0,s=l,n=r;break}c=c.sibling}if(!i){for(c=r.child;c;){if(c===n){i=!0,n=r,s=l;break}if(c===s){i=!0,s=r,n=l;break}c=c.sibling}if(!i)throw Error($(189))}}if(n.alternate!==s)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function lm(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=lm(e),t!==null)return t;e=e.sibling}return null}var Oe=Object.assign,kp=Symbol.for("react.element"),Fl=Symbol.for("react.transitional.element"),Vs=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),im=Symbol.for("react.consumer"),cn=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),Yc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),iu=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Kc=Symbol.for("react.activity"),Rp=Symbol.for("react.memo_cache_sentinel"),Dd=Symbol.iterator;function Es(e){return e===null||typeof e!="object"?null:(e=Dd&&e[Dd]||e["@@iterator"],typeof e=="function"?e:null)}var zp=Symbol.for("react.client.reference");function Pc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zp?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case za:return"Fragment";case Qc:return"Profiler";case rm:return"StrictMode";case Yc:return"Suspense";case Xc:return"SuspenseList";case Kc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Vs:return"Portal";case cn:return e.displayName||"Context";case im:return(e._context.displayName||"Context")+".Consumer";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iu:return t=e.displayName||null,t!==null?t:Pc(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Pc(e(t))}catch{}}return null}var Bs=Array.isArray,te=tm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=Mp.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ha={pending:!1,data:null,method:null,action:null},Zc=[],La=-1;function Zt(e){return{current:e}}function Qe(e){0>La||(e.current=Zc[La],Zc[La]=null,La--)}function Ce(e,t){La++,Zc[La]=e.current,e.current=t}var Yt=Zt(null),rl=Zt(null),Bn=Zt(null),zr=Zt(null);function Lr(e,t){switch(Ce(Bn,t),Ce(rl,e),Ce(Yt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lh(t),e=Ex(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Qe(Yt),Ce(Yt,e)}function es(){Qe(Yt),Qe(rl),Qe(Bn)}function Jc(e){e.memoizedState!==null&&Ce(zr,e);var t=Yt.current,n=Ex(t,e.type);t!==n&&(Ce(rl,e),Ce(Yt,n))}function Vr(e){rl.current===e&&(Qe(Yt),Qe(rl)),zr.current===e&&(Qe(zr),pl._currentValue=ha)}var Wi,Md;function ra(e){if(Wi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wi=t&&t[1]||"",Md=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+e+Md}var ec=!1;function tc(e,t){if(!e||ec)return"";ec=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var p=g}Reflect.construct(e,[],h)}else{try{h.call()}catch(g){p=g}e.call(h.prototype)}}else{try{throw Error()}catch(g){p=g}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],c=r[1];if(i&&c){var o=i.split(`
`),d=c.split(`
`);for(l=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;l<d.length&&!d[l].includes("DetermineComponentFrameRoot");)l++;if(s===o.length||l===d.length)for(s=o.length-1,l=d.length-1;1<=s&&0<=l&&o[s]!==d[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==d[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==d[l]){var f=`
`+o[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=l);break}}}finally{ec=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ra(n):""}function Lp(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return tc(e.type,!1);case 11:return tc(e.type.render,!1);case 1:return tc(e.type,!0);case 31:return ra("Activity");default:return""}}function _d(e){try{var t="",n=null;do t+=Lp(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Wc=Object.prototype.hasOwnProperty,cu=qe.unstable_scheduleCallback,nc=qe.unstable_cancelCallback,Vp=qe.unstable_shouldYield,Bp=qe.unstable_requestPaint,gt=qe.unstable_now,Up=qe.unstable_getCurrentPriorityLevel,cm=qe.unstable_ImmediatePriority,om=qe.unstable_UserBlockingPriority,Br=qe.unstable_NormalPriority,Ip=qe.unstable_LowPriority,um=qe.unstable_IdlePriority,Hp=qe.log,$p=qe.unstable_setDisableYieldValue,Cl=null,pt=null;function Mn(e){if(typeof Hp=="function"&&$p(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Cl,e)}catch{}}var yt=Math.clz32?Math.clz32:Fp,qp=Math.log,Gp=Math.LN2;function Fp(e){return e>>>=0,e===0?32:31-(qp(e)/Gp|0)|0}var Ql=256,Yl=262144,Xl=4194304;function ia(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Si(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var c=s&134217727;return c!==0?(s=c&~r,s!==0?l=ia(s):(i&=c,i!==0?l=ia(i):n||(n=c&~e,n!==0&&(l=ia(n))))):(c=s&~r,c!==0?l=ia(c):i!==0?l=ia(i):n||(n=s&~e,n!==0&&(l=ia(n)))),l===0?0:t!==0&&t!==l&&!(t&r)&&(r=l&-l,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:l}function Tl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dm(){var e=Xl;return Xl<<=1,!(Xl&62914560)&&(Xl=4194304),e}function ac(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function El(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yp(e,t,n,s,l,r){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,d=e.hiddenUpdates;for(n=i&~n;0<n;){var f=31-yt(n),h=1<<f;c[f]=0,o[f]=-1;var p=d[f];if(p!==null)for(d[f]=null,f=0;f<p.length;f++){var g=p[f];g!==null&&(g.lane&=-536870913)}n&=~h}s!==0&&hm(e,s,0),r!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~t))}function hm(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-yt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function fm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-yt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}function mm(e,t){var n=t&-t;return n=n&42?1:ou(n),n&(e.suspendedLanes|t)?0:n}function ou(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function xm(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:Bx(e.type))}function kd(e,t){var n=ge.p;try{return ge.p=e,t()}finally{ge.p=n}}var na=Math.random().toString(36).slice(2),Xe="__reactFiber$"+na,ut="__reactProps$"+na,ms="__reactContainer$"+na,eo="__reactEvents$"+na,Xp="__reactListeners$"+na,Kp="__reactHandles$"+na,Rd="__reactResources$"+na,Al="__reactMarker$"+na;function du(e){delete e[Xe],delete e[ut],delete e[eo],delete e[Xp],delete e[Kp]}function Va(e){var t=e[Xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ms]||n[Xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hh(e);e!==null;){if(n=e[Xe])return n;e=Hh(e)}return t}e=n,n=e.parentNode}return null}function xs(e){if(e=e[Xe]||e[ms]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Us(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error($(33))}function Ya(e){var t=e[Rd];return t||(t=e[Rd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Al]=!0}var gm=new Set,pm={};function Sa(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(pm[e]=t,e=0;e<t.length;e++)gm.add(t[e])}var Pp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zd={},Ld={};function Zp(e){return Wc.call(Ld,e)?!0:Wc.call(zd,e)?!1:Pp.test(e)?Ld[e]=!0:(zd[e]=!0,!1)}function ur(e,t,n){if(Zp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Kl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Wt(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jp(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var l=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){n=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function to(e){if(!e._valueTracker){var t=ym(e)?"checked":"value";e._valueTracker=Jp(e,t,""+e[t])}}function bm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ym(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wp=/[\n"\\]/g;function Ot(e){return e.replace(Wp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function no(e,t,n,s,l,r,i,c){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?ao(e,i,Ct(t)):n!=null?ao(e,i,Ct(n)):s!=null&&e.removeAttribute("value"),l==null&&r!=null&&(e.defaultChecked=!!r),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+Ct(c):e.removeAttribute("name")}function vm(e,t,n,s,l,r,i,c){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){to(e);return}n=n!=null?""+Ct(n):"",t=t!=null?""+Ct(t):n,c||t===e.value||(e.value=t),e.defaultValue=t}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=c?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),to(e)}function ao(e,t,n){t==="number"&&Ur(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Xa(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ct(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function jm(e,t,n){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ct(n):""}function Nm(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error($(92));if(Bs(s)){if(1<s.length)throw Error($(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Ct(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),to(e)}function ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ey=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||ey.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wm(e,t,n){if(t!=null&&typeof t!="object")throw Error($(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var l in t)s=t[l],t.hasOwnProperty(l)&&n[l]!==s&&Vd(e,l,s)}else for(var r in t)t.hasOwnProperty(r)&&Vd(e,r,t[r])}function hu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dr(e){return ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var so=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Ka=null;function Bd(e){var t=xs(e);if(t&&(e=t.stateNode)){var n=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(no(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=s[ut]||null;if(!l)throw Error($(90));no(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&bm(s)}break e;case"textarea":jm(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Xa(e,!!n.multiple,t,!1)}}}var sc=!1;function Sm(e,t,n){if(sc)return e(t,n);sc=!0;try{var s=e(t);return s}finally{if(sc=!1,(Ba!==null||Ka!==null)&&(Li(),Ba&&(t=Ba,e=Ka,Ka=Ba=null,Bd(t),e)))for(t=0;t<e.length;t++)Bd(e[t])}}function il(e,t){var n=e.stateNode;if(n===null)return null;var s=n[ut]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=!1;if(gn)try{var As={};Object.defineProperty(As,"passive",{get:function(){lo=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{lo=!1}var _n=null,mu=null,hr=null;function Cm(){if(hr)return hr;var e,t=mu,n=t.length,s,l="value"in _n?_n.value:_n.textContent,r=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[r-s];s++);return hr=l.slice(e,1<s?1-s:void 0)}function fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function Ud(){return!1}function dt(e){function t(n,s,l,r,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Pl:Ud,this.isPropagationStopped=Ud,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=dt(Ca),Ol=Oe({},Ca,{view:0,detail:0}),ay=dt(Ol),lc,rc,Os,Ti=Oe({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Os&&(Os&&e.type==="mousemove"?(lc=e.screenX-Os.screenX,rc=e.screenY-Os.screenY):rc=lc=0,Os=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),Id=dt(Ti),sy=Oe({},Ti,{dataTransfer:0}),ly=dt(sy),ry=Oe({},Ol,{relatedTarget:0}),ic=dt(ry),iy=Oe({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=dt(iy),oy=Oe({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uy=dt(oy),dy=Oe({},Ca,{data:0}),Hd=dt(dy),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=my[e])?!!t[e]:!1}function xu(){return xy}var gy=Oe({},Ol,{key:function(e){if(e.key){var t=hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),py=dt(gy),yy=Oe({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=dt(yy),by=Oe({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),vy=dt(by),jy=Oe({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ny=dt(jy),wy=Oe({},Ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sy=dt(wy),Cy=Oe({},Ca,{newState:0,oldState:0}),Ty=dt(Cy),Ey=[9,13,27,32],gu=gn&&"CompositionEvent"in window,Gs=null;gn&&"documentMode"in document&&(Gs=document.documentMode);var Ay=gn&&"TextEvent"in window&&!Gs,Tm=gn&&(!gu||Gs&&8<Gs&&11>=Gs),qd=" ",Gd=!1;function Em(e,t){switch(e){case"keyup":return Ey.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function Oy(e,t){switch(e){case"compositionend":return Am(t);case"keypress":return t.which!==32?null:(Gd=!0,qd);case"textInput":return e=t.data,e===qd&&Gd?null:e;default:return null}}function Dy(e,t){if(Ua)return e==="compositionend"||!gu&&Em(e,t)?(e=Cm(),hr=mu=_n=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tm&&t.locale!=="ko"?null:t.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!My[e.type]:t==="textarea"}function Om(e,t,n,s){Ba?Ka?Ka.push(s):Ka=[s]:Ba=s,t=ai(t,"onChange"),0<t.length&&(n=new Ci("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Fs=null,cl=null;function _y(e){Sx(e,0)}function Ei(e){var t=Us(e);if(bm(t))return e}function Qd(e,t){if(e==="change")return t}var Dm=!1;if(gn){var cc;if(gn){var oc="oninput"in document;if(!oc){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),oc=typeof Yd.oninput=="function"}cc=oc}else cc=!1;Dm=cc&&(!document.documentMode||9<document.documentMode)}function Xd(){Fs&&(Fs.detachEvent("onpropertychange",Mm),cl=Fs=null)}function Mm(e){if(e.propertyName==="value"&&Ei(cl)){var t=[];Om(t,cl,e,fu(e)),Sm(_y,t)}}function ky(e,t,n){e==="focusin"?(Xd(),Fs=t,cl=n,Fs.attachEvent("onpropertychange",Mm)):e==="focusout"&&Xd()}function Ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(cl)}function zy(e,t){if(e==="click")return Ei(t)}function Ly(e,t){if(e==="input"||e==="change")return Ei(t)}function Vy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Vy;function ol(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Wc.call(t,l)||!vt(e[l],t[l]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pd(e,t){var n=Kd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function _m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ur(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ur(e.document)}return t}function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var By=gn&&"documentMode"in document&&11>=document.documentMode,Ia=null,ro=null,Qs=null,io=!1;function Zd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;io||Ia==null||Ia!==Ur(s)||(s=Ia,"selectionStart"in s&&pu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qs&&ol(Qs,s)||(Qs=s,s=ai(ro,"onSelect"),0<s.length&&(t=new Ci("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ia)))}function la(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ha={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},uc={},Rm={};gn&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Ta(e){if(uc[e])return uc[e];if(!Ha[e])return e;var t=Ha[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rm)return uc[e]=t[n];return e}var zm=Ta("animationend"),Lm=Ta("animationiteration"),Vm=Ta("animationstart"),Uy=Ta("transitionrun"),Iy=Ta("transitionstart"),Hy=Ta("transitioncancel"),Bm=Ta("transitionend"),Um=new Map,co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");co.push("scrollEnd");function Ut(e,t){Um.set(e,t),Sa(t,[e])}var Ir=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},St=[],$a=0,yu=0;function Ai(){for(var e=$a,t=yu=$a=0;t<e;){var n=St[t];St[t++]=null;var s=St[t];St[t++]=null;var l=St[t];St[t++]=null;var r=St[t];if(St[t++]=null,s!==null&&l!==null){var i=s.pending;i===null?l.next=l:(l.next=i.next,i.next=l),s.pending=l}r!==0&&Im(n,l,r)}}function Oi(e,t,n,s){St[$a++]=e,St[$a++]=t,St[$a++]=n,St[$a++]=s,yu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function bu(e,t,n,s){return Oi(e,t,n,s),Hr(e)}function Ea(e,t){return Oi(e,null,null,t),Hr(e)}function Im(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var l=!1,r=e.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(l=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,l&&t!==null&&(l=31-yt(n),e=r.hiddenUpdates,s=e[l],s===null?e[l]=[t]:s.push(t),t.lane=n|536870912),r):null}function Hr(e){if(50<tl)throw tl=0,Do=null,Error($(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function $y(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,s){return new $y(e,t,n,s)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hm(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mr(e,t,n,s,l,r){var i=0;if(s=e,typeof e=="function")vu(e)&&(i=1);else if(typeof e=="string")i=Y2(e,n,Yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Kc:return e=mt(31,n,t,l),e.elementType=Kc,e.lanes=r,e;case za:return fa(n.children,l,r,t);case rm:i=8,l|=24;break;case Qc:return e=mt(12,n,t,l|2),e.elementType=Qc,e.lanes=r,e;case Yc:return e=mt(13,n,t,l),e.elementType=Yc,e.lanes=r,e;case Xc:return e=mt(19,n,t,l),e.elementType=Xc,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cn:i=10;break e;case im:i=9;break e;case ru:i=11;break e;case iu:i=14;break e;case Cn:i=16,s=null;break e}i=29,n=Error($(130,e===null?"null":typeof e,"")),s=null}return t=mt(i,n,t,l),t.elementType=e,t.type=s,t.lanes=r,t}function fa(e,t,n,s){return e=mt(7,e,s,t),e.lanes=n,e}function dc(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function $m(e){var t=mt(18,null,null,0);return t.stateNode=e,t}function hc(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jd=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var n=Jd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:_d(t)},Jd.set(e,t),t)}return{value:e,source:t,stack:_d(t)}}var Ga=[],Fa=0,$r=null,ul=0,Tt=[],Et=0,Kn=null,Gt=1,Ft="";function sn(e,t){Ga[Fa++]=ul,Ga[Fa++]=$r,$r=e,ul=t}function qm(e,t,n){Tt[Et++]=Gt,Tt[Et++]=Ft,Tt[Et++]=Kn,Kn=e;var s=Gt;e=Ft;var l=32-yt(s)-1;s&=~(1<<l),n+=1;var r=32-yt(t)+l;if(30<r){var i=l-l%5;r=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Gt=1<<32-yt(t)+l|n<<l|s,Ft=r+e}else Gt=1<<r|n<<l|s,Ft=e}function ju(e){e.return!==null&&(sn(e,1),qm(e,1,0))}function Nu(e){for(;e===$r;)$r=Ga[--Fa],Ga[Fa]=null,ul=Ga[--Fa],Ga[Fa]=null;for(;e===Kn;)Kn=Tt[--Et],Tt[Et]=null,Ft=Tt[--Et],Tt[Et]=null,Gt=Tt[--Et],Tt[Et]=null}function Gm(e,t){Tt[Et++]=Gt,Tt[Et++]=Ft,Tt[Et++]=Kn,Gt=t.id,Ft=t.overflow,Kn=e}var Ke=null,Ee=null,fe=!1,Un=null,Mt=!1,oo=Error($(519));function Pn(e){var t=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Dt(t,e)),oo}function Wd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Xe]=e,t[ut]=s,n){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(n=0;n<xl.length;n++)oe(xl[n],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),vm(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),Nm(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Tx(t.textContent,n)?(s.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),s.onScroll!=null&&oe("scroll",t),s.onScrollEnd!=null&&oe("scrollend",t),s.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Pn(e,!0)}function eh(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:Ke=Ke.return}}function Da(e){if(e!==Ke)return!1;if(!fe)return eh(e),fe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||zo(e.type,e.memoizedProps)),n=!n),n&&Ee&&Pn(e),eh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ee=Ih(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));Ee=Ih(e)}else t===27?(t=Ee,aa(e.type)?(e=Uo,Uo=null,Ee=e):Ee=t):Ee=Ke?kt(e.stateNode.nextSibling):null;return!0}function ya(){Ee=Ke=null,fe=!1}function fc(){var e=Un;return e!==null&&(rt===null?rt=e:rt.push.apply(rt,e),Un=null),e}function dl(e){Un===null?Un=[e]:Un.push(e)}var uo=Zt(null),Aa=null,un=null;function En(e,t,n){Ce(uo,t._currentValue),t._currentValue=n}function hn(e){e._currentValue=uo.current,Qe(uo)}function ho(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function fo(e,t,n,s){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var r=l.dependencies;if(r!==null){var i=l.child;r=r.firstContext;e:for(;r!==null;){var c=r;r=l;for(var o=0;o<t.length;o++)if(c.context===t[o]){r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),ho(r.return,n,e),s||(i=null);break e}r=c.next}}else if(l.tag===18){if(i=l.return,i===null)throw Error($(341));i.lanes|=n,r=i.alternate,r!==null&&(r.lanes|=n),ho(i,n,e),i=null}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===e){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}}function gs(e,t,n,s){e=null;for(var l=t,r=!1;l!==null;){if(!r){if(l.flags&524288)r=!0;else if(l.flags&262144)break}if(l.tag===10){var i=l.alternate;if(i===null)throw Error($(387));if(i=i.memoizedProps,i!==null){var c=l.type;vt(l.pendingProps.value,i.value)||(e!==null?e.push(c):e=[c])}}else if(l===zr.current){if(i=l.alternate,i===null)throw Error($(387));i.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}l=l.return}e!==null&&fo(t,e,n,s),t.flags|=262144}function qr(e){for(e=e.firstContext;e!==null;){if(!vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){Aa=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return Fm(Aa,e)}function Zl(e,t){return Aa===null&&ba(e),Fm(e,t)}function Fm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},un===null){if(e===null)throw Error($(308));un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else un=un.next=t;return n}var qy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Gy=qe.unstable_scheduleCallback,Fy=qe.unstable_NormalPriority,Ue={$$typeof:cn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wu(){return{controller:new qy,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&Gy(Fy,function(){e.controller.abort()})}var Ys=null,mo=0,as=0,Pa=null;function Qy(e,t){if(Ys===null){var n=Ys=[];mo=0,as=Xu(),Pa={status:"pending",value:void 0,then:function(s){n.push(s)}}}return mo++,t.then(th,th),t}function th(){if(--mo===0&&Ys!==null){Pa!==null&&(Pa.status="fulfilled");var e=Ys;Ys=null,as=0,Pa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yy(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(s.status="rejected",s.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),s}var nh=te.S;te.S=function(e,t){lx=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qy(e,t),nh!==null&&nh(e,t)};var ma=Zt(null);function Su(){var e=ma.current;return e!==null?e:Se.pooledCache}function xr(e,t){t===null?Ce(ma,ma.current):Ce(ma,t.pool)}function Qm(){var e=Su();return e===null?null:{parent:Ue._currentValue,pool:e}}var ps=Error($(460)),Cu=Error($(474)),Di=Error($(542)),Gr={then:function(){}};function ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ym(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(on,on),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error($(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=s}},function(s){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e}throw xa=t,ps}}function ca(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xa=n,ps):n}}var xa=null;function sh(){if(xa===null)throw Error($(459));var e=xa;return xa=null,e}function lh(e){if(e===ps||e===Di)throw Error($(483))}var Za=null,hl=0;function Jl(e){var t=hl;return hl+=1,Za===null&&(Za=[]),Ym(Za,e,t)}function Ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wl(e,t){throw t.$$typeof===kp?Error($(525)):(e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xm(e){function t(y,u){if(e){var m=y.deletions;m===null?(y.deletions=[u],y.flags|=16):m.push(u)}}function n(y,u){if(!e)return null;for(;u!==null;)t(y,u),u=u.sibling;return null}function s(y){for(var u=new Map;y!==null;)y.key!==null?u.set(y.key,y):u.set(y.index,y),y=y.sibling;return u}function l(y,u){return y=dn(y,u),y.index=0,y.sibling=null,y}function r(y,u,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<u?(y.flags|=67108866,u):m):(y.flags|=67108866,u)):(y.flags|=1048576,u)}function i(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function c(y,u,m,j){return u===null||u.tag!==6?(u=dc(m,y.mode,j),u.return=y,u):(u=l(u,m),u.return=y,u)}function o(y,u,m,j){var N=m.type;return N===za?f(y,u,m.props.children,j,m.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cn&&ca(N)===u.type)?(u=l(u,m.props),Ds(u,m),u.return=y,u):(u=mr(m.type,m.key,m.props,null,y.mode,j),Ds(u,m),u.return=y,u)}function d(y,u,m,j){return u===null||u.tag!==4||u.stateNode.containerInfo!==m.containerInfo||u.stateNode.implementation!==m.implementation?(u=hc(m,y.mode,j),u.return=y,u):(u=l(u,m.children||[]),u.return=y,u)}function f(y,u,m,j,N){return u===null||u.tag!==7?(u=fa(m,y.mode,j,N),u.return=y,u):(u=l(u,m),u.return=y,u)}function h(y,u,m){if(typeof u=="string"&&u!==""||typeof u=="number"||typeof u=="bigint")return u=dc(""+u,y.mode,m),u.return=y,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Fl:return m=mr(u.type,u.key,u.props,null,y.mode,m),Ds(m,u),m.return=y,m;case Vs:return u=hc(u,y.mode,m),u.return=y,u;case Cn:return u=ca(u),h(y,u,m)}if(Bs(u)||Es(u))return u=fa(u,y.mode,m,null),u.return=y,u;if(typeof u.then=="function")return h(y,Jl(u),m);if(u.$$typeof===cn)return h(y,Zl(y,u),m);Wl(y,u)}return null}function p(y,u,m,j){var N=u!==null?u.key:null;if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return N!==null?null:c(y,u,""+m,j);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fl:return m.key===N?o(y,u,m,j):null;case Vs:return m.key===N?d(y,u,m,j):null;case Cn:return m=ca(m),p(y,u,m,j)}if(Bs(m)||Es(m))return N!==null?null:f(y,u,m,j,null);if(typeof m.then=="function")return p(y,u,Jl(m),j);if(m.$$typeof===cn)return p(y,u,Zl(y,m),j);Wl(y,m)}return null}function g(y,u,m,j,N){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return y=y.get(m)||null,c(u,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Fl:return y=y.get(j.key===null?m:j.key)||null,o(u,y,j,N);case Vs:return y=y.get(j.key===null?m:j.key)||null,d(u,y,j,N);case Cn:return j=ca(j),g(y,u,m,j,N)}if(Bs(j)||Es(j))return y=y.get(m)||null,f(u,y,j,N,null);if(typeof j.then=="function")return g(y,u,m,Jl(j),N);if(j.$$typeof===cn)return g(y,u,m,Zl(u,j),N);Wl(u,j)}return null}function b(y,u,m,j){for(var N=null,O=null,E=u,v=u=0,C=null;E!==null&&v<m.length;v++){E.index>v?(C=E,E=null):C=E.sibling;var A=p(y,E,m[v],j);if(A===null){E===null&&(E=C);break}e&&E&&A.alternate===null&&t(y,E),u=r(A,u,v),O===null?N=A:O.sibling=A,O=A,E=C}if(v===m.length)return n(y,E),fe&&sn(y,v),N;if(E===null){for(;v<m.length;v++)E=h(y,m[v],j),E!==null&&(u=r(E,u,v),O===null?N=E:O.sibling=E,O=E);return fe&&sn(y,v),N}for(E=s(E);v<m.length;v++)C=g(E,y,v,m[v],j),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?v:C.key),u=r(C,u,v),O===null?N=C:O.sibling=C,O=C);return e&&E.forEach(function(M){return t(y,M)}),fe&&sn(y,v),N}function S(y,u,m,j){if(m==null)throw Error($(151));for(var N=null,O=null,E=u,v=u=0,C=null,A=m.next();E!==null&&!A.done;v++,A=m.next()){E.index>v?(C=E,E=null):C=E.sibling;var M=p(y,E,A.value,j);if(M===null){E===null&&(E=C);break}e&&E&&M.alternate===null&&t(y,E),u=r(M,u,v),O===null?N=M:O.sibling=M,O=M,E=C}if(A.done)return n(y,E),fe&&sn(y,v),N;if(E===null){for(;!A.done;v++,A=m.next())A=h(y,A.value,j),A!==null&&(u=r(A,u,v),O===null?N=A:O.sibling=A,O=A);return fe&&sn(y,v),N}for(E=s(E);!A.done;v++,A=m.next())A=g(E,y,v,A.value,j),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?v:A.key),u=r(A,u,v),O===null?N=A:O.sibling=A,O=A);return e&&E.forEach(function(k){return t(y,k)}),fe&&sn(y,v),N}function w(y,u,m,j){if(typeof m=="object"&&m!==null&&m.type===za&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Fl:e:{for(var N=m.key;u!==null;){if(u.key===N){if(N=m.type,N===za){if(u.tag===7){n(y,u.sibling),j=l(u,m.props.children),j.return=y,y=j;break e}}else if(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cn&&ca(N)===u.type){n(y,u.sibling),j=l(u,m.props),Ds(j,m),j.return=y,y=j;break e}n(y,u);break}else t(y,u);u=u.sibling}m.type===za?(j=fa(m.props.children,y.mode,j,m.key),j.return=y,y=j):(j=mr(m.type,m.key,m.props,null,y.mode,j),Ds(j,m),j.return=y,y=j)}return i(y);case Vs:e:{for(N=m.key;u!==null;){if(u.key===N)if(u.tag===4&&u.stateNode.containerInfo===m.containerInfo&&u.stateNode.implementation===m.implementation){n(y,u.sibling),j=l(u,m.children||[]),j.return=y,y=j;break e}else{n(y,u);break}else t(y,u);u=u.sibling}j=hc(m,y.mode,j),j.return=y,y=j}return i(y);case Cn:return m=ca(m),w(y,u,m,j)}if(Bs(m))return b(y,u,m,j);if(Es(m)){if(N=Es(m),typeof N!="function")throw Error($(150));return m=N.call(m),S(y,u,m,j)}if(typeof m.then=="function")return w(y,u,Jl(m),j);if(m.$$typeof===cn)return w(y,u,Zl(y,m),j);Wl(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint"?(m=""+m,u!==null&&u.tag===6?(n(y,u.sibling),j=l(u,m),j.return=y,y=j):(n(y,u),j=dc(m,y.mode,j),j.return=y,y=j),i(y)):n(y,u)}return function(y,u,m,j){try{hl=0;var N=w(y,u,m,j);return Za=null,N}catch(E){if(E===ps||E===Di)throw E;var O=mt(29,E,null,y.mode);return O.lanes=j,O.return=y,O}finally{}}}var va=Xm(!0),Km=Xm(!1),Tn=!1;function Tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,xe&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,t=Hr(e),Im(e,null,n),t}return Oi(e,s,t,n),Hr(e)}function Xs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,fm(e,n)}}function mc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?l=r=i:r=r.next=i,n=n.next}while(n!==null);r===null?l=r=t:r=r.next=t}else l=r=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var go=!1;function Ks(){if(go){var e=Pa;if(e!==null)throw e}}function Ps(e,t,n,s){go=!1;var l=e.updateQueue;Tn=!1;var r=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?r=d:i.next=d,i=o;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==i&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=o))}if(r!==null){var h=l.baseState;i=0,f=d=o=null,c=r;do{var p=c.lane&-536870913,g=p!==c.lane;if(g?(he&p)===p:(s&p)===p){p!==0&&p===as&&(go=!0),f!==null&&(f=f.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var b=e,S=c;p=t;var w=n;switch(S.tag){case 1:if(b=S.payload,typeof b=="function"){h=b.call(w,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,p=typeof b=="function"?b.call(w,h,p):b,p==null)break e;h=Oe({},h,p);break e;case 2:Tn=!0}}p=c.callback,p!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[p]:g.push(p))}else g={lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=g,o=h):f=f.next=g,i|=p;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;g=c,c=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);f===null&&(o=h),l.baseState=o,l.firstBaseUpdate=d,l.lastBaseUpdate=f,r===null&&(l.shared.lanes=0),Jn|=i,e.lanes=i,e.memoizedState=h}}function Pm(e,t){if(typeof e!="function")throw Error($(191,e));e.call(t)}function Zm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Pm(n[e],t)}var ss=Zt(null),Fr=Zt(0);function rh(e,t){e=vn,Ce(Fr,e),Ce(ss,t),vn=e|t.baseLanes}function po(){Ce(Fr,vn),Ce(ss,ss.current)}function Eu(){vn=Fr.current,Qe(ss),Qe(Fr)}var jt=Zt(null),_t=null;function An(e){var t=e.alternate;Ce(ze,ze.current&1),Ce(jt,e),_t===null&&(t===null||ss.current!==null||t.memoizedState!==null)&&(_t=e)}function yo(e){Ce(ze,ze.current),Ce(jt,e),_t===null&&(_t=e)}function Jm(e){e.tag===22?(Ce(ze,ze.current),Ce(jt,e),_t===null&&(_t=e)):On()}function On(){Ce(ze,ze.current),Ce(jt,jt.current)}function ft(e){Qe(jt),_t===e&&(_t=null),Qe(ze)}var ze=Zt(0);function Qr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vo(n)||Bo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pn=0,re=null,we=null,Ve=null,Yr=!1,Ja=!1,ja=!1,Xr=0,fl=0,Wa=null,Xy=0;function _e(){throw Error($(321))}function Au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Ou(e,t,n,s,l,r){return pn=r,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,te.H=e===null||e.memoizedState===null?O0:Iu,ja=!1,r=n(s,l),ja=!1,Ja&&(r=e0(t,n,s,l)),Wm(e),r}function Wm(e){te.H=ml;var t=we!==null&&we.next!==null;if(pn=0,Ve=we=re=null,Yr=!1,fl=0,Wa=null,t)throw Error($(300));e===null||Ie||(e=e.dependencies,e!==null&&qr(e)&&(Ie=!0))}function e0(e,t,n,s){re=e;var l=0;do{if(Ja&&(Wa=null),fl=0,Ja=!1,25<=l)throw Error($(301));if(l+=1,Ve=we=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}te.H=D0,r=t(n,s)}while(Ja);return r}function Ky(){var e=te.H,t=e.useState()[0];return t=typeof t.then=="function"?Ml(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(re.flags|=1024),t}function Du(){var e=Xr!==0;return Xr=0,e}function Mu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _u(e){if(Yr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yr=!1}pn=0,Ve=we=re=null,Ja=!1,fl=Xr=0,Wa=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?re.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Le(){if(we===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Ve===null?re.memoizedState:Ve.next;if(t!==null)Ve=t,we=e;else{if(e===null)throw re.alternate===null?Error($(467)):Error($(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ve===null?re.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Mi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(e){var t=fl;return fl+=1,Wa===null&&(Wa=[]),e=Ym(Wa,e,t),t=re,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,te.H=t===null||t.memoizedState===null?O0:Iu),e}function _i(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ml(e);if(e.$$typeof===cn)return Pe(e)}throw Error($(438,String(e)))}function ku(e){var t=null,n=re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=re.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Mi(),re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=Rp;return t.index++,n}function yn(e,t){return typeof t=="function"?t(e):t}function gr(e){var t=Le();return Ru(t,we,e)}function Ru(e,t,n){var s=e.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=n;var l=e.baseQueue,r=s.pending;if(r!==null){if(l!==null){var i=l.next;l.next=r.next,r.next=i}t.baseQueue=l=r,s.pending=null}if(r=e.baseState,l===null)e.memoizedState=r;else{t=l.next;var c=i=null,o=null,d=t,f=!1;do{var h=d.lane&-536870913;if(h!==d.lane?(he&h)===h:(pn&h)===h){var p=d.revertLane;if(p===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===as&&(f=!0);else if((pn&p)===p){d=d.next,p===as&&(f=!0);continue}else h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=h,i=r):o=o.next=h,re.lanes|=p,Jn|=p;h=d.action,ja&&n(r,h),r=d.hasEagerState?d.eagerState:n(r,h)}else p={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=p,i=r):o=o.next=p,re.lanes|=h,Jn|=h;d=d.next}while(d!==null&&d!==t);if(o===null?i=r:o.next=c,!vt(r,e.memoizedState)&&(Ie=!0,f&&(n=Pa,n!==null)))throw n;e.memoizedState=r,e.baseState=i,e.baseQueue=o,s.lastRenderedState=r}return l===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function xc(e){var t=Le(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,r=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do r=e(r,i.action),i=i.next;while(i!==l);vt(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,s]}function t0(e,t,n){var s=re,l=Le(),r=fe;if(r){if(n===void 0)throw Error($(407));n=n()}else n=t();var i=!vt((we||l).memoizedState,n);if(i&&(l.memoizedState=n,Ie=!0),l=l.queue,zu(s0.bind(null,s,l,e),[e]),l.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(s.flags|=2048,ls(9,{destroy:void 0},a0.bind(null,s,l,n,t),null),Se===null)throw Error($(349));r||pn&127||n0(s,t,n)}return n}function n0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t=Mi(),re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a0(e,t,n,s){t.value=n,t.getSnapshot=s,l0(t)&&r0(e)}function s0(e,t,n){return n(function(){l0(t)&&r0(e)})}function l0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function r0(e){var t=Ea(e,2);t!==null&&it(t,e,2)}function bo(e){var t=We();if(typeof e=="function"){var n=e;if(e=n(),ja){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t}function i0(e,t,n,s){return e.baseState=n,Ru(e,we,typeof s=="function"?s:yn)}function Py(e,t,n,s,l){if(Ri(e))throw Error($(485));if(e=t.action,e!==null){var r={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};te.T!==null?n(!0):r.isTransition=!1,s(r),n=t.pending,n===null?(r.next=t.pending=r,c0(t,r)):(r.next=n.next,t.pending=n.next=r)}}function c0(e,t){var n=t.action,s=t.payload,l=e.state;if(t.isTransition){var r=te.T,i={};te.T=i;try{var c=n(l,s),o=te.S;o!==null&&o(i,c),ih(e,t,c)}catch(d){vo(e,t,d)}finally{r!==null&&i.types!==null&&(r.types=i.types),te.T=r}}else try{r=n(l,s),ih(e,t,r)}catch(d){vo(e,t,d)}}function ih(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){ch(e,t,s)},function(s){return vo(e,t,s)}):ch(e,t,n)}function ch(e,t,n){t.status="fulfilled",t.value=n,o0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,c0(e,n)))}function vo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,o0(t),t=t.next;while(t!==s)}e.action=null}function o0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function u0(e,t){return t}function oh(e,t){if(fe){var n=Se.formState;if(n!==null){e:{var s=re;if(fe){if(Ee){t:{for(var l=Ee,r=Mt;l.nodeType!==8;){if(!r){l=null;break t}if(l=kt(l.nextSibling),l===null){l=null;break t}}r=l.data,l=r==="F!"||r==="F"?l:null}if(l){Ee=kt(l.nextSibling),s=l.data==="F!";break e}}Pn(s)}s=!1}s&&(t=n[0])}}return n=We(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:t},n.queue=s,n=T0.bind(null,re,s),s.dispatch=n,s=bo(!1),r=Uu.bind(null,re,!1,s.queue),s=We(),l={state:t,dispatch:null,action:e,pending:null},s.queue=l,n=Py.bind(null,re,l,r,n),l.dispatch=n,s.memoizedState=e,[t,n,!1]}function uh(e){var t=Le();return d0(t,we,e)}function d0(e,t,n){if(t=Ru(e,t,u0)[0],e=gr(yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ml(t)}catch(i){throw i===ps?Di:i}else s=t;t=Le();var l=t.queue,r=l.dispatch;return n!==t.memoizedState&&(re.flags|=2048,ls(9,{destroy:void 0},Zy.bind(null,l,n),null)),[s,r,e]}function Zy(e,t){e.action=t}function dh(e){var t=Le(),n=we;if(n!==null)return d0(t,n,e);Le(),t=t.memoizedState,n=Le();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function ls(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=re.updateQueue,t===null&&(t=Mi(),re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function h0(){return Le().memoizedState}function pr(e,t,n,s){var l=We();re.flags|=e,l.memoizedState=ls(1|t,{destroy:void 0},n,s===void 0?null:s)}function ki(e,t,n,s){var l=Le();s=s===void 0?null:s;var r=l.memoizedState.inst;we!==null&&s!==null&&Au(s,we.memoizedState.deps)?l.memoizedState=ls(t,r,n,s):(re.flags|=e,l.memoizedState=ls(1|t,r,n,s))}function hh(e,t){pr(8390656,8,e,t)}function zu(e,t){ki(2048,8,e,t)}function Jy(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Mi(),re.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function f0(e){var t=Le().memoizedState;return Jy({ref:t,nextImpl:e}),function(){if(xe&2)throw Error($(440));return t.impl.apply(void 0,arguments)}}function m0(e,t){return ki(4,2,e,t)}function x0(e,t){return ki(4,4,e,t)}function g0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p0(e,t,n){n=n!=null?n.concat([e]):null,ki(4,4,g0.bind(null,t,e),n)}function Lu(){}function y0(e,t){var n=Le();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Au(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function b0(e,t){var n=Le();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Au(t,s[1]))return s[0];if(s=e(),ja){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[s,t],s}function Vu(e,t,n){return n===void 0||pn&1073741824&&!(he&261930)?e.memoizedState=t:(e.memoizedState=n,e=ix(),re.lanes|=e,Jn|=e,n)}function v0(e,t,n,s){return vt(n,t)?n:ss.current!==null?(e=Vu(e,n,s),vt(e,t)||(Ie=!0),e):!(pn&42)||pn&1073741824&&!(he&261930)?(Ie=!0,e.memoizedState=n):(e=ix(),re.lanes|=e,Jn|=e,t)}function j0(e,t,n,s,l){var r=ge.p;ge.p=r!==0&&8>r?r:8;var i=te.T,c={};te.T=c,Uu(e,!1,t,n);try{var o=l(),d=te.S;if(d!==null&&d(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var f=Yy(o,s);Zs(e,t,f,bt(e))}else Zs(e,t,s,bt(e))}catch(h){Zs(e,t,{then:function(){},status:"rejected",reason:h},bt())}finally{ge.p=r,i!==null&&c.types!==null&&(i.types=c.types),te.T=i}}function Wy(){}function jo(e,t,n,s){if(e.tag!==5)throw Error($(476));var l=N0(e).queue;j0(e,l,t,ha,n===null?Wy:function(){return w0(e),n(s)})}function N0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ha,baseState:ha,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:ha},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function w0(e){var t=N0(e);t.next===null&&(t=e.alternate.memoizedState),Zs(e,t.next.queue,{},bt())}function Bu(){return Pe(pl)}function S0(){return Le().memoizedState}function C0(){return Le().memoizedState}function e2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bt();e=In(n);var s=Hn(t,e,n);s!==null&&(it(s,t,n),Xs(s,t,n)),t={cache:wu()},e.payload=t;return}t=t.return}}function t2(e,t,n){var s=bt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ri(e)?E0(t,n):(n=bu(e,t,n,s),n!==null&&(it(n,e,s),A0(n,t,s)))}function T0(e,t,n){var s=bt();Zs(e,t,n,s)}function Zs(e,t,n,s){var l={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ri(e))E0(t,l);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,c=r(i,n);if(l.hasEagerState=!0,l.eagerState=c,vt(c,i))return Oi(e,t,l,0),Se===null&&Ai(),!1}catch{}finally{}if(n=bu(e,t,l,s),n!==null)return it(n,e,s),A0(n,t,s),!0}return!1}function Uu(e,t,n,s){if(s={lane:2,revertLane:Xu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ri(e)){if(t)throw Error($(479))}else t=bu(e,n,s,2),t!==null&&it(t,e,2)}function Ri(e){var t=e.alternate;return e===re||t!==null&&t===re}function E0(e,t){Ja=Yr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function A0(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,fm(e,n)}}var ml={readContext:Pe,use:_i,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};ml.useEffectEvent=_e;var O0={readContext:Pe,use:_i,useCallback:function(e,t){return We().memoizedState=[e,t===void 0?null:t],e},useContext:Pe,useEffect:hh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,pr(4194308,4,g0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pr(4194308,4,e,t)},useInsertionEffect:function(e,t){pr(4,2,e,t)},useMemo:function(e,t){var n=We();t=t===void 0?null:t;var s=e();if(ja){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=We();if(n!==void 0){var l=n(t);if(ja){Mn(!0);try{n(t)}finally{Mn(!1)}}}else l=t;return s.memoizedState=s.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},s.queue=e,e=e.dispatch=t2.bind(null,re,e),[s.memoizedState,e]},useRef:function(e){var t=We();return e={current:e},t.memoizedState=e},useState:function(e){e=bo(e);var t=e.queue,n=T0.bind(null,re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lu,useDeferredValue:function(e,t){var n=We();return Vu(n,e,t)},useTransition:function(){var e=bo(!1);return e=j0.bind(null,re,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=re,l=We();if(fe){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Se===null)throw Error($(349));he&127||n0(s,t,n)}l.memoizedState=n;var r={value:n,getSnapshot:t};return l.queue=r,hh(s0.bind(null,s,r,e),[e]),s.flags|=2048,ls(9,{destroy:void 0},a0.bind(null,s,r,n,t),null),n},useId:function(){var e=We(),t=Se.identifierPrefix;if(fe){var n=Ft,s=Gt;n=(s&~(1<<32-yt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Xy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bu,useFormState:oh,useActionState:oh,useOptimistic:function(e){var t=We();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Uu.bind(null,re,!0,n),n.dispatch=t,[e,t]},useMemoCache:ku,useCacheRefresh:function(){return We().memoizedState=e2.bind(null,re)},useEffectEvent:function(e){var t=We(),n={impl:e};return t.memoizedState=n,function(){if(xe&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},Iu={readContext:Pe,use:_i,useCallback:y0,useContext:Pe,useEffect:zu,useImperativeHandle:p0,useInsertionEffect:m0,useLayoutEffect:x0,useMemo:b0,useReducer:gr,useRef:h0,useState:function(){return gr(yn)},useDebugValue:Lu,useDeferredValue:function(e,t){var n=Le();return v0(n,we.memoizedState,e,t)},useTransition:function(){var e=gr(yn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Ml(e),t]},useSyncExternalStore:t0,useId:S0,useHostTransitionStatus:Bu,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var n=Le();return i0(n,we,e,t)},useMemoCache:ku,useCacheRefresh:C0};Iu.useEffectEvent=f0;var D0={readContext:Pe,use:_i,useCallback:y0,useContext:Pe,useEffect:zu,useImperativeHandle:p0,useInsertionEffect:m0,useLayoutEffect:x0,useMemo:b0,useReducer:xc,useRef:h0,useState:function(){return xc(yn)},useDebugValue:Lu,useDeferredValue:function(e,t){var n=Le();return we===null?Vu(n,e,t):v0(n,we.memoizedState,e,t)},useTransition:function(){var e=xc(yn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Ml(e),t]},useSyncExternalStore:t0,useId:S0,useHostTransitionStatus:Bu,useFormState:dh,useActionState:dh,useOptimistic:function(e,t){var n=Le();return we!==null?i0(n,we,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ku,useCacheRefresh:C0};D0.useEffectEvent=f0;function gc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var No={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=bt(),l=In(s);l.payload=t,n!=null&&(l.callback=n),t=Hn(e,l,s),t!==null&&(it(t,e,s),Xs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=bt(),l=In(s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Hn(e,l,s),t!==null&&(it(t,e,s),Xs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bt(),s=In(n);s.tag=2,t!=null&&(s.callback=t),t=Hn(e,s,n),t!==null&&(it(t,e,n),Xs(t,e,n))}};function fh(e,t,n,s,l,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,i):t.prototype&&t.prototype.isPureReactComponent?!ol(n,s)||!ol(l,r):!0}function mh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function Na(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=Oe({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function M0(e){Ir(e)}function _0(e){console.error(e)}function k0(e){Ir(e)}function Kr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function wo(e,t,n){return n=In(n),n.tag=3,n.payload={element:null},n.callback=function(){Kr(e,t)},n}function R0(e){return e=In(e),e.tag=3,e}function z0(e,t,n,s){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var r=s.value;e.payload=function(){return l(r)},e.callback=function(){xh(t,n,s)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){xh(t,n,s),typeof l!="function"&&($n===null?$n=new Set([this]):$n.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function n2(e,t,n,s,l){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&gs(t,n,l,!0),n=jt.current,n!==null){switch(n.tag){case 31:case 13:return _t===null?ei():n.alternate===null&&ke===0&&(ke=3),n.flags&=-257,n.flags|=65536,n.lanes=l,s===Gr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Ec(e,s,l)),!1;case 22:return n.flags|=65536,s===Gr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Ec(e,s,l)),!1}throw Error($(435,n.tag))}return Ec(e,s,l),ei(),!1}if(fe)return t=jt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,s!==oo&&(e=Error($(422),{cause:s}),dl(Dt(e,n)))):(s!==oo&&(t=Error($(423),{cause:s}),dl(Dt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,s=Dt(s,n),l=wo(e.stateNode,s,l),mc(e,l),ke!==4&&(ke=2)),!1;var r=Error($(520),{cause:s});if(r=Dt(r,n),el===null?el=[r]:el.push(r),ke!==4&&(ke=2),t===null)return!0;s=Dt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=wo(n.stateNode,s,e),mc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))))return n.flags|=65536,l&=-l,n.lanes|=l,l=R0(l),z0(l,e,n,s),mc(n,l),!1}n=n.return}while(n!==null);return!1}var Hu=Error($(461)),Ie=!1;function Ye(e,t,n,s){t.child=e===null?Km(t,null,n,s):va(t,e.child,n,s)}function gh(e,t,n,s,l){n=n.render;var r=t.ref;if("ref"in s){var i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}else i=s;return ba(t),s=Ou(e,t,n,i,r,l),c=Du(),e!==null&&!Ie?(Mu(e,t,l),bn(e,t,l)):(fe&&c&&ju(t),t.flags|=1,Ye(e,t,s,l),t.child)}function ph(e,t,n,s,l){if(e===null){var r=n.type;return typeof r=="function"&&!vu(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,L0(e,t,r,s,l)):(e=mr(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!$u(e,l)){var i=r.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(i,s)&&e.ref===t.ref)return bn(e,t,l)}return t.flags|=1,e=dn(r,s),e.ref=t.ref,e.return=t,t.child=e}function L0(e,t,n,s,l){if(e!==null){var r=e.memoizedProps;if(ol(r,s)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=s=r,$u(e,l))e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,bn(e,t,l)}return So(e,t,n,s,l)}function V0(e,t,n,s){var l=s.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(s=t.child=e.child,l=0;s!==null;)l=l|s.lanes|s.childLanes,s=s.sibling;s=l&~r}else s=0,t.child=null;return yh(e,t,r,n,s)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xr(t,r!==null?r.cachePool:null),r!==null?rh(t,r):po(),Jm(t);else return s=t.lanes=536870912,yh(e,t,r!==null?r.baseLanes|n:n,n,s)}else r!==null?(xr(t,r.cachePool),rh(t,r),On(),t.memoizedState=null):(e!==null&&xr(t,null),po(),On());return Ye(e,t,l,n),t.child}function Is(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yh(e,t,n,s,l){var r=Su();return r=r===null?null:{parent:Ue._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&xr(t,null),po(),Jm(t),e!==null&&gs(e,t,s,!0),t.childLanes=l,null}function yr(e,t){return t=Pr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bh(e,t,n){return va(t,e.child,null,n),e=yr(t,t.pendingProps),e.flags|=2,ft(t),t.memoizedState=null,e}function a2(e,t,n){var s=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(fe){if(s.mode==="hidden")return e=yr(t,s),t.lanes=536870912,Is(null,e);if(yo(t),(e=Ee)?(e=Ox(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:Gt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},n=$m(e),n.return=t,t.child=n,Ke=t,Ee=null)):e=null,e===null)throw Pn(t);return t.lanes=536870912,null}return yr(t,s)}var r=e.memoizedState;if(r!==null){var i=r.dehydrated;if(yo(t),l)if(t.flags&256)t.flags&=-257,t=bh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error($(558));else if(Ie||gs(e,t,n,!1),l=(n&e.childLanes)!==0,Ie||l){if(s=Se,s!==null&&(i=mm(s,n),i!==0&&i!==r.retryLane))throw r.retryLane=i,Ea(e,i),it(s,e,i),Hu;ei(),t=bh(e,t,n)}else e=r.treeContext,Ee=kt(i.nextSibling),Ke=t,fe=!0,Un=null,Mt=!1,e!==null&&Gm(t,e),t=yr(t,s),t.flags|=4096;return t}return e=dn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function br(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function So(e,t,n,s,l){return ba(t),n=Ou(e,t,n,s,void 0,l),s=Du(),e!==null&&!Ie?(Mu(e,t,l),bn(e,t,l)):(fe&&s&&ju(t),t.flags|=1,Ye(e,t,n,l),t.child)}function vh(e,t,n,s,l,r){return ba(t),t.updateQueue=null,n=e0(t,s,n,l),Wm(e),s=Du(),e!==null&&!Ie?(Mu(e,t,r),bn(e,t,r)):(fe&&s&&ju(t),t.flags|=1,Ye(e,t,n,r),t.child)}function jh(e,t,n,s,l){if(ba(t),t.stateNode===null){var r=qa,i=n.contextType;typeof i=="object"&&i!==null&&(r=Pe(i)),r=new n(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=No,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Tu(t),i=n.contextType,r.context=typeof i=="object"&&i!==null?Pe(i):qa,r.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(gc(t,n,i,s),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&No.enqueueReplaceState(r,r.state,null),Ps(t,s,r,l),Ks(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var c=t.memoizedProps,o=Na(n,c);r.props=o;var d=r.context,f=n.contextType;i=qa,typeof f=="object"&&f!==null&&(i=Pe(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c||d!==i)&&mh(t,r,s,i),Tn=!1;var p=t.memoizedState;r.state=p,Ps(t,s,r,l),Ks(),d=t.memoizedState,c||p!==d||Tn?(typeof h=="function"&&(gc(t,n,h,s),d=t.memoizedState),(o=Tn||fh(t,n,o,s,p,d,i))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),r.props=s,r.state=d,r.context=i,s=o):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,xo(e,t),i=t.memoizedProps,f=Na(n,i),r.props=f,h=t.pendingProps,p=r.context,d=n.contextType,o=qa,typeof d=="object"&&d!==null&&(o=Pe(d)),c=n.getDerivedStateFromProps,(d=typeof c=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==h||p!==o)&&mh(t,r,s,o),Tn=!1,p=t.memoizedState,r.state=p,Ps(t,s,r,l),Ks();var g=t.memoizedState;i!==h||p!==g||Tn||e!==null&&e.dependencies!==null&&qr(e.dependencies)?(typeof c=="function"&&(gc(t,n,c,s),g=t.memoizedState),(f=Tn||fh(t,n,f,s,p,g,o)||e!==null&&e.dependencies!==null&&qr(e.dependencies))?(d||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,g,o),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,g,o)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),r.props=s,r.state=g,r.context=o,s=f):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,br(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=va(t,e.child,null,l),t.child=va(t,null,n,l)):Ye(e,t,n,l),t.memoizedState=r.state,e=t.child):e=bn(e,t,l),e}function Nh(e,t,n,s){return ya(),t.flags|=256,Ye(e,t,n,s),t.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:Qm()}}function bc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=xt),e}function B0(e,t,n){var s=t.pendingProps,l=!1,r=(t.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),i&&(l=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(l?An(t):On(),(e=Ee)?(e=Ox(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:Gt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},n=$m(e),n.return=t,t.child=n,Ke=t,Ee=null)):e=null,e===null)throw Pn(t);return Bo(e)?t.lanes=32:t.lanes=536870912,null}var c=s.children;return s=s.fallback,l?(On(),l=t.mode,c=Pr({mode:"hidden",children:c},l),s=fa(s,l,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,s=t.child,s.memoizedState=yc(n),s.childLanes=bc(e,i,n),t.memoizedState=pc,Is(null,s)):(An(t),Co(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(r)t.flags&256?(An(t),t.flags&=-257,t=vc(e,t,n)):t.memoizedState!==null?(On(),t.child=e.child,t.flags|=128,t=null):(On(),c=s.fallback,l=t.mode,s=Pr({mode:"visible",children:s.children},l),c=fa(c,l,n,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,va(t,e.child,null,n),s=t.child,s.memoizedState=yc(n),s.childLanes=bc(e,i,n),t.memoizedState=pc,t=Is(null,s));else if(An(t),Bo(c)){if(i=c.nextSibling&&c.nextSibling.dataset,i)var d=i.dgst;i=d,s=Error($(419)),s.stack="",s.digest=i,dl({value:s,source:null,stack:null}),t=vc(e,t,n)}else if(Ie||gs(e,t,n,!1),i=(n&e.childLanes)!==0,Ie||i){if(i=Se,i!==null&&(s=mm(i,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Ea(e,s),it(i,e,s),Hu;Vo(c)||ei(),t=vc(e,t,n)}else Vo(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Ee=kt(c.nextSibling),Ke=t,fe=!0,Un=null,Mt=!1,e!==null&&Gm(t,e),t=Co(t,s.children),t.flags|=4096);return t}return l?(On(),c=s.fallback,l=t.mode,o=e.child,d=o.sibling,s=dn(o,{mode:"hidden",children:s.children}),s.subtreeFlags=o.subtreeFlags&65011712,d!==null?c=dn(d,c):(c=fa(c,l,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,Is(null,s),s=t.child,c=e.child.memoizedState,c===null?c=yc(n):(l=c.cachePool,l!==null?(o=Ue._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=Qm(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=bc(e,i,n),t.memoizedState=pc,Is(e.child,s)):(An(t),n=e.child,e=n.sibling,n=dn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Co(e,t){return t=Pr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pr(e,t){return e=mt(22,e,null,t),e.lanes=0,e}function vc(e,t,n){return va(t,e.child,null,n),e=Co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ho(e.return,t,n)}function jc(e,t,n,s,l,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l,treeForkCount:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l,i.treeForkCount=r)}function U0(e,t,n){var s=t.pendingProps,l=s.revealOrder,r=s.tail;s=s.children;var i=ze.current,c=(i&2)!==0;if(c?(i=i&1|2,t.flags|=128):i&=1,Ce(ze,i),Ye(e,t,s,n),s=fe?ul:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wh(e,n,t);else if(e.tag===19)wh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Qr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),jc(t,!1,l,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Qr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}jc(t,!0,n,null,r,s);break;case"together":jc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))if(e!==null){if(gs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $u(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&qr(e)))}function s2(e,t,n){switch(t.tag){case 3:Lr(t,t.stateNode.containerInfo),En(t,Ue,e.memoizedState.cache),ya();break;case 27:case 5:Jc(t);break;case 4:Lr(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(An(t),t.flags|=128,null):n&t.child.childLanes?B0(e,t,n):(An(t),e=bn(e,t,n),e!==null?e.sibling:null);An(t);break;case 19:var l=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(gs(e,t,n,!1),s=(n&t.childLanes)!==0),l){if(s)return U0(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ce(ze,ze.current),s)break;return null;case 22:return t.lanes=0,V0(e,t,n,t.pendingProps);case 24:En(t,Ue,e.memoizedState.cache)}return bn(e,t,n)}function I0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!$u(e,n)&&!(t.flags&128))return Ie=!1,s2(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,fe&&t.flags&1048576&&qm(t,ul,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ca(t.elementType),t.type=e,typeof e=="function")vu(e)?(s=Na(e,s),t.tag=1,t=jh(null,t,e,s,n)):(t.tag=0,t=So(null,t,e,s,n));else{if(e!=null){var l=e.$$typeof;if(l===ru){t.tag=11,t=gh(null,t,e,s,n);break e}else if(l===iu){t.tag=14,t=ph(null,t,e,s,n);break e}}throw t=Pc(e)||e,Error($(306,t,""))}}return t;case 0:return So(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,l=Na(s,t.pendingProps),jh(e,t,s,l,n);case 3:e:{if(Lr(t,t.stateNode.containerInfo),e===null)throw Error($(387));s=t.pendingProps;var r=t.memoizedState;l=r.element,xo(e,t),Ps(t,s,null,n);var i=t.memoizedState;if(s=i.cache,En(t,Ue,s),s!==r.cache&&fo(t,[Ue],n,!0),Ks(),s=i.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Nh(e,t,s,n);break e}else if(s!==l){l=Dt(Error($(424)),t),dl(l),t=Nh(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ee=kt(e.firstChild),Ke=t,fe=!0,Un=null,Mt=!0,n=Km(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ya(),s===l){t=bn(e,t,n);break e}Ye(e,t,s,n)}t=t.child}return t;case 26:return br(e,t),e===null?(n=qh(t.type,null,t.pendingProps,null))?t.memoizedState=n:fe||(n=t.type,e=t.pendingProps,s=si(Bn.current).createElement(n),s[Xe]=t,s[ut]=e,Ze(s,n,e),Fe(s),t.stateNode=s):t.memoizedState=qh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jc(t),e===null&&fe&&(s=t.stateNode=Dx(t.type,t.pendingProps,Bn.current),Ke=t,Mt=!0,l=Ee,aa(t.type)?(Uo=l,Ee=kt(s.firstChild)):Ee=l),Ye(e,t,t.pendingProps.children,n),br(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((l=s=Ee)&&(s=R2(s,t.type,t.pendingProps,Mt),s!==null?(t.stateNode=s,Ke=t,Ee=kt(s.firstChild),Mt=!1,l=!0):l=!1),l||Pn(t)),Jc(t),l=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,zo(l,r)?s=null:i!==null&&zo(l,i)&&(t.flags|=32),t.memoizedState!==null&&(l=Ou(e,t,Ky,null,null,n),pl._currentValue=l),br(e,t),Ye(e,t,s,n),t.child;case 6:return e===null&&fe&&((e=n=Ee)&&(n=z2(n,t.pendingProps,Mt),n!==null?(t.stateNode=n,Ke=t,Ee=null,e=!0):e=!1),e||Pn(t)),null;case 13:return B0(e,t,n);case 4:return Lr(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=va(t,null,s,n):Ye(e,t,s,n),t.child;case 11:return gh(e,t,t.type,t.pendingProps,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,En(t,t.type,s.value),Ye(e,t,s.children,n),t.child;case 9:return l=t.type._context,s=t.pendingProps.children,ba(t),l=Pe(l),s=s(l),t.flags|=1,Ye(e,t,s,n),t.child;case 14:return ph(e,t,t.type,t.pendingProps,n);case 15:return L0(e,t,t.type,t.pendingProps,n);case 19:return U0(e,t,n);case 31:return a2(e,t,n);case 22:return V0(e,t,n,t.pendingProps);case 24:return ba(t),s=Pe(Ue),e===null?(l=Su(),l===null&&(l=Se,r=wu(),l.pooledCache=r,r.refCount++,r!==null&&(l.pooledCacheLanes|=n),l=r),t.memoizedState={parent:s,cache:l},Tu(t),En(t,Ue,l)):(e.lanes&n&&(xo(e,t),Ps(t,null,null,n),Ks()),l=e.memoizedState,r=t.memoizedState,l.parent!==s?(l={parent:s,cache:s},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),En(t,Ue,s)):(s=r.cache,En(t,Ue,s),s!==l.cache&&fo(t,[Ue],n,!0))),Ye(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error($(156,t.tag))}function en(e){e.flags|=4}function Nc(e,t,n,s,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(ux())e.flags|=8192;else throw xa=Gr,Cu}else e.flags&=-16777217}function Sh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!kx(t))if(ux())e.flags|=8192;else throw xa=Gr,Cu}function er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dm():536870912,e.lanes|=t,rs|=t)}function Ms(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function l2(e,t,n){var s=t.pendingProps;switch(Nu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Te(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),hn(Ue),es(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Da(t)?en(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fc())),Te(t),null;case 26:var l=t.type,r=t.memoizedState;return e===null?(en(t),r!==null?(Te(t),Sh(t,r)):(Te(t),Nc(t,l,null,s,n))):r?r!==e.memoizedState?(en(t),Te(t),Sh(t,r)):(Te(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&en(t),Te(t),Nc(t,l,e,s,n)),null;case 27:if(Vr(t),n=Bn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&en(t);else{if(!s){if(t.stateNode===null)throw Error($(166));return Te(t),null}e=Yt.current,Da(t)?Wd(t):(e=Dx(l,s,n),t.stateNode=e,en(t))}return Te(t),null;case 5:if(Vr(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&en(t);else{if(!s){if(t.stateNode===null)throw Error($(166));return Te(t),null}if(r=Yt.current,Da(t))Wd(t);else{var i=si(Bn.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?i.createElement(l,{is:s.is}):i.createElement(l)}}r[Xe]=t,r[ut]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=r;e:switch(Ze(r,l,s),l){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&en(t)}}return Te(t),Nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&en(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(e=Bn.current,Da(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,l=Ke,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}e[Xe]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Tx(e.nodeValue,n)),e||Pn(t,!0)}else e=si(e).createTextNode(s),e[Xe]=t,t.stateNode=e}return Te(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Da(t),n!==null){if(e===null){if(!s)throw Error($(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(557));e[Xe]=t}else ya(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),e=!1}else n=fc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ft(t),t):(ft(t),null);if(t.flags&128)throw Error($(558))}return Te(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Da(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error($(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error($(317));l[Xe]=t}else ya(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),l=!1}else l=fc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(ft(t),t):(ft(t),null)}return ft(t),t.flags&128?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),er(t,t.updateQueue),Te(t),null);case 4:return es(),e===null&&Ku(t.stateNode.containerInfo),Te(t),null;case 10:return hn(t.type),Te(t),null;case 19:if(Qe(ze),s=t.memoizedState,s===null)return Te(t),null;if(l=(t.flags&128)!==0,r=s.rendering,r===null)if(l)Ms(s,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Qr(e),r!==null){for(t.flags|=128,Ms(s,!1),e=r.updateQueue,t.updateQueue=e,er(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Hm(n,e),n=n.sibling;return Ce(ze,ze.current&1|2),fe&&sn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&gt()>Jr&&(t.flags|=128,l=!0,Ms(s,!1),t.lanes=4194304)}else{if(!l)if(e=Qr(r),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,er(t,e),Ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!fe)return Te(t),null}else 2*gt()-s.renderingStartTime>Jr&&n!==536870912&&(t.flags|=128,l=!0,Ms(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,n=ze.current,Ce(ze,l?n&1|2:n&1),fe&&sn(t,s.treeForkCount),e):(Te(t),null);case 22:case 23:return ft(t),Eu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),n=t.updateQueue,n!==null&&er(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Qe(ma),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hn(Ue),Te(t),null;case 25:return null;case 30:return null}throw Error($(156,t.tag))}function r2(e,t){switch(Nu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(Ue),es(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vr(t),null;case 31:if(t.memoizedState!==null){if(ft(t),t.alternate===null)throw Error($(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(ze),null;case 4:return es(),null;case 10:return hn(t.type),null;case 22:case 23:return ft(t),Eu(),e!==null&&Qe(ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hn(Ue),null;case 25:return null;default:return null}}function H0(e,t){switch(Nu(t),t.tag){case 3:hn(Ue),es();break;case 26:case 27:case 5:Vr(t);break;case 4:es();break;case 31:t.memoizedState!==null&&ft(t);break;case 13:ft(t);break;case 19:Qe(ze);break;case 10:hn(t.type);break;case 22:case 23:ft(t),Eu(),e!==null&&Qe(ma);break;case 24:hn(Ue)}}function _l(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&e)===e){s=void 0;var r=n.create,i=n.inst;s=r(),i.destroy=s}n=n.next}while(n!==l)}}catch(c){ve(t,t.return,c)}}function Zn(e,t,n){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var r=l.next;s=r;do{if((s.tag&e)===e){var i=s.inst,c=i.destroy;if(c!==void 0){i.destroy=void 0,l=t;var o=n,d=c;try{d()}catch(f){ve(l,o,f)}}}s=s.next}while(s!==r)}}catch(f){ve(t,t.return,f)}}function $0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zm(t,n)}catch(s){ve(e,e.return,s)}}}function q0(e,t,n){n.props=Na(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){ve(e,t,s)}}function Js(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(l){ve(e,t,l)}}function Qt(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(l){ve(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){ve(e,t,l)}else n.current=null}function G0(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(l){ve(e,e.return,l)}}function wc(e,t,n){try{var s=e.stateNode;A2(s,e.type,n,t),s[ut]=t}catch(l){ve(e,e.return,l)}}function F0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&aa(e.type)||e.tag===4}function Sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function To(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=on));else if(s!==4&&(s===27&&aa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}function Zr(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&aa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zr(e,t,n),e=e.sibling;e!==null;)Zr(e,t,n),e=e.sibling}function Q0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Ze(t,s,n),t[Xe]=e,t[ut]=n}catch(r){ve(e,e.return,r)}}var ln=!1,Be=!1,Cc=!1,Ch=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function i2(e,t){if(e=e.containerInfo,ko=ci,e=km(e),pu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var i=0,c=-1,o=-1,d=0,f=0,h=e,p=null;t:for(;;){for(var g;h!==n||l!==0&&h.nodeType!==3||(c=i+l),h!==r||s!==0&&h.nodeType!==3||(o=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++d===l&&(c=i),p===r&&++f===s&&(o=i),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ro={focusedElem:e,selectionRange:n},ci=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,l=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var b=Na(n.type,l);e=s.getSnapshotBeforeUpdate(b,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(S){ve(n,n.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Lo(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error($(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function Y0(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n),s&4&&_l(5,n);break;case 1:if(nn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(i){ve(n,n.return,i)}else{var l=Na(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ve(n,n.return,i)}}s&64&&$0(n),s&512&&Js(n,n.return);break;case 3:if(nn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zm(e,t)}catch(i){ve(n,n.return,i)}}break;case 27:t===null&&s&4&&Q0(n);case 26:case 5:nn(e,n),t===null&&s&4&&G0(n),s&512&&Js(n,n.return);break;case 12:nn(e,n);break;case 31:nn(e,n),s&4&&P0(e,n);break;case 13:nn(e,n),s&4&&Z0(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=g2.bind(null,n),L2(e,n))));break;case 22:if(s=n.memoizedState!==null||ln,!s){t=t!==null&&t.memoizedState!==null||Be,l=ln;var r=Be;ln=s,(Be=t)&&!r?an(e,n,(n.subtreeFlags&8772)!==0):nn(e,n),ln=l,Be=r}break;case 30:break;default:nn(e,n)}}function X0(e){var t=e.alternate;t!==null&&(e.alternate=null,X0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&du(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,lt=!1;function tn(e,t,n){for(n=n.child;n!==null;)K0(e,t,n),n=n.sibling}function K0(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Cl,n)}catch{}switch(n.tag){case 26:Be||Qt(n,t),tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Be||Qt(n,t);var s=De,l=lt;aa(n.type)&&(De=n.stateNode,lt=!1),tn(e,t,n),nl(n.stateNode),De=s,lt=l;break;case 5:Be||Qt(n,t);case 6:if(s=De,l=lt,De=null,tn(e,t,n),De=s,lt=l,De!==null)if(lt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(n.stateNode)}catch(r){ve(n,t,r)}else try{De.removeChild(n.stateNode)}catch(r){ve(n,t,r)}break;case 18:De!==null&&(lt?(e=De,Bh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),us(e)):Bh(De,n.stateNode));break;case 4:s=De,l=lt,De=n.stateNode.containerInfo,lt=!0,tn(e,t,n),De=s,lt=l;break;case 0:case 11:case 14:case 15:Zn(2,n,t),Be||Zn(4,n,t),tn(e,t,n);break;case 1:Be||(Qt(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&q0(n,t,s)),tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:Be=(s=Be)||n.memoizedState!==null,tn(e,t,n),Be=s;break;default:tn(e,t,n)}}function P0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(n){ve(t,t.return,n)}}}function Z0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(n){ve(t,t.return,n)}}function c2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ch),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ch),t;default:throw Error($(435,e.tag))}}function tr(e,t){var n=c2(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var l=p2.bind(null,e,s);s.then(l,l)}})}function at(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s],r=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 27:if(aa(c.type)){De=c.stateNode,lt=!1;break e}break;case 5:De=c.stateNode,lt=!1;break e;case 3:case 4:De=c.stateNode.containerInfo,lt=!0;break e}c=c.return}if(De===null)throw Error($(160));K0(r,i,l),De=null,lt=!1,r=l.alternate,r!==null&&(r.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)J0(t,e),t=t.sibling}var Vt=null;function J0(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:at(t,e),st(e),s&4&&(Zn(3,e,e.return),_l(3,e),Zn(5,e,e.return));break;case 1:at(t,e),st(e),s&512&&(Be||n===null||Qt(n,n.return)),s&64&&ln&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var l=Vt;if(at(t,e),st(e),s&512&&(Be||n===null||Qt(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":r=l.getElementsByTagName("title")[0],(!r||r[Al]||r[Xe]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=l.createElement(s),l.head.insertBefore(r,l.querySelector("head > title"))),Ze(r,s,n),r[Xe]=e,Fe(r),s=r;break e;case"link":var i=Fh("link","href",l).get(s+(n.href||""));if(i){for(var c=0;c<i.length;c++)if(r=i[c],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(c,1);break t}}r=l.createElement(s),Ze(r,s,n),l.head.appendChild(r);break;case"meta":if(i=Fh("meta","content",l).get(s+(n.content||""))){for(c=0;c<i.length;c++)if(r=i[c],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(c,1);break t}}r=l.createElement(s),Ze(r,s,n),l.head.appendChild(r);break;default:throw Error($(468,s))}r[Xe]=e,Fe(r),s=r}e.stateNode=s}else Qh(l,e.type,e.stateNode);else e.stateNode=Gh(l,s,e.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?Qh(l,e.type,e.stateNode):Gh(l,s,e.memoizedProps)):s===null&&e.stateNode!==null&&wc(e,e.memoizedProps,n.memoizedProps)}break;case 27:at(t,e),st(e),s&512&&(Be||n===null||Qt(n,n.return)),n!==null&&s&4&&wc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(at(t,e),st(e),s&512&&(Be||n===null||Qt(n,n.return)),e.flags&32){l=e.stateNode;try{ns(l,"")}catch(b){ve(e,e.return,b)}}s&4&&e.stateNode!=null&&(l=e.memoizedProps,wc(e,l,n!==null?n.memoizedProps:l)),s&1024&&(Cc=!0);break;case 6:if(at(t,e),st(e),s&4){if(e.stateNode===null)throw Error($(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(b){ve(e,e.return,b)}}break;case 3:if(Nr=null,l=Vt,Vt=li(t.containerInfo),at(t,e),Vt=l,st(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{us(t.containerInfo)}catch(b){ve(e,e.return,b)}Cc&&(Cc=!1,W0(e));break;case 4:s=Vt,Vt=li(e.stateNode.containerInfo),at(t,e),st(e),Vt=s;break;case 12:at(t,e),st(e);break;case 31:at(t,e),st(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,tr(e,s)));break;case 13:at(t,e),st(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zi=gt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,tr(e,s)));break;case 22:l=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,d=ln,f=Be;if(ln=d||l,Be=f||o,at(t,e),Be=f,ln=d,st(e),s&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||o||ln||Be||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(r=o.stateNode,l)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{c=o.stateNode;var h=o.memoizedProps.style,p=h!=null&&h.hasOwnProperty("display")?h.display:null;c.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(b){ve(o,o.return,b)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(b){ve(o,o.return,b)}}}else if(t.tag===18){if(n===null){o=t;try{var g=o.stateNode;l?Uh(g,!0):Uh(o.stateNode,!1)}catch(b){ve(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,tr(e,n))));break;case 19:at(t,e),st(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,tr(e,s)));break;case 30:break;case 21:break;default:at(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(F0(s)){n=s;break}s=s.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var l=n.stateNode,r=Sc(e);Zr(e,r,l);break;case 5:var i=n.stateNode;n.flags&32&&(ns(i,""),n.flags&=-33);var c=Sc(e);Zr(e,c,i);break;case 3:case 4:var o=n.stateNode.containerInfo,d=Sc(e);To(e,d,o);break;default:throw Error($(161))}}catch(f){ve(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;W0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Y0(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),oa(t);break;case 1:Qt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&q0(t,t.return,n),oa(t);break;case 27:nl(t.stateNode);case 26:case 5:Qt(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function an(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,l=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:an(l,r,n),_l(4,r);break;case 1:if(an(l,r,n),s=r,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(d){ve(s,s.return,d)}if(s=r,l=s.updateQueue,l!==null){var c=s.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)Pm(o[l],c)}catch(d){ve(s,s.return,d)}}n&&i&64&&$0(r),Js(r,r.return);break;case 27:Q0(r);case 26:case 5:an(l,r,n),n&&s===null&&i&4&&G0(r),Js(r,r.return);break;case 12:an(l,r,n);break;case 31:an(l,r,n),n&&i&4&&P0(l,r);break;case 13:an(l,r,n),n&&i&4&&Z0(l,r);break;case 22:r.memoizedState===null&&an(l,r,n),Js(r,r.return);break;case 30:break;default:an(l,r,n)}t=t.sibling}}function qu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Dl(n))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dl(e))}function Lt(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ex(e,t,n,s),t=t.sibling}function ex(e,t,n,s){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Lt(e,t,n,s),l&2048&&_l(9,t);break;case 1:Lt(e,t,n,s);break;case 3:Lt(e,t,n,s),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dl(e)));break;case 12:if(l&2048){Lt(e,t,n,s),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,c=r.onPostCommit;typeof c=="function"&&c(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ve(t,t.return,o)}}else Lt(e,t,n,s);break;case 31:Lt(e,t,n,s);break;case 13:Lt(e,t,n,s);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,t.memoizedState!==null?r._visibility&2?Lt(e,t,n,s):Ws(e,t):r._visibility&2?Lt(e,t,n,s):(r._visibility|=2,ka(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),l&2048&&qu(i,t);break;case 24:Lt(e,t,n,s),l&2048&&Gu(t.alternate,t);break;default:Lt(e,t,n,s)}}function ka(e,t,n,s,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,i=t,c=n,o=s,d=i.flags;switch(i.tag){case 0:case 11:case 15:ka(r,i,c,o,l),_l(8,i);break;case 23:break;case 22:var f=i.stateNode;i.memoizedState!==null?f._visibility&2?ka(r,i,c,o,l):Ws(r,i):(f._visibility|=2,ka(r,i,c,o,l)),l&&d&2048&&qu(i.alternate,i);break;case 24:ka(r,i,c,o,l),l&&d&2048&&Gu(i.alternate,i);break;default:ka(r,i,c,o,l)}t=t.sibling}}function Ws(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,l=s.flags;switch(s.tag){case 22:Ws(n,s),l&2048&&qu(s.alternate,s);break;case 24:Ws(n,s),l&2048&&Gu(s.alternate,s);break;default:Ws(n,s)}t=t.sibling}}var Hs=8192;function Ma(e,t,n){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)tx(e,t,n),e=e.sibling}function tx(e,t,n){switch(e.tag){case 26:Ma(e,t,n),e.flags&Hs&&e.memoizedState!==null&&X2(n,Vt,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,t,n);break;case 3:case 4:var s=Vt;Vt=li(e.stateNode.containerInfo),Ma(e,t,n),Vt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hs,Hs=16777216,Ma(e,t,n),Hs=s):Ma(e,t,n));break;default:Ma(e,t,n)}}function nx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _s(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ge=s,sx(s,e)}nx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ax(e),e=e.sibling}function ax(e){switch(e.tag){case 0:case 11:case 15:_s(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:_s(e);break;case 12:_s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vr(e)):_s(e);break;default:_s(e)}}function vr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ge=s,sx(s,e)}nx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),vr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,vr(t));break;default:vr(t)}e=e.sibling}}function sx(e,t){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:Zn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Dl(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ge=s;else e:for(n=e;Ge!==null;){s=Ge;var l=s.sibling,r=s.return;if(X0(s),s===n){Ge=null;break e}if(l!==null){l.return=r,Ge=l;break e}Ge=r}}}var o2={getCacheForType:function(e){var t=Pe(Ue),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pe(Ue).controller.signal}},u2=typeof WeakMap=="function"?WeakMap:Map,xe=0,Se=null,ue=null,he=0,be=0,ht=null,kn=!1,ys=!1,Fu=!1,vn=0,ke=0,Jn=0,ga=0,Qu=0,xt=0,rs=0,el=null,rt=null,Eo=!1,zi=0,lx=0,Jr=1/0,Wr=null,$n=null,$e=0,qn=null,is=null,fn=0,Ao=0,Oo=null,rx=null,tl=0,Do=null;function bt(){return xe&2&&he!==0?he&-he:te.T!==null?Xu():xm()}function ix(){if(xt===0)if(!(he&536870912)||fe){var e=Yl;Yl<<=1,!(Yl&3932160)&&(Yl=262144),xt=e}else xt=536870912;return e=jt.current,e!==null&&(e.flags|=32),xt}function it(e,t,n){(e===Se&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(cs(e,0),Rn(e,he,xt,!1)),El(e,n),(!(xe&2)||e!==Se)&&(e===Se&&(!(xe&2)&&(ga|=n),ke===4&&Rn(e,he,xt,!1)),Jt(e))}function cx(e,t,n){if(xe&6)throw Error($(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Tl(e,t),l=s?f2(e,t):Tc(e,t,!0),r=s;do{if(l===0){ys&&!s&&Rn(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!d2(n)){l=Tc(e,t,!1),r=!1;continue}if(l===2){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var c=e;l=el;var o=c.current.memoizedState.isDehydrated;if(o&&(cs(c,i).flags|=256),i=Tc(c,i,!1),i!==2){if(Fu&&!o){c.errorRecoveryDisabledLanes|=r,ga|=r,l=4;break e}r=rt,rt=l,r!==null&&(rt===null?rt=r:rt.push.apply(rt,r))}l=i}if(r=!1,l!==2)continue}}if(l===1){cs(e,0),Rn(e,t,0,!0);break}e:{switch(s=e,r=l,r){case 0:case 1:throw Error($(345));case 4:if((t&4194048)!==t)break;case 6:Rn(s,t,xt,!kn);break e;case 2:rt=null;break;case 3:case 5:break;default:throw Error($(329))}if((t&62914560)===t&&(l=zi+300-gt(),10<l)){if(Rn(s,t,xt,!kn),Si(s,0,!0)!==0)break e;fn=t,s.timeoutHandle=Ax(Th.bind(null,s,n,rt,Wr,Eo,t,xt,ga,rs,kn,r,"Throttled",-0,0),l);break e}Th(s,n,rt,Wr,Eo,t,xt,ga,rs,kn,r,null,-0,0)}}break}while(!0);Jt(e)}function Th(e,t,n,s,l,r,i,c,o,d,f,h,p,g){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},tx(t,r,h);var b=(r&62914560)===r?zi-gt():(r&4194048)===r?lx-gt():0;if(b=K2(h,b),b!==null){fn=r,e.cancelPendingCommit=b(Ah.bind(null,e,t,r,n,s,l,i,c,o,f,h,null,p,g)),Rn(e,r,i,!d);return}}Ah(e,t,r,n,s,l,i,c,o)}function d2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var l=n[s],r=l.getSnapshot;l=l.value;try{if(!vt(r(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t,n,s){t&=~Qu,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var l=t;0<l;){var r=31-yt(l),i=1<<r;s[r]=-1,l&=~i}n!==0&&hm(e,n,t)}function Li(){return xe&6?!0:(kl(0),!1)}function Yu(){if(ue!==null){if(be===0)var e=ue.return;else e=ue,un=Aa=null,_u(e),Za=null,hl=0,e=ue;for(;e!==null;)H0(e.alternate,e),e=e.return;ue=null}}function cs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,M2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fn=0,Yu(),Se=e,ue=n=dn(e.current,null),he=t,be=0,ht=null,kn=!1,ys=Tl(e,t),Fu=!1,rs=xt=Qu=ga=Jn=ke=0,rt=el=null,Eo=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var l=31-yt(s),r=1<<l;t|=e[l],s&=~r}return vn=t,Ai(),n}function ox(e,t){re=null,te.H=ml,t===ps||t===Di?(t=sh(),be=3):t===Cu?(t=sh(),be=4):be=t===Hu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ht=t,ue===null&&(ke=1,Kr(e,Dt(t,e.current)))}function ux(){var e=jt.current;return e===null?!0:(he&4194048)===he?_t===null:(he&62914560)===he||he&536870912?e===_t:!1}function dx(){var e=te.H;return te.H=ml,e===null?ml:e}function hx(){var e=te.A;return te.A=o2,e}function ei(){ke=4,kn||(he&4194048)!==he&&jt.current!==null||(ys=!0),!(Jn&134217727)&&!(ga&134217727)||Se===null||Rn(Se,he,xt,!1)}function Tc(e,t,n){var s=xe;xe|=2;var l=dx(),r=hx();(Se!==e||he!==t)&&(Wr=null,cs(e,t)),t=!1;var i=ke;e:do try{if(be!==0&&ue!==null){var c=ue,o=ht;switch(be){case 8:Yu(),i=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(t=!0);var d=be;if(be=0,ht=null,Qa(e,c,o,d),n&&ys){i=0;break e}break;default:d=be,be=0,ht=null,Qa(e,c,o,d)}}h2(),i=ke;break}catch(f){ox(e,f)}while(!0);return t&&e.shellSuspendCounter++,un=Aa=null,xe=s,te.H=l,te.A=r,ue===null&&(Se=null,he=0,Ai()),i}function h2(){for(;ue!==null;)fx(ue)}function f2(e,t){var n=xe;xe|=2;var s=dx(),l=hx();Se!==e||he!==t?(Wr=null,Jr=gt()+500,cs(e,t)):ys=Tl(e,t);e:do try{if(be!==0&&ue!==null){t=ue;var r=ht;t:switch(be){case 1:be=0,ht=null,Qa(e,t,r,1);break;case 2:case 9:if(ah(r)){be=0,ht=null,Eh(t);break}t=function(){be!==2&&be!==9||Se!==e||(be=7),Jt(e)},r.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:ah(r)?(be=0,ht=null,Eh(t)):(be=0,ht=null,Qa(e,t,r,7));break;case 5:var i=null;switch(ue.tag){case 26:i=ue.memoizedState;case 5:case 27:var c=ue;if(i?kx(i):c.stateNode.complete){be=0,ht=null;var o=c.sibling;if(o!==null)ue=o;else{var d=c.return;d!==null?(ue=d,Vi(d)):ue=null}break t}}be=0,ht=null,Qa(e,t,r,5);break;case 6:be=0,ht=null,Qa(e,t,r,6);break;case 8:Yu(),ke=6;break e;default:throw Error($(462))}}m2();break}catch(f){ox(e,f)}while(!0);return un=Aa=null,te.H=s,te.A=l,xe=n,ue!==null?0:(Se=null,he=0,Ai(),ke)}function m2(){for(;ue!==null&&!Vp();)fx(ue)}function fx(e){var t=I0(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?Vi(e):ue=t}function Eh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vh(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=vh(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:_u(t);default:H0(n,t),t=ue=Hm(t,vn),t=I0(n,t,vn)}e.memoizedProps=e.pendingProps,t===null?Vi(e):ue=t}function Qa(e,t,n,s){un=Aa=null,_u(t),Za=null,hl=0;var l=t.return;try{if(n2(e,l,t,n,he)){ke=1,Kr(e,Dt(n,e.current)),ue=null;return}}catch(r){if(l!==null)throw ue=l,r;ke=1,Kr(e,Dt(n,e.current)),ue=null;return}t.flags&32768?(fe||s===1?e=!0:ys||he&536870912?e=!1:(kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=jt.current,s!==null&&s.tag===13&&(s.flags|=16384))),mx(t,e)):Vi(t)}function Vi(e){var t=e;do{if(t.flags&32768){mx(t,kn);return}e=t.return;var n=l2(t.alternate,t,vn);if(n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);ke===0&&(ke=5)}function mx(e,t){do{var n=r2(e.alternate,e);if(n!==null){n.flags&=32767,ue=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=n}while(e!==null);ke=6,ue=null}function Ah(e,t,n,s,l,r,i,c,o){e.cancelPendingCommit=null;do Bi();while($e!==0);if(xe&6)throw Error($(327));if(t!==null){if(t===e.current)throw Error($(177));if(r=t.lanes|t.childLanes,r|=yu,Yp(e,n,r,i,c,o),e===Se&&(ue=Se=null,he=0),is=t,qn=e,fn=n,Ao=r,Oo=l,rx=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,y2(Br,function(){return bx(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=te.T,te.T=null,l=ge.p,ge.p=2,i=xe,xe|=4;try{i2(e,t,n)}finally{xe=i,ge.p=l,te.T=s}}$e=1,xx(),gx(),px()}}function xx(){if($e===1){$e=0;var e=qn,t=is,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=te.T,te.T=null;var s=ge.p;ge.p=2;var l=xe;xe|=4;try{J0(t,e);var r=Ro,i=km(e.containerInfo),c=r.focusedElem,o=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&_m(c.ownerDocument.documentElement,c)){if(o!==null&&pu(c)){var d=o.start,f=o.end;if(f===void 0&&(f=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(f,c.value.length);else{var h=c.ownerDocument||document,p=h&&h.defaultView||window;if(p.getSelection){var g=p.getSelection(),b=c.textContent.length,S=Math.min(o.start,b),w=o.end===void 0?S:Math.min(o.end,b);!g.extend&&S>w&&(i=w,w=S,S=i);var y=Pd(c,S),u=Pd(c,w);if(y&&u&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==u.node||g.focusOffset!==u.offset)){var m=h.createRange();m.setStart(y.node,y.offset),g.removeAllRanges(),S>w?(g.addRange(m),g.extend(u.node,u.offset)):(m.setEnd(u.node,u.offset),g.addRange(m))}}}}for(h=[],g=c;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<h.length;c++){var j=h[c];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}ci=!!ko,Ro=ko=null}finally{xe=l,ge.p=s,te.T=n}}e.current=t,$e=2}}function gx(){if($e===2){$e=0;var e=qn,t=is,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=te.T,te.T=null;var s=ge.p;ge.p=2;var l=xe;xe|=4;try{Y0(e,t.alternate,t)}finally{xe=l,ge.p=s,te.T=n}}$e=3}}function px(){if($e===4||$e===3){$e=0,Bp();var e=qn,t=is,n=fn,s=rx;t.subtreeFlags&10256||t.flags&10256?$e=5:($e=0,is=qn=null,yx(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&($n=null),uu(n),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Cl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=te.T,l=ge.p,ge.p=2,te.T=null;try{for(var r=e.onRecoverableError,i=0;i<s.length;i++){var c=s[i];r(c.value,{componentStack:c.stack})}}finally{te.T=t,ge.p=l}}fn&3&&Bi(),Jt(e),l=e.pendingLanes,n&261930&&l&42?e===Do?tl++:(tl=0,Do=e):tl=0,kl(0)}}function yx(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Dl(t)))}function Bi(){return xx(),gx(),px(),bx()}function bx(){if($e!==5)return!1;var e=qn,t=Ao;Ao=0;var n=uu(fn),s=te.T,l=ge.p;try{ge.p=32>n?32:n,te.T=null,n=Oo,Oo=null;var r=qn,i=fn;if($e=0,is=qn=null,fn=0,xe&6)throw Error($(331));var c=xe;if(xe|=4,ax(r.current),ex(r,r.current,i,n),xe=c,kl(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Cl,r)}catch{}return!0}finally{ge.p=l,te.T=s,yx(e,t)}}function Oh(e,t,n){t=Dt(n,t),t=wo(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(El(e,2),Jt(e))}function ve(e,t,n){if(e.tag===3)Oh(e,e,n);else for(;t!==null;){if(t.tag===3){Oh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($n===null||!$n.has(s))){e=Dt(n,e),n=R0(2),s=Hn(t,n,2),s!==null&&(z0(n,s,t,e),El(s,2),Jt(s));break}}t=t.return}}function Ec(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new u2;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(Fu=!0,l.add(n),e=x2.bind(null,e,t,n),t.then(e,e))}function x2(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Se===e&&(he&n)===n&&(ke===4||ke===3&&(he&62914560)===he&&300>gt()-zi?!(xe&2)&&cs(e,0):Qu|=n,rs===he&&(rs=0)),Jt(e)}function vx(e,t){t===0&&(t=dm()),e=Ea(e,t),e!==null&&(El(e,t),Jt(e))}function g2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vx(e,n)}function p2(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error($(314))}s!==null&&s.delete(t),vx(e,n)}function y2(e,t){return cu(e,t)}var ti=null,Ra=null,Mo=!1,ni=!1,Ac=!1,zn=0;function Jt(e){e!==Ra&&e.next===null&&(Ra===null?ti=Ra=e:Ra=Ra.next=e),ni=!0,Mo||(Mo=!0,v2())}function kl(e,t){if(!Ac&&ni){Ac=!0;do for(var n=!1,s=ti;s!==null;){if(e!==0){var l=s.pendingLanes;if(l===0)var r=0;else{var i=s.suspendedLanes,c=s.pingedLanes;r=(1<<31-yt(42|e)+1)-1,r&=l&~(i&~c),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Dh(s,r))}else r=he,r=Si(s,s===Se?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Tl(s,r)||(n=!0,Dh(s,r));s=s.next}while(n);Ac=!1}}function b2(){jx()}function jx(){ni=Mo=!1;var e=0;zn!==0&&D2()&&(e=zn);for(var t=gt(),n=null,s=ti;s!==null;){var l=s.next,r=Nx(s,t);r===0?(s.next=null,n===null?ti=l:n.next=l,l===null&&(Ra=n)):(n=s,(e!==0||r&3)&&(ni=!0)),s=l}$e!==0&&$e!==5||kl(e),zn!==0&&(zn=0)}function Nx(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-yt(r),c=1<<i,o=l[i];o===-1?(!(c&n)||c&s)&&(l[i]=Qp(c,t)):o<=t&&(e.expiredLanes|=c),r&=~c}if(t=Se,n=he,n=Si(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&nc(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Tl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&nc(s),uu(n)){case 2:case 8:n=om;break;case 32:n=Br;break;case 268435456:n=um;break;default:n=Br}return s=wx.bind(null,e),n=cu(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&nc(s),e.callbackPriority=2,e.callbackNode=null,2}function wx(e,t){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Bi()&&e.callbackNode!==n)return null;var s=he;return s=Si(e,e===Se?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(cx(e,s,t),Nx(e,gt()),e.callbackNode!=null&&e.callbackNode===n?wx.bind(null,e):null)}function Dh(e,t){if(Bi())return null;cx(e,t,!0)}function v2(){_2(function(){xe&6?cu(cm,b2):jx()})}function Xu(){if(zn===0){var e=as;e===0&&(e=Ql,Ql<<=1,!(Ql&261888)&&(Ql=256)),zn=e}return zn}function Mh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dr(""+e)}function _h(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function j2(e,t,n,s,l){if(t==="submit"&&n&&n.stateNode===l){var r=Mh((l[ut]||null).action),i=s.submitter;i&&(t=(t=i[ut]||null)?Mh(t.formAction):i.getAttribute("formAction"),t!==null&&(r=t,i=null));var c=new Ci("action","action",null,s,l);e.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(zn!==0){var o=i?_h(l,i):new FormData(l);jo(n,{pending:!0,data:o,method:l.method,action:r},null,o)}}else typeof r=="function"&&(c.preventDefault(),o=i?_h(l,i):new FormData(l),jo(n,{pending:!0,data:o,method:l.method,action:r},r,o))},currentTarget:l}]})}}for(var Oc=0;Oc<co.length;Oc++){var Dc=co[Oc],N2=Dc.toLowerCase(),w2=Dc[0].toUpperCase()+Dc.slice(1);Ut(N2,"on"+w2)}Ut(zm,"onAnimationEnd");Ut(Lm,"onAnimationIteration");Ut(Vm,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(Uy,"onTransitionRun");Ut(Iy,"onTransitionStart");Ut(Hy,"onTransitionCancel");Ut(Bm,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Sx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==r&&l.isPropagationStopped())break e;r=c,l.currentTarget=d;try{r(l)}catch(f){Ir(f)}l.currentTarget=null,r=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==r&&l.isPropagationStopped())break e;r=c,l.currentTarget=d;try{r(l)}catch(f){Ir(f)}l.currentTarget=null,r=o}}}}function oe(e,t){var n=t[eo];n===void 0&&(n=t[eo]=new Set);var s=e+"__bubble";n.has(s)||(Cx(t,e,2,!1),n.add(s))}function Mc(e,t,n){var s=0;t&&(s|=4),Cx(n,e,s,t)}var nr="_reactListening"+Math.random().toString(36).slice(2);function Ku(e){if(!e[nr]){e[nr]=!0,gm.forEach(function(n){n!=="selectionchange"&&(S2.has(n)||Mc(n,!1,e),Mc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nr]||(t[nr]=!0,Mc("selectionchange",!1,t))}}function Cx(e,t,n,s){switch(Bx(t)){case 2:var l=J2;break;case 8:l=W2;break;default:l=Wu}n=l.bind(null,t,n,e),l=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function _c(e,t,n,s,l){var r=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===l)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&i.stateNode.containerInfo===l)return;i=i.return}for(;c!==null;){if(i=Va(c),i===null)return;if(o=i.tag,o===5||o===6||o===26||o===27){s=r=i;continue e}c=c.parentNode}}s=s.return}Sm(function(){var d=r,f=fu(n),h=[];e:{var p=Um.get(e);if(p!==void 0){var g=Ci,b=e;switch(e){case"keypress":if(fr(n)===0)break e;case"keydown":case"keyup":g=py;break;case"focusin":b="focus",g=ic;break;case"focusout":b="blur",g=ic;break;case"beforeblur":case"afterblur":g=ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vy;break;case zm:case Lm:case Vm:g=cy;break;case Bm:g=Ny;break;case"scroll":case"scrollend":g=ay;break;case"wheel":g=Sy;break;case"copy":case"cut":case"paste":g=uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$d;break;case"toggle":case"beforetoggle":g=Ty}var S=(t&4)!==0,w=!S&&(e==="scroll"||e==="scrollend"),y=S?p!==null?p+"Capture":null:p;S=[];for(var u=d,m;u!==null;){var j=u;if(m=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||m===null||y===null||(j=il(u,y),j!=null&&S.push(gl(u,j,m))),w)break;u=u.return}0<S.length&&(p=new g(p,b,null,n,f),h.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==so&&(b=n.relatedTarget||n.fromElement)&&(Va(b)||b[ms]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=d,b=b?Va(b):null,b!==null&&(w=Sl(b),S=b.tag,b!==w||S!==5&&S!==27&&S!==6)&&(b=null)):(g=null,b=d),g!==b)){if(S=Id,j="onMouseLeave",y="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(S=$d,j="onPointerLeave",y="onPointerEnter",u="pointer"),w=g==null?p:Us(g),m=b==null?p:Us(b),p=new S(j,u+"leave",g,n,f),p.target=w,p.relatedTarget=m,j=null,Va(f)===d&&(S=new S(y,u+"enter",b,n,f),S.target=m,S.relatedTarget=w,j=S),w=j,g&&b)t:{for(S=C2,y=g,u=b,m=0,j=y;j;j=S(j))m++;j=0;for(var N=u;N;N=S(N))j++;for(;0<m-j;)y=S(y),m--;for(;0<j-m;)u=S(u),j--;for(;m--;){if(y===u||u!==null&&y===u.alternate){S=y;break t}y=S(y),u=S(u)}S=null}else S=null;g!==null&&kh(h,p,g,S,!1),b!==null&&w!==null&&kh(h,w,b,S,!0)}}e:{if(p=d?Us(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=Qd;else if(Fd(p))if(Dm)O=Ly;else{O=Ry;var E=ky}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?d&&hu(d.elementType)&&(O=Qd):O=zy;if(O&&(O=O(e,d))){Om(h,O,n,f);break e}E&&E(e,p,d),e==="focusout"&&d&&p.type==="number"&&d.memoizedProps.value!=null&&ao(p,"number",p.value)}switch(E=d?Us(d):window,e){case"focusin":(Fd(E)||E.contentEditable==="true")&&(Ia=E,ro=d,Qs=null);break;case"focusout":Qs=ro=Ia=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,Zd(h,n,f);break;case"selectionchange":if(By)break;case"keydown":case"keyup":Zd(h,n,f)}var v;if(gu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ua?Em(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Tm&&n.locale!=="ko"&&(Ua||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ua&&(v=Cm()):(_n=f,mu="value"in _n?_n.value:_n.textContent,Ua=!0)),E=ai(d,C),0<E.length&&(C=new Hd(C,e,null,n,f),h.push({event:C,listeners:E}),v?C.data=v:(v=Am(n),v!==null&&(C.data=v)))),(v=Ay?Oy(e,n):Dy(e,n))&&(C=ai(d,"onBeforeInput"),0<C.length&&(E=new Hd("onBeforeInput","beforeinput",null,n,f),h.push({event:E,listeners:C}),E.data=v)),j2(h,e,d,n,f)}Sx(h,t)})}function gl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ai(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,r=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||r===null||(l=il(e,n),l!=null&&s.unshift(gl(e,l,r)),l=il(e,t),l!=null&&s.push(gl(e,l,r))),e.tag===3)return s;e=e.return}return[]}function C2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kh(e,t,n,s,l){for(var r=t._reactName,i=[];n!==null&&n!==s;){var c=n,o=c.alternate,d=c.stateNode;if(c=c.tag,o!==null&&o===s)break;c!==5&&c!==26&&c!==27||d===null||(o=d,l?(d=il(n,r),d!=null&&i.unshift(gl(n,d,o))):l||(d=il(n,r),d!=null&&i.push(gl(n,d,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var T2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function Rh(e){return(typeof e=="string"?e:""+e).replace(T2,`
`).replace(E2,"")}function Tx(e,t){return t=Rh(t),Rh(e)===t}function Ne(e,t,n,s,l,r){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ns(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ns(e,""+s);break;case"className":Kl(e,"class",s);break;case"tabIndex":Kl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(e,n,s);break;case"style":wm(e,s,r);break;case"data":if(t!=="object"){Kl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=dr(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Ne(e,t,"name",l.name,l,null),Ne(e,t,"formEncType",l.formEncType,l,null),Ne(e,t,"formMethod",l.formMethod,l,null),Ne(e,t,"formTarget",l.formTarget,l,null)):(Ne(e,t,"encType",l.encType,l,null),Ne(e,t,"method",l.method,l,null),Ne(e,t,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=dr(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=on);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error($(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=dr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":oe("beforetoggle",e),oe("toggle",e),ur(e,"popover",s);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ur(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ty.get(n)||n,ur(e,n,s))}}function _o(e,t,n,s,l,r){switch(n){case"style":wm(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error($(60));e.innerHTML=n}}break;case"children":typeof s=="string"?ns(e,s):(typeof s=="number"||typeof s=="bigint")&&ns(e,""+s);break;case"onScroll":s!=null&&oe("scroll",e);break;case"onScrollEnd":s!=null&&oe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),r=e[ut]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,l),typeof s=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,l);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):ur(e,n,s)}}}function Ze(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var s=!1,l=!1,r;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(i!=null)switch(r){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ne(e,t,r,i,n,null)}}l&&Ne(e,t,"srcSet",n.srcSet,n,null),s&&Ne(e,t,"src",n.src,n,null);return;case"input":oe("invalid",e);var c=r=i=l=null,o=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var f=n[s];if(f!=null)switch(s){case"name":l=f;break;case"type":i=f;break;case"checked":o=f;break;case"defaultChecked":d=f;break;case"value":r=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,t));break;default:Ne(e,t,s,f,n,null)}}vm(e,r,c,o,d,i,l,!1);return;case"select":oe("invalid",e),s=i=r=null;for(l in n)if(n.hasOwnProperty(l)&&(c=n[l],c!=null))switch(l){case"value":r=c;break;case"defaultValue":i=c;break;case"multiple":s=c;default:Ne(e,t,l,c,n,null)}t=r,n=i,e.multiple=!!s,t!=null?Xa(e,!!s,t,!1):n!=null&&Xa(e,!!s,n,!0);return;case"textarea":oe("invalid",e),r=l=s=null;for(i in n)if(n.hasOwnProperty(i)&&(c=n[i],c!=null))switch(i){case"value":s=c;break;case"defaultValue":l=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error($(91));break;default:Ne(e,t,i,c,n,null)}Nm(e,s,l,r);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ne(e,t,o,s,n,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(s=0;s<xl.length;s++)oe(xl[s],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(s=n[d],s!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error($(137,t));default:Ne(e,t,d,s,n,null)}return;default:if(hu(t)){for(f in n)n.hasOwnProperty(f)&&(s=n[f],s!==void 0&&_o(e,t,f,s,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(s=n[c],s!=null&&Ne(e,t,c,s,n,null))}function A2(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,r=null,i=null,c=null,o=null,d=null,f=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=h;default:s.hasOwnProperty(g)||Ne(e,t,g,null,s,h)}}for(var p in s){var g=s[p];if(h=n[p],s.hasOwnProperty(p)&&(g!=null||h!=null))switch(p){case"type":r=g;break;case"name":l=g;break;case"checked":d=g;break;case"defaultChecked":f=g;break;case"value":i=g;break;case"defaultValue":c=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error($(137,t));break;default:g!==h&&Ne(e,t,p,g,s,h)}}no(e,i,c,o,d,f,r,l);return;case"select":g=i=c=p=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null)switch(r){case"value":break;case"multiple":g=o;default:s.hasOwnProperty(r)||Ne(e,t,r,null,s,o)}for(l in s)if(r=s[l],o=n[l],s.hasOwnProperty(l)&&(r!=null||o!=null))switch(l){case"value":p=r;break;case"defaultValue":c=r;break;case"multiple":i=r;default:r!==o&&Ne(e,t,l,r,s,o)}t=c,n=i,s=g,p!=null?Xa(e,!!n,p,!1):!!s!=!!n&&(t!=null?Xa(e,!!n,t,!0):Xa(e,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(c in n)if(l=n[c],n.hasOwnProperty(c)&&l!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Ne(e,t,c,null,s,l)}for(i in s)if(l=s[i],r=n[i],s.hasOwnProperty(i)&&(l!=null||r!=null))switch(i){case"value":p=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error($(91));break;default:l!==r&&Ne(e,t,i,l,s,r)}jm(e,p,g);return;case"option":for(var b in n)if(p=n[b],n.hasOwnProperty(b)&&p!=null&&!s.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:Ne(e,t,b,null,s,p)}for(o in s)if(p=s[o],g=n[o],s.hasOwnProperty(o)&&p!==g&&(p!=null||g!=null))switch(o){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ne(e,t,o,p,s,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!s.hasOwnProperty(S)&&Ne(e,t,S,null,s,p);for(d in s)if(p=s[d],g=n[d],s.hasOwnProperty(d)&&p!==g&&(p!=null||g!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error($(137,t));break;default:Ne(e,t,d,p,s,g)}return;default:if(hu(t)){for(var w in n)p=n[w],n.hasOwnProperty(w)&&p!==void 0&&!s.hasOwnProperty(w)&&_o(e,t,w,void 0,s,p);for(f in s)p=s[f],g=n[f],!s.hasOwnProperty(f)||p===g||p===void 0&&g===void 0||_o(e,t,f,p,s,g);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!s.hasOwnProperty(y)&&Ne(e,t,y,null,s,p);for(h in s)p=s[h],g=n[h],!s.hasOwnProperty(h)||p===g||p==null&&g==null||Ne(e,t,h,p,s,g)}function zh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var l=n[s],r=l.transferSize,i=l.initiatorType,c=l.duration;if(r&&c&&zh(i)){for(i=0,c=l.responseEnd,s+=1;s<n.length;s++){var o=n[s],d=o.startTime;if(d>c)break;var f=o.transferSize,h=o.initiatorType;f&&zh(h)&&(o=o.responseEnd,i+=f*(o<c?1:(c-d)/(o-d)))}if(--s,t+=8*(r+i)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ko=null,Ro=null;function si(e){return e.nodeType===9?e:e.ownerDocument}function Lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ex(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kc=null;function D2(){var e=window.event;return e&&e.type==="popstate"?e===kc?!1:(kc=e,!0):(kc=null,!1)}var Ax=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,_2=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(e){return Vh.resolve(null).then(e).catch(k2)}:Ax;function k2(e){setTimeout(function(){throw e})}function aa(e){return e==="head"}function Bh(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(l),us(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")nl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,nl(n);for(var r=n.firstChild;r;){var i=r.nextSibling,c=r.nodeName;r[Al]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=i}}else n==="body"&&nl(e.ownerDocument.body);n=l}while(n);us(t)}function Uh(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Lo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lo(n),du(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function R2(e,t,n,s){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Al])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function z2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kt(e.nextSibling),e===null))return null;return e}function Ox(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function Vo(e){return e.data==="$?"||e.data==="$~"}function Bo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function L2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Uo=null;function Ih(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return kt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Dx(e,t,n){switch(t=si(n),e){case"html":if(e=t.documentElement,!e)throw Error($(452));return e;case"head":if(e=t.head,!e)throw Error($(453));return e;case"body":if(e=t.body,!e)throw Error($(454));return e;default:throw Error($(451))}}function nl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);du(e)}var Rt=new Map,$h=new Set;function li(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=ge.d;ge.d={f:V2,r:B2,D:U2,C:I2,L:H2,m:$2,X:G2,S:q2,M:F2};function V2(){var e=wn.f(),t=Li();return e||t}function B2(e){var t=xs(e);t!==null&&t.tag===5&&t.type==="form"?w0(t):wn.r(e)}var bs=typeof document>"u"?null:document;function Mx(e,t,n){var s=bs;if(s&&typeof t=="string"&&t){var l=Ot(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),$h.has(l)||($h.add(l),e={rel:e,crossOrigin:n,href:t},s.querySelector(l)===null&&(t=s.createElement("link"),Ze(t,"link",e),Fe(t),s.head.appendChild(t)))}}function U2(e){wn.D(e),Mx("dns-prefetch",e,null)}function I2(e,t){wn.C(e,t),Mx("preconnect",e,t)}function H2(e,t,n){wn.L(e,t,n);var s=bs;if(s&&e&&t){var l='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Ot(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Ot(n.imageSizes)+'"]')):l+='[href="'+Ot(e)+'"]';var r=l;switch(t){case"style":r=os(e);break;case"script":r=vs(e)}Rt.has(r)||(e=Oe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Rt.set(r,e),s.querySelector(l)!==null||t==="style"&&s.querySelector(Rl(r))||t==="script"&&s.querySelector(zl(r))||(t=s.createElement("link"),Ze(t,"link",e),Fe(t),s.head.appendChild(t)))}}function $2(e,t){wn.m(e,t);var n=bs;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Ot(s)+'"][href="'+Ot(e)+'"]',r=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=vs(e)}if(!Rt.has(r)&&(e=Oe({rel:"modulepreload",href:e},t),Rt.set(r,e),n.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zl(r)))return}s=n.createElement("link"),Ze(s,"link",e),Fe(s),n.head.appendChild(s)}}}function q2(e,t,n){wn.S(e,t,n);var s=bs;if(s&&e){var l=Ya(s).hoistableStyles,r=os(e);t=t||"default";var i=l.get(r);if(!i){var c={loading:0,preload:null};if(i=s.querySelector(Rl(r)))c.loading=5;else{e=Oe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Rt.get(r))&&Pu(e,n);var o=i=s.createElement("link");Fe(o),Ze(o,"link",e),o._p=new Promise(function(d,f){o.onload=d,o.onerror=f}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,jr(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:c},l.set(r,i)}}}function G2(e,t){wn.X(e,t);var n=bs;if(n&&e){var s=Ya(n).hoistableScripts,l=vs(e),r=s.get(l);r||(r=n.querySelector(zl(l)),r||(e=Oe({src:e,async:!0},t),(t=Rt.get(l))&&Zu(e,t),r=n.createElement("script"),Fe(r),Ze(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(l,r))}}function F2(e,t){wn.M(e,t);var n=bs;if(n&&e){var s=Ya(n).hoistableScripts,l=vs(e),r=s.get(l);r||(r=n.querySelector(zl(l)),r||(e=Oe({src:e,async:!0,type:"module"},t),(t=Rt.get(l))&&Zu(e,t),r=n.createElement("script"),Fe(r),Ze(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(l,r))}}function qh(e,t,n,s){var l=(l=Bn.current)?li(l):null;if(!l)throw Error($(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=os(n.href),n=Ya(l).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=os(n.href);var r=Ya(l).hoistableStyles,i=r.get(e);if(i||(l=l.ownerDocument||l,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=l.querySelector(Rl(e)))&&!r._p&&(i.instance=r,i.state.loading=5),Rt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Rt.set(e,n),r||Q2(l,e,n,i.state))),t&&s===null)throw Error($(528,""));return i}if(t&&s!==null)throw Error($(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vs(n),n=Ya(l).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,e))}}function os(e){return'href="'+Ot(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function _x(e){return Oe({},e,{"data-precedence":e.precedence,precedence:null})}function Q2(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ze(t,"link",n),Fe(t),e.head.appendChild(t))}function vs(e){return'[src="'+Ot(e)+'"]'}function zl(e){return"script[async]"+e}function Gh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ot(n.href)+'"]');if(s)return t.instance=s,Fe(s),s;var l=Oe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Fe(s),Ze(s,"style",l),jr(s,n.precedence,e),t.instance=s;case"stylesheet":l=os(n.href);var r=e.querySelector(Rl(l));if(r)return t.state.loading|=4,t.instance=r,Fe(r),r;s=_x(n),(l=Rt.get(l))&&Pu(s,l),r=(e.ownerDocument||e).createElement("link"),Fe(r);var i=r;return i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Ze(r,"link",s),t.state.loading|=4,jr(r,n.precedence,e),t.instance=r;case"script":return r=vs(n.src),(l=e.querySelector(zl(r)))?(t.instance=l,Fe(l),l):(s=n,(l=Rt.get(r))&&(s=Oe({},n),Zu(s,l)),e=e.ownerDocument||e,l=e.createElement("script"),Fe(l),Ze(l,"link",s),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error($(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,jr(s,n.precedence,e));return t.instance}function jr(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,r=l,i=0;i<s.length;i++){var c=s[i];if(c.dataset.precedence===t)r=c;else if(r!==l)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nr=null;function Fh(e,t,n){if(Nr===null){var s=new Map,l=Nr=new Map;l.set(n,s)}else l=Nr,s=l.get(n),s||(s=new Map,l.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var r=n[l];if(!(r[Al]||r[Xe]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(t)||"";i=e+i;var c=s.get(i);c?c.push(r):s.set(i,[r])}}return s}function Qh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Y2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kx(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function X2(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=os(s.href),r=t.querySelector(Rl(l));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ri.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Fe(r);return}r=t.ownerDocument||t,s=_x(s),(l=Rt.get(l))&&Pu(s,l),r=r.createElement("link"),Fe(r);var i=r;i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Ze(r,"link",s),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ri.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Rc=0;function K2(e,t){return e.stylesheets&&e.count===0&&wr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&wr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Rc===0&&(Rc=62500*O2());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Rc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(l)}}:null}function ri(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ii=null;function wr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ii=new Map,t.forEach(P2,e),ii=null,ri.call(e))}function P2(e,t){if(!(t.state.loading&4)){var n=ii.get(e);if(n)var s=n.get(null);else{n=new Map,ii.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<l.length;r++){var i=l[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),s=i)}s&&n.set(null,s)}l=t.instance,i=l.getAttribute("data-precedence"),r=n.get(i)||s,r===s&&n.set(null,l),n.set(i,l),this.count++,s=ri.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),r?r.parentNode.insertBefore(l,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var pl={$$typeof:cn,Provider:null,Consumer:null,_currentValue:ha,_currentValue2:ha,_threadCount:0};function Z2(e,t,n,s,l,r,i,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ac(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ac(0),this.hiddenUpdates=ac(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Rx(e,t,n,s,l,r,i,c,o,d,f,h){return e=new Z2(e,t,n,i,o,d,f,h,c),t=1,r===!0&&(t|=24),r=mt(3,null,null,t),e.current=r,r.stateNode=e,t=wu(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:t},Tu(r),e}function zx(e){return e?(e=qa,e):qa}function Lx(e,t,n,s,l,r){l=zx(l),s.context===null?s.context=l:s.pendingContext=l,s=In(t),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=Hn(e,s,t),n!==null&&(it(n,e,t),Xs(n,e,t))}function Yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){Yh(e,t),(e=e.alternate)&&Yh(e,t)}function Vx(e){if(e.tag===13||e.tag===31){var t=Ea(e,67108864);t!==null&&it(t,e,67108864),Ju(e,67108864)}}function Xh(e){if(e.tag===13||e.tag===31){var t=bt();t=ou(t);var n=Ea(e,t);n!==null&&it(n,e,t),Ju(e,t)}}var ci=!0;function J2(e,t,n,s){var l=te.T;te.T=null;var r=ge.p;try{ge.p=2,Wu(e,t,n,s)}finally{ge.p=r,te.T=l}}function W2(e,t,n,s){var l=te.T;te.T=null;var r=ge.p;try{ge.p=8,Wu(e,t,n,s)}finally{ge.p=r,te.T=l}}function Wu(e,t,n,s){if(ci){var l=Io(s);if(l===null)_c(e,t,s,oi,n),Kh(e,s);else if(tb(l,e,t,n,s))s.stopPropagation();else if(Kh(e,s),t&4&&-1<eb.indexOf(e)){for(;l!==null;){var r=xs(l);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=ia(r.pendingLanes);if(i!==0){var c=r;for(c.pendingLanes|=2,c.entangledLanes|=2;i;){var o=1<<31-yt(i);c.entanglements[1]|=o,i&=~o}Jt(r),!(xe&6)&&(Jr=gt()+500,kl(0))}}break;case 31:case 13:c=Ea(r,2),c!==null&&it(c,r,2),Li(),Ju(r,2)}if(r=Io(s),r===null&&_c(e,t,s,oi,n),r===l)break;l=r}l!==null&&s.stopPropagation()}else _c(e,t,s,null,n)}}function Io(e){return e=fu(e),ed(e)}var oi=null;function ed(e){if(oi=null,e=Va(e),e!==null){var t=Sl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=am(t),e!==null)return e;e=null}else if(n===31){if(e=sm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oi=e,null}function Bx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Up()){case cm:return 2;case om:return 8;case Br:case Ip:return 32;case um:return 268435456;default:return 32}default:return 32}}var Ho=!1,Gn=null,Fn=null,Qn=null,yl=new Map,bl=new Map,Dn=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kh(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function ks(e,t,n,s,l,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[l]},t!==null&&(t=xs(t),t!==null&&Vx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function tb(e,t,n,s,l){switch(t){case"focusin":return Gn=ks(Gn,e,t,n,s,l),!0;case"dragenter":return Fn=ks(Fn,e,t,n,s,l),!0;case"mouseover":return Qn=ks(Qn,e,t,n,s,l),!0;case"pointerover":var r=l.pointerId;return yl.set(r,ks(yl.get(r)||null,e,t,n,s,l)),!0;case"gotpointercapture":return r=l.pointerId,bl.set(r,ks(bl.get(r)||null,e,t,n,s,l)),!0}return!1}function Ux(e){var t=Va(e.target);if(t!==null){var n=Sl(t);if(n!==null){if(t=n.tag,t===13){if(t=am(n),t!==null){e.blockedOn=t,kd(e.priority,function(){Xh(n)});return}}else if(t===31){if(t=sm(n),t!==null){e.blockedOn=t,kd(e.priority,function(){Xh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Io(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);so=s,n.target.dispatchEvent(s),so=null}else return t=xs(n),t!==null&&Vx(t),e.blockedOn=n,!1;t.shift()}return!0}function Ph(e,t,n){Sr(e)&&n.delete(t)}function nb(){Ho=!1,Gn!==null&&Sr(Gn)&&(Gn=null),Fn!==null&&Sr(Fn)&&(Fn=null),Qn!==null&&Sr(Qn)&&(Qn=null),yl.forEach(Ph),bl.forEach(Ph)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,nb)))}var sr=null;function Zh(e){sr!==e&&(sr=e,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,function(){sr===e&&(sr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],l=e[t+2];if(typeof s!="function"){if(ed(s||n)===null)continue;break}var r=xs(n);r!==null&&(e.splice(t,3),t-=3,jo(r,{pending:!0,data:l,method:n.method,action:s},s,l))}}))}function us(e){function t(o){return ar(o,e)}Gn!==null&&ar(Gn,e),Fn!==null&&ar(Fn,e),Qn!==null&&ar(Qn,e),yl.forEach(t),bl.forEach(t);for(var n=0;n<Dn.length;n++){var s=Dn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)Ux(n),n.blockedOn===null&&Dn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var l=n[s],r=n[s+1],i=l[ut]||null;if(typeof r=="function")i||Zh(n);else if(i){var c=null;if(r&&r.hasAttribute("formAction")){if(l=r,i=r[ut]||null)c=i.formAction;else if(ed(l)!==null)continue}else c=i.action;typeof c=="function"?n[s+1]=c:(n.splice(s,3),s-=3),Zh(n)}}}function Ix(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(i){return l=i})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function td(e){this._internalRoot=e}Ui.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));var n=t.current,s=bt();Lx(n,s,e,t,null,null)};Ui.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lx(e.current,2,null,e,null,null),Li(),t[ms]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=xm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&Ux(e)}};var Jh=tm.version;if(Jh!=="19.2.3")throw Error($(527,Jh,"19.2.3"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=_p(t),e=e!==null?lm(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{Cl=lr.inject(ab),pt=lr}catch{}}Ni.createRoot=function(e,t){if(!nm(e))throw Error($(299));var n=!1,s="",l=M0,r=_0,i=k0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rx(e,1,!1,null,null,n,s,null,l,r,i,Ix),e[ms]=t.current,Ku(e),new td(t)};Ni.hydrateRoot=function(e,t,n){if(!nm(e))throw Error($(299));var s=!1,l="",r=M0,i=_0,c=k0,o=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Rx(e,1,!0,t,n??null,s,l,o,r,i,c,Ix),t.context=zx(null),n=t.current,s=bt(),s=ou(s),l=In(s),l.callback=null,Hn(n,l,s),n=s,t.current.lanes=n,El(t,n),Jt(t),e[ms]=t.current,Ku(e),new Ui(t)};Ni.version="19.2.3";function Hx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hx)}catch(e){console.error(e)}}Hx(),Kf.exports=Ni;var sb=Kf.exports;const lb=Uf(sb);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wh="popstate";function rb(e={}){function t(s,l){let{pathname:r,search:i,hash:c}=s.location;return $o("",{pathname:r,search:i,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:vl(l)}return cb(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ib(){return Math.random().toString(36).substring(2,10)}function ef(e,t){return{usr:e.state,key:e.key,idx:t}}function $o(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?js(t):t,state:n,key:t&&t.key||s||ib()}}function vl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function cb(e,t,n,s={}){let{window:l=document.defaultView,v5Compat:r=!1}=s,i=l.history,c="POP",o=null,d=f();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function f(){return(i.state||{idx:null}).idx}function h(){c="POP";let w=f(),y=w==null?null:w-d;d=w,o&&o({action:c,location:S.location,delta:y})}function p(w,y){c="PUSH";let u=$o(S.location,w,y);d=f()+1;let m=ef(u,d),j=S.createHref(u);try{i.pushState(m,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;l.location.assign(j)}r&&o&&o({action:c,location:S.location,delta:1})}function g(w,y){c="REPLACE";let u=$o(S.location,w,y);d=f();let m=ef(u,d),j=S.createHref(u);i.replaceState(m,"",j),r&&o&&o({action:c,location:S.location,delta:0})}function b(w){return ob(w)}let S={get action(){return c},get location(){return e(l,i)},listen(w){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(Wh,h),o=w,()=>{l.removeEventListener(Wh,h),o=null}},createHref(w){return t(l,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(w){return i.go(w)}};return S}function ob(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Me(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:vl(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $x(e,t,n="/"){return ub(e,t,n,!1)}function ub(e,t,n,s){let l=typeof t=="string"?js(t):t,r=jn(l.pathname||"/",n);if(r==null)return null;let i=qx(e);db(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let d=Nb(r);c=vb(i[o],d,s)}return c}function qx(e,t=[],n=[],s="",l=!1){let r=(i,c,o=l,d)=>{let f={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&o)return;Me(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let h=mn([s,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&(Me(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),qx(i.children,t,p,h,o)),!(i.path==null&&!i.index)&&t.push({path:h,score:yb(h,i.index),routesMeta:p})};return e.forEach((i,c)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,c);else for(let d of Gx(i.path))r(i,c,!0,d)}),t}function Gx(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return l?[r,""]:[r];let i=Gx(s.join("/")),c=[];return c.push(...i.map(o=>o===""?r:[r,o].join("/"))),l&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function db(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var hb=/^:[\w-]+$/,fb=3,mb=2,xb=1,gb=10,pb=-2,tf=e=>e==="*";function yb(e,t){let n=e.split("/"),s=n.length;return n.some(tf)&&(s+=pb),t&&(s+=mb),n.filter(l=>!tf(l)).reduce((l,r)=>l+(hb.test(r)?fb:r===""?xb:gb),s)}function bb(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function vb(e,t,n=!1){let{routesMeta:s}=e,l={},r="/",i=[];for(let c=0;c<s.length;++c){let o=s[c],d=c===s.length-1,f=r==="/"?t:t.slice(r.length)||"/",h=ui({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},f),p=o.route;if(!h&&d&&n&&!s[s.length-1].route.index&&(h=ui({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},f)),!h)return null;Object.assign(l,h.params),i.push({params:l,pathname:mn([r,h.pathname]),pathnameBase:Tb(mn([r,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(r=mn([r,h.pathnameBase]))}return i}function ui(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=jb(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let r=l[0],i=r.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:s.reduce((d,{paramName:f,isOptional:h},p)=>{if(f==="*"){let b=c[p]||"";i=r.slice(0,r.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[p];return h&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:i,pattern:e}}function jb(e,t=!1,n=!0){Nt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Nb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var Fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wb=e=>Fx.test(e);function Sb(e,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?js(e):e,r;if(n)if(wb(n))r=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Nt(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${n}`)}n.startsWith("/")?r=nf(n.substring(1),"/"):r=nf(n,t)}else r=t;return{pathname:r,search:Eb(s),hash:Ab(l)}}function nf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function zc(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nd(e){let t=Cb(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function ad(e,t,n,s=!1){let l;typeof e=="string"?l=js(e):(l={...e},Me(!l.pathname||!l.pathname.includes("?"),zc("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),zc("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),zc("#","search","hash",l)));let r=e===""||l.pathname==="",i=r?"/":l.pathname,c;if(i==null)c=n;else{let h=t.length-1;if(!s&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;l.pathname=p.join("/")}c=h>=0?t[h]:"/"}let o=Sb(l,c),d=i&&i!=="/"&&i.endsWith("/"),f=(r||i===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(d||f)&&(o.pathname+="/"),o}var mn=e=>e.join("/").replace(/\/\/+/g,"/"),Tb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Eb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ab=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ob=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Db(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Mb(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yx(e,t){let n=e;if(typeof n!="string"||!Fx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(Qx)try{let r=new URL(window.location.href),i=n.startsWith("//")?new URL(r.protocol+n):new URL(n),c=jn(i.pathname,t);i.origin===r.origin&&c!=null?n=c+i.search+i.hash:l=!0}catch{Nt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xx=["POST","PUT","PATCH","DELETE"];new Set(Xx);var _b=["GET",...Xx];new Set(_b);var Ns=x.createContext(null);Ns.displayName="DataRouter";var Ii=x.createContext(null);Ii.displayName="DataRouterState";var kb=x.createContext(!1),Kx=x.createContext({isTransitioning:!1});Kx.displayName="ViewTransition";var Rb=x.createContext(new Map);Rb.displayName="Fetchers";var zb=x.createContext(null);zb.displayName="Await";var wt=x.createContext(null);wt.displayName="Navigation";var Ll=x.createContext(null);Ll.displayName="Location";var zt=x.createContext({outlet:null,matches:[],isDataRoute:!1});zt.displayName="Route";var sd=x.createContext(null);sd.displayName="RouteError";var Px="REACT_ROUTER_ERROR",Lb="REDIRECT",Vb="ROUTE_ERROR_RESPONSE";function Bb(e){if(e.startsWith(`${Px}:${Lb}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Ub(e){if(e.startsWith(`${Px}:${Vb}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ob(t.status,t.statusText,t.data)}catch{}}function Ib(e,{relative:t}={}){Me(ws(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=x.useContext(wt),{hash:l,pathname:r,search:i}=Vl(e,{relative:t}),c=r;return n!=="/"&&(c=r==="/"?n:mn([n,r])),s.createHref({pathname:c,search:i,hash:l})}function ws(){return x.useContext(Ll)!=null}function It(){return Me(ws(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ll).location}var Zx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jx(e){x.useContext(wt).static||x.useLayoutEffect(e)}function de(){let{isDataRoute:e}=x.useContext(zt);return e?t1():Hb()}function Hb(){Me(ws(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Ns),{basename:t,navigator:n}=x.useContext(wt),{matches:s}=x.useContext(zt),{pathname:l}=It(),r=JSON.stringify(nd(s)),i=x.useRef(!1);return Jx(()=>{i.current=!0}),x.useCallback((o,d={})=>{if(Nt(i.current,Zx),!i.current)return;if(typeof o=="number"){n.go(o);return}let f=ad(o,JSON.parse(r),l,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,r,l,e])}var $b=x.createContext(null);function qb(e){let t=x.useContext(zt).outlet;return x.useMemo(()=>t&&x.createElement($b.Provider,{value:e},t),[t,e])}function Oa(){let{matches:e}=x.useContext(zt),t=e[e.length-1];return t?t.params:{}}function Vl(e,{relative:t}={}){let{matches:n}=x.useContext(zt),{pathname:s}=It(),l=JSON.stringify(nd(n));return x.useMemo(()=>ad(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function Gb(e,t){return Wx(e,t)}function Wx(e,t,n,s,l){var u;Me(ws(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=x.useContext(wt),{matches:i}=x.useContext(zt),c=i[i.length-1],o=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",h=c&&c.route;{let m=h&&h.path||"";tg(d,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let p=It(),g;if(t){let m=typeof t=="string"?js(t):t;Me(f==="/"||((u=m.pathname)==null?void 0:u.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${m.pathname}" was given in the \`location\` prop.`),g=m}else g=p;let b=g.pathname||"/",S=b;if(f!=="/"){let m=f.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=$x(e,{pathname:S});Nt(h||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Nt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Kb(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:mn([f,r.encodeLocation?r.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?f:mn([f,r.encodeLocation?r.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),i,n,s,l);return t&&y?x.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function Fb(){let e=e1(),t=Db(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:r},"ErrorBoundary")," or"," ",x.createElement("code",{style:r},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:l},n):null,i)}var Qb=x.createElement(Fb,null),eg=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=Ub(e.digest);n&&(e=n)}let t=e!==void 0?x.createElement(zt.Provider,{value:this.props.routeContext},x.createElement(sd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(Yb,{error:e},t):t}};eg.contextType=kb;var Lc=new WeakMap;function Yb({children:e,error:t}){let{basename:n}=x.useContext(wt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Bb(t.digest);if(s){let l=Lc.get(t);if(l)throw l;let r=Yx(s.location,n);if(Qx&&!Lc.get(t))if(r.isExternal||s.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:s.replace}));throw Lc.set(t,i),i}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return e}function Xb({routeContext:e,match:t,children:n}){let s=x.useContext(Ns);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(zt.Provider,{value:e},n)}function Kb(e,t=[],n=null,s=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,i=n==null?void 0:n.errors;if(i!=null){let f=r.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);Me(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,o=-1;if(n)for(let f=0;f<r.length;f++){let h=r[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=f),h.route.id){let{loaderData:p,errors:g}=n,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}let d=n&&s?(f,h)=>{var p,g;s(f,{location:n.location,params:((g=(p=n.matches)==null?void 0:p[0])==null?void 0:g.params)??{},unstable_pattern:Mb(n.matches),errorInfo:h})}:void 0;return r.reduceRight((f,h,p)=>{let g,b=!1,S=null,w=null;n&&(g=i&&h.route.id?i[h.route.id]:void 0,S=h.route.errorElement||Qb,c&&(o<0&&p===0?(tg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):o===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,p+1)),u=()=>{let m;return g?m=S:b?m=w:h.route.Component?m=x.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=f,x.createElement(Xb,{match:h,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?x.createElement(eg,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:u(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:d}):u()},null)}function ld(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(e){let t=x.useContext(Ns);return Me(t,ld(e)),t}function Zb(e){let t=x.useContext(Ii);return Me(t,ld(e)),t}function Jb(e){let t=x.useContext(zt);return Me(t,ld(e)),t}function rd(e){let t=Jb(e),n=t.matches[t.matches.length-1];return Me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Wb(){return rd("useRouteId")}function e1(){var s;let e=x.useContext(sd),t=Zb("useRouteError"),n=rd("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function t1(){let{router:e}=Pb("useNavigate"),t=rd("useNavigate"),n=x.useRef(!1);return Jx(()=>{n.current=!0}),x.useCallback(async(l,r={})=>{Nt(n.current,Zx),n.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:t,...r}))},[e,t])}var af={};function tg(e,t,n){!t&&!af[e]&&(af[e]=!0,Nt(!1,n))}x.memo(n1);function n1({routes:e,future:t,state:n,onError:s}){return Wx(e,void 0,n,s,t)}function Wn({to:e,replace:t,state:n,relative:s}){Me(ws(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(wt);Nt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=x.useContext(zt),{pathname:i}=It(),c=de(),o=ad(e,nd(r),i,s==="path"),d=JSON.stringify(o);return x.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:s})},[c,d,s,t,n]),null}function Hi(e){return qb(e.context)}function ce(e){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a1({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:r=!1,unstable_useTransitions:i}){Me(!ws(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:c,navigator:l,static:r,unstable_useTransitions:i,future:{}}),[c,l,r,i]);typeof n=="string"&&(n=js(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,b=x.useMemo(()=>{let S=jn(d,c);return S==null?null:{location:{pathname:S,search:f,hash:h,state:p,key:g},navigationType:s}},[c,d,f,h,p,g,s]);return Nt(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(wt.Provider,{value:o},x.createElement(Ll.Provider,{children:t,value:b}))}function s1({children:e,location:t}){return Gb(qo(e),t)}function qo(e,t=[]){let n=[];return x.Children.forEach(e,(s,l)=>{if(!x.isValidElement(s))return;let r=[...t,l];if(s.type===x.Fragment){n.push.apply(n,qo(s.props.children,r));return}Me(s.type===ce,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=qo(s.props.children,r)),n.push(i)}),n}var Cr="get",Tr="application/x-www-form-urlencoded";function $i(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function l1(e){return $i(e)&&e.tagName.toLowerCase()==="button"}function r1(e){return $i(e)&&e.tagName.toLowerCase()==="form"}function i1(e){return $i(e)&&e.tagName.toLowerCase()==="input"}function c1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o1(e,t){return e.button===0&&(!t||t==="_self")&&!c1(e)}function Go(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(l=>[n,l]):[[n,s]])},[]))}function u1(e,t){let n=Go(e);return t&&t.forEach((s,l)=>{n.has(l)||t.getAll(l).forEach(r=>{n.append(l,r)})}),n}var rr=null;function d1(){if(rr===null)try{new FormData(document.createElement("form"),0),rr=!1}catch{rr=!0}return rr}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vc(e){return e!=null&&!h1.has(e)?(Nt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tr}"`),null):e}function f1(e,t){let n,s,l,r,i;if(r1(e)){let c=e.getAttribute("action");s=c?jn(c,t):null,n=e.getAttribute("method")||Cr,l=Vc(e.getAttribute("enctype"))||Tr,r=new FormData(e)}else if(l1(e)||i1(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||c.getAttribute("action");if(s=o?jn(o,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Cr,l=Vc(e.getAttribute("formenctype"))||Vc(c.getAttribute("enctype"))||Tr,r=new FormData(c,e),!d1()){let{name:d,type:f,value:h}=e;if(f==="image"){let p=d?`${d}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else d&&r.append(d,h)}}else{if($i(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cr,s=null,l=Tr,i=e}return r&&l==="text/plain"&&(i=r,r=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:r,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function id(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function m1(e,t,n,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:t&&jn(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function x1(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p1(e,t,n){let s=await Promise.all(e.map(async l=>{let r=t.routes[l.route.id];if(r){let i=await x1(r,n);return i.links?i.links():[]}return[]}));return j1(s.flat(1).filter(g1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function sf(e,t,n,s,l,r){let i=(o,d)=>n[d]?o.route.id!==n[d].route.id:!0,c=(o,d)=>{var f;return n[d].pathname!==o.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==o.params["*"]};return r==="assets"?t.filter((o,d)=>i(o,d)||c(o,d)):r==="data"?t.filter((o,d)=>{var h;let f=s.routes[o.route.id];if(!f||!f.hasLoader)return!1;if(i(o,d)||c(o,d))return!0;if(o.route.shouldRevalidate){let p=o.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function y1(e,t,{includeHydrateFallback:n}={}){return b1(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let r=[l.module];return l.clientActionModule&&(r=r.concat(l.clientActionModule)),l.clientLoaderModule&&(r=r.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(r=r.concat(l.hydrateFallbackModule)),l.imports&&(r=r.concat(l.imports)),r}).flat(1))}function b1(e){return[...new Set(e)]}function v1(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function j1(e,t){let n=new Set;return new Set(t),e.reduce((s,l)=>{let r=JSON.stringify(v1(l));return n.has(r)||(n.add(r),s.push({key:r,link:l})),s},[])}function ng(){let e=x.useContext(Ns);return id(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function N1(){let e=x.useContext(Ii);return id(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cd=x.createContext(void 0);cd.displayName="FrameworkContext";function ag(){let e=x.useContext(cd);return id(e,"You must render this element inside a <HydratedRouter> element"),e}function w1(e,t){let n=x.useContext(cd),[s,l]=x.useState(!1),[r,i]=x.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let S=y=>{y.forEach(u=>{i(u.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),x.useEffect(()=>{if(s){let S=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(S)}}},[s]);let g=()=>{l(!0)},b=()=>{l(!1),i(!1)};return n?e!=="intent"?[r,p,{}]:[r,p,{onFocus:Rs(c,g),onBlur:Rs(o,b),onMouseEnter:Rs(d,g),onMouseLeave:Rs(f,b),onTouchStart:Rs(h,g)}]:[!1,p,{}]}function Rs(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function S1({page:e,...t}){let{router:n}=ng(),s=x.useMemo(()=>$x(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?x.createElement(T1,{page:e,matches:s,...t}):null}function C1(e){let{manifest:t,routeModules:n}=ag(),[s,l]=x.useState([]);return x.useEffect(()=>{let r=!1;return p1(e,t,n).then(i=>{r||l(i)}),()=>{r=!0}},[e,t,n]),s}function T1({page:e,matches:t,...n}){let s=It(),{future:l,manifest:r,routeModules:i}=ag(),{basename:c}=ng(),{loaderData:o,matches:d}=N1(),f=x.useMemo(()=>sf(e,t,d,r,s,"data"),[e,t,d,r,s]),h=x.useMemo(()=>sf(e,t,d,r,s,"assets"),[e,t,d,r,s]),p=x.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(t.forEach(u=>{var j;let m=r.routes[u.route.id];!m||!m.hasLoader||(!f.some(N=>N.route.id===u.route.id)&&u.route.id in o&&((j=i[u.route.id])!=null&&j.shouldRevalidate)||m.hasClientLoader?w=!0:S.add(u.route.id))}),S.size===0)return[];let y=m1(e,c,l.unstable_trailingSlashAwareDataRequests,"data");return w&&S.size>0&&y.searchParams.set("_routes",t.filter(u=>S.has(u.route.id)).map(u=>u.route.id).join(",")),[y.pathname+y.search]},[c,l.unstable_trailingSlashAwareDataRequests,o,s,r,f,t,e,i]),g=x.useMemo(()=>y1(h,r),[h,r]),b=C1(h);return x.createElement(x.Fragment,null,p.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:w})=>x.createElement("link",{key:S,nonce:n.nonce,...w})))}function E1(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A1&&(window.__reactRouterVersion="7.12.0")}catch{}function O1({basename:e,children:t,unstable_useTransitions:n,window:s}){let l=x.useRef();l.current==null&&(l.current=rb({window:s,v5Compat:!0}));let r=l.current,[i,c]=x.useState({action:r.action,location:r.location}),o=x.useCallback(d=>{n===!1?c(d):x.startTransition(()=>c(d))},[n]);return x.useLayoutEffect(()=>r.listen(o),[r,o]),x.createElement(a1,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:r,unstable_useTransitions:n})}var sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lg=x.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:r,replace:i,state:c,target:o,to:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p,...g},b){let{basename:S,unstable_useTransitions:w}=x.useContext(wt),y=typeof d=="string"&&sg.test(d),u=Yx(d,S);d=u.to;let m=Ib(d,{relative:l}),[j,N,O]=w1(s,g),E=k1(d,{replace:i,state:c,target:o,preventScrollReset:f,relative:l,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:w});function v(A){t&&t(A),A.defaultPrevented||E(A)}let C=x.createElement("a",{...g,...O,href:u.absoluteURL||m,onClick:u.isExternal||r?t:v,ref:E1(b,N),target:o,"data-discover":!y&&n==="render"?"true":void 0});return j&&!y?x.createElement(x.Fragment,null,C,x.createElement(S1,{page:m})):C});lg.displayName="Link";var D1=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:r,to:i,viewTransition:c,children:o,...d},f){let h=Vl(i,{relative:d.relative}),p=It(),g=x.useContext(Ii),{navigator:b,basename:S}=x.useContext(wt),w=g!=null&&B1(h)&&c===!0,y=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,u=p.pathname,m=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(u=u.toLowerCase(),m=m?m.toLowerCase():null,y=y.toLowerCase()),m&&S&&(m=jn(m,S)||m);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let N=u===y||!l&&u.startsWith(y)&&u.charAt(j)==="/",O=m!=null&&(m===y||!l&&m.startsWith(y)&&m.charAt(y.length)==="/"),E={isActive:N,isPending:O,isTransitioning:w},v=N?t:void 0,C;typeof s=="function"?C=s(E):C=[s,N?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A=typeof r=="function"?r(E):r;return x.createElement(lg,{...d,"aria-current":v,className:C,ref:f,style:A,to:i,viewTransition:c},typeof o=="function"?o(E):o)});D1.displayName="NavLink";var M1=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:r,method:i=Cr,action:c,onSubmit:o,relative:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p,...g},b)=>{let{unstable_useTransitions:S}=x.useContext(wt),w=L1(),y=V1(c,{relative:d}),u=i.toLowerCase()==="get"?"get":"post",m=typeof c=="string"&&sg.test(c),j=N=>{if(o&&o(N),N.defaultPrevented)return;N.preventDefault();let O=N.nativeEvent.submitter,E=(O==null?void 0:O.getAttribute("formmethod"))||i,v=()=>w(O||N.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:l,state:r,relative:d,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p});S&&n!==!1?x.startTransition(()=>v()):v()};return x.createElement("form",{ref:b,method:u,action:y,onSubmit:s?o:j,...g,"data-discover":!m&&e==="render"?"true":void 0})});M1.displayName="Form";function _1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rg(e){let t=x.useContext(Ns);return Me(t,_1(e)),t}function k1(e,{target:t,replace:n,state:s,preventScrollReset:l,relative:r,viewTransition:i,unstable_defaultShouldRevalidate:c,unstable_useTransitions:o}={}){let d=de(),f=It(),h=Vl(e,{relative:r});return x.useCallback(p=>{if(o1(p,t)){p.preventDefault();let g=n!==void 0?n:vl(f)===vl(h),b=()=>d(e,{replace:g,state:s,preventScrollReset:l,relative:r,viewTransition:i,unstable_defaultShouldRevalidate:c});o?x.startTransition(()=>b()):b()}},[f,d,h,n,s,t,e,l,r,i,c,o])}function ig(e){Nt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Go(e)),n=x.useRef(!1),s=It(),l=x.useMemo(()=>u1(s.search,n.current?null:t.current),[s.search]),r=de(),i=x.useCallback((c,o)=>{const d=Go(typeof c=="function"?c(new URLSearchParams(l)):c);n.current=!0,r("?"+d,o)},[r,l]);return[l,i]}var R1=0,z1=()=>`__${String(++R1)}__`;function L1(){let{router:e}=rg("useSubmit"),{basename:t}=x.useContext(wt),n=Wb(),s=e.fetch,l=e.navigate;return x.useCallback(async(r,i={})=>{let{action:c,method:o,encType:d,formData:f,body:h}=f1(r,t);if(i.navigate===!1){let p=i.fetcherKey||z1();await s(p,n,i.action||c,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||d,flushSync:i.flushSync})}else await l(i.action||c,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,l,t,n])}function V1(e,{relative:t}={}){let{basename:n}=x.useContext(wt),s=x.useContext(zt);Me(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),r={...Vl(e||".",{relative:t})},i=It();if(e==null){r.search=i.search;let c=new URLSearchParams(r.search),o=c.getAll("index");if(o.some(f=>f==="")){c.delete("index"),o.filter(h=>h).forEach(h=>c.append("index",h));let f=c.toString();r.search=f?`?${f}`:""}}return(!e||e===".")&&l.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:mn([n,r.pathname])),vl(r)}function B1(e,{relative:t}={}){let n=x.useContext(Kx);Me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rg("useViewTransitionState"),l=Vl(e,{relative:t});if(!n.isTransitioning)return!1;let r=jn(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=jn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ui(l.pathname,i)!=null||ui(l.pathname,r)!=null}function U1(){const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==1?a.jsx(Wn,{to:"/",replace:!0}):a.jsx(Hi,{}):a.jsx(Wn,{to:"/login",replace:!0})}function I1(){const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==3?a.jsx(Wn,{to:"/",replace:!0}):a.jsx(Hi,{}):a.jsx(Wn,{to:"/login",replace:!0})}function H1(){const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==2?a.jsx(Wn,{to:"/",replace:!0}):a.jsx(Hi,{}):a.jsx(Wn,{to:"/login",replace:!0})}const $1=()=>{const e=Number(sessionStorage.getItem("roleId"));return sessionStorage.getItem("token")?e!==4?(console.log(`StaffGuard - Invalid role: ${e}, required: 4, redirecting to home`),a.jsx(Wn,{to:"/",replace:!0})):(console.log("StaffGuard - Access granted for staff"),a.jsx(Hi,{})):(console.log("StaffGuard - No token found, redirecting to login"),a.jsx(Wn,{to:"/login",replace:!0}))},Pt=Object.create(null);Pt.open="0";Pt.close="1";Pt.ping="2";Pt.pong="3";Pt.message="4";Pt.upgrade="5";Pt.noop="6";const Er=Object.create(null);Object.keys(Pt).forEach(e=>{Er[Pt[e]]=e});const Fo={type:"error",data:"parser error"},cg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",og=typeof ArrayBuffer=="function",ug=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,od=({type:e,data:t},n,s)=>cg&&t instanceof Blob?n?s(t):lf(t,s):og&&(t instanceof ArrayBuffer||ug(t))?n?s(t):lf(new Blob([t]),s):s(Pt[e]+(t||"")),lf=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function rf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Bc;function q1(e,t){if(cg&&e.data instanceof Blob)return e.data.arrayBuffer().then(rf).then(t);if(og&&(e.data instanceof ArrayBuffer||ug(e.data)))return t(rf(e.data));od(e,!1,n=>{Bc||(Bc=new TextEncoder),t(Bc.encode(n))})}const cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$s=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<cf.length;e++)$s[cf.charCodeAt(e)]=e;const G1=e=>{let t=e.length*.75,n=e.length,s,l=0,r,i,c,o;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),f=new Uint8Array(d);for(s=0;s<n;s+=4)r=$s[e.charCodeAt(s)],i=$s[e.charCodeAt(s+1)],c=$s[e.charCodeAt(s+2)],o=$s[e.charCodeAt(s+3)],f[l++]=r<<2|i>>4,f[l++]=(i&15)<<4|c>>2,f[l++]=(c&3)<<6|o&63;return d},F1=typeof ArrayBuffer=="function",ud=(e,t)=>{if(typeof e!="string")return{type:"message",data:dg(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Q1(e.substring(1),t)}:Er[n]?e.length>1?{type:Er[n],data:e.substring(1)}:{type:Er[n]}:Fo},Q1=(e,t)=>{if(F1){const n=G1(e);return dg(n,t)}else return{base64:!0,data:e}},dg=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},hg="",Y1=(e,t)=>{const n=e.length,s=new Array(n);let l=0;e.forEach((r,i)=>{od(r,!1,c=>{s[i]=c,++l===n&&t(s.join(hg))})})},X1=(e,t)=>{const n=e.split(hg),s=[];for(let l=0;l<n.length;l++){const r=ud(n[l],t);if(s.push(r),r.type==="error")break}return s};function K1(){return new TransformStream({transform(e,t){q1(e,n=>{const s=n.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const r=new DataView(l.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{l=new Uint8Array(9);const r=new DataView(l.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(l[0]|=128),t.enqueue(l),t.enqueue(n)})}})}let Uc;function ir(e){return e.reduce((t,n)=>t+n.length,0)}function cr(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let l=0;l<t;l++)n[l]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function P1(e,t){Uc||(Uc=new TextDecoder);const n=[];let s=0,l=-1,r=!1;return new TransformStream({transform(i,c){for(n.push(i);;){if(s===0){if(ir(n)<1)break;const o=cr(n,1);r=(o[0]&128)===128,l=o[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(ir(n)<2)break;const o=cr(n,2);l=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),s=3}else if(s===2){if(ir(n)<8)break;const o=cr(n,8),d=new DataView(o.buffer,o.byteOffset,o.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(Fo);break}l=f*Math.pow(2,32)+d.getUint32(4),s=3}else{if(ir(n)<l)break;const o=cr(n,l);c.enqueue(ud(r?o:Uc.decode(o),t)),s=0}if(l===0||l>e){c.enqueue(Fo);break}}}})}const fg=4;function He(e){if(e)return Z1(e)}function Z1(e){for(var t in He.prototype)e[t]=He.prototype[t];return e}He.prototype.on=He.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};He.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};He.prototype.off=He.prototype.removeListener=He.prototype.removeAllListeners=He.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,l=0;l<n.length;l++)if(s=n[l],s===t||s.fn===t){n.splice(l,1);break}return n.length===0&&delete this._callbacks["$"+e],this};He.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,l=n.length;s<l;++s)n[s].apply(this,t)}return this};He.prototype.emitReserved=He.prototype.emit;He.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};He.prototype.hasListeners=function(e){return!!this.listeners(e).length};const qi=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),At=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),J1="arraybuffer";function mg(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const W1=At.setTimeout,ev=At.clearTimeout;function Gi(e,t){t.useNativeTimers?(e.setTimeoutFn=W1.bind(At),e.clearTimeoutFn=ev.bind(At)):(e.setTimeoutFn=At.setTimeout.bind(At),e.clearTimeoutFn=At.clearTimeout.bind(At))}const tv=1.33;function nv(e){return typeof e=="string"?av(e):Math.ceil((e.byteLength||e.size)*tv)}function av(e){let t=0,n=0;for(let s=0,l=e.length;s<l;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function xg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function sv(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function lv(e){let t={},n=e.split("&");for(let s=0,l=n.length;s<l;s++){let r=n[s].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class rv extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class dd extends He{constructor(t){super(),this.writable=!1,Gi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new rv(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ud(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=sv(t);return n.length?"?"+n:""}}class iv extends dd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};X1(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Y1(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=xg()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let gg=!1;try{gg=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cv=gg;function ov(){}class uv extends iv{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(l,r)=>{this.onError("xhr post error",l,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Xt extends He{constructor(t,n,s){super(),this.createRequest=t,Gi(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=mg(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=Xt.requestsCount++,Xt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ov,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Xt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Xt.requestsCount=0;Xt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",of);else if(typeof addEventListener=="function"){const e="onpagehide"in At?"pagehide":"unload";addEventListener(e,of,!1)}}function of(){for(let e in Xt.requests)Xt.requests.hasOwnProperty(e)&&Xt.requests[e].abort()}const dv=function(){const e=pg({xdomain:!1});return e&&e.responseType!==null}();class hv extends uv{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=dv&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Xt(pg,this.uri(),t)}}function pg(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||cv))return new XMLHttpRequest}catch{}if(!t)try{return new At[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const yg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class fv extends dd{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=yg?{}:mg(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],l=n===t.length-1;od(s,this.supportsBinary,r=>{try{this.doWrite(s,r)}catch{}l&&qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=xg()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ic=At.WebSocket||At.MozWebSocket;class mv extends fv{createSocket(t,n,s){return yg?new Ic(t,n,s):n?new Ic(t,n):new Ic(t)}doWrite(t,n){this.ws.send(n)}}class xv extends dd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=P1(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),l=K1();l.readable.pipeTo(t.writable),this._writer=l.writable.getWriter();const r=()=>{s.read().then(({done:c,value:o})=>{c||(this.onPacket(o),r())}).catch(c=>{})};r();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],l=n===t.length-1;this._writer.write(s).then(()=>{l&&qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const gv={websocket:mv,webtransport:xv,polling:hv},pv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qo(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let l=pv.exec(e||""),r={},i=14;for(;i--;)r[yv[i]]=l[i]||"";return n!=-1&&s!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=bv(r,r.path),r.queryKey=vv(r,r.query),r}function bv(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function vv(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,r){l&&(n[l]=r)}),n}const Yo=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ar=[];Yo&&addEventListener("offline",()=>{Ar.forEach(e=>e())},!1);class Yn extends He{constructor(t,n){if(super(),this.binaryType=J1,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=Qo(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Qo(n.host).host);Gi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=lv(this.opts.query)),Yo&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ar.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=fg,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Yn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Yn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(n+=nv(l)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,qi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,l){if(typeof n=="function"&&(l=n,n=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:t,data:n,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),l&&this.once("flush",l),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(Yn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yo&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Ar.indexOf(this._offlineEventListener);s!==-1&&Ar.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Yn.protocol=fg;class jv extends Yn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;Yn.priorWebsocketSuccess=!1;const l=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Yn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function r(){s||(s=!0,f(),n.close(),n=null)}const i=h=>{const p=new Error("probe error: "+h);p.transport=n.name,r(),this.emitReserved("upgradeError",p)};function c(){i("transport closed")}function o(){i("socket closed")}function d(h){n&&h.name!==n.name&&r()}const f=()=>{n.removeListener("open",l),n.removeListener("error",i),n.removeListener("close",c),this.off("close",o),this.off("upgrading",d)};n.once("open",l),n.once("error",i),n.once("close",c),this.once("close",o),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let Nv=class extends jv{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>gv[l]).filter(l=>!!l)),super(t,s)}};function wv(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Qo(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+t,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}const Sv=typeof ArrayBuffer=="function",Cv=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,bg=Object.prototype.toString,Tv=typeof Blob=="function"||typeof Blob<"u"&&bg.call(Blob)==="[object BlobConstructor]",Ev=typeof File=="function"||typeof File<"u"&&bg.call(File)==="[object FileConstructor]";function hd(e){return Sv&&(e instanceof ArrayBuffer||Cv(e))||Tv&&e instanceof Blob||Ev&&e instanceof File}function Or(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Or(e[n]))return!0;return!1}if(hd(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Or(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Or(e[n]))return!0;return!1}function Av(e){const t=[],n=e.data,s=e;return s.data=Xo(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Xo(e,t){if(!e)return e;if(hd(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Xo(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Xo(e[s],t));return n}return e}function Ov(e,t){return e.data=Ko(e.data,t),delete e.attachments,e}function Ko(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ko(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ko(e[n],t));return e}const vg=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Dv=5;var ie;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ie||(ie={}));class Mv{constructor(t){this.replacer=t}encode(t){return(t.type===ie.EVENT||t.type===ie.ACK)&&Or(t)?this.encodeAsBinary({type:t.type===ie.EVENT?ie.BINARY_EVENT:ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ie.BINARY_EVENT||t.type===ie.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Av(t),s=this.encodeAsString(n.packet),l=n.buffers;return l.unshift(s),l}}class fd extends He{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===ie.BINARY_EVENT;s||n.type===ie.BINARY_ACK?(n.type=s?ie.EVENT:ie.ACK,this.reconstructor=new _v(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(hd(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(ie[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ie.BINARY_EVENT||s.type===ie.BINARY_ACK){const r=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(r,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(i)}if(t.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(r,n)}else s.nsp="/";const l=t.charAt(n+1);if(l!==""&&Number(l)==l){const r=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}s.id=Number(t.substring(r,n+1))}if(t.charAt(++n)){const r=this.tryParse(t.substr(n));if(fd.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ie.CONNECT:return di(n);case ie.DISCONNECT:return n===void 0;case ie.CONNECT_ERROR:return typeof n=="string"||di(n);case ie.EVENT:case ie.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&vg.indexOf(n[0])===-1);case ie.ACK:case ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _v{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Ov(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function kv(e){return typeof e=="string"}const Rv=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function zv(e){return e===void 0||Rv(e)}function di(e){return Object.prototype.toString.call(e)==="[object Object]"}function Lv(e,t){switch(e){case ie.CONNECT:return t===void 0||di(t);case ie.DISCONNECT:return t===void 0;case ie.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&vg.indexOf(t[0])===-1);case ie.ACK:return Array.isArray(t);case ie.CONNECT_ERROR:return typeof t=="string"||di(t);default:return!1}}function Vv(e){return kv(e.nsp)&&zv(e.id)&&Lv(e.type,e.data)}const Bv=Object.freeze(Object.defineProperty({__proto__:null,Decoder:fd,Encoder:Mv,get PacketType(){return ie},isPacketValid:Vv,protocol:Dv},Symbol.toStringTag,{value:"Module"}));function Bt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Uv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jg extends He{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Bt(t,"open",this.onopen.bind(this)),Bt(t,"packet",this.onpacket.bind(this)),Bt(t,"error",this.onerror.bind(this)),Bt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,l,r;if(Uv.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:ie.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,h=n.pop();this._registerAckCallback(f,h),i.id=f}const c=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,o=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!c||(o?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[t]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},l),i=(...c)=>{this.io.clearTimeoutFn(r),n.apply(this,c)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((s,l)=>{const r=(i,c)=>i?l(i):s(c);r.withError=!0,n.push(r),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((l,...r)=>(this._queue[0],l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(l)):(this._queue.shift(),n&&n(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ie.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ie.EVENT:case ie.BINARY_EVENT:this.onevent(t);break;case ie.ACK:case ie.BINARY_ACK:this.onack(t);break;case ie.DISCONNECT:this.ondisconnect();break;case ie.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...l){s||(s=!0,n.packet({type:ie.ACK,id:t,data:l}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Ss(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ss.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ss.prototype.reset=function(){this.attempts=0};Ss.prototype.setMin=function(e){this.ms=e};Ss.prototype.setMax=function(e){this.max=e};Ss.prototype.setJitter=function(e){this.jitter=e};class Po extends He{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Gi(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ss({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const l=n.parser||Bv;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Nv(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=Bt(n,"open",function(){s.onopen(),t&&t()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},i=Bt(n,"error",r);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{l(),r(new Error("timeout")),n.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(l),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Bt(t,"ping",this.onping.bind(this)),Bt(t,"data",this.ondata.bind(this)),Bt(t,"error",this.onerror.bind(this)),Bt(t,"close",this.onclose.bind(this)),Bt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){qi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new jg(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(l=>{l?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",l)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const zs={};function Dr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=wv(e,t.path||"/socket.io"),s=n.source,l=n.id,r=n.path,i=zs[l]&&r in zs[l].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let o;return c?o=new Po(s,t):(zs[l]||(zs[l]=new Po(s,t)),o=zs[l]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Dr,{Manager:Po,Socket:jg,io:Dr,connect:Dr});const me="",Iv="",Ng=x.createContext(),md=()=>x.useContext(Ng),Hv=({children:e})=>{const[t,n]=x.useState(null),[s,l]=x.useState(!1),[r,i]=x.useState(()=>JSON.parse(sessionStorage.getItem("account")));return x.useEffect(()=>{const c=()=>{i(JSON.parse(sessionStorage.getItem("account")))};window.addEventListener("storage",c);const o=()=>c();return window.addEventListener("account-update",o),()=>{window.removeEventListener("storage",c),window.removeEventListener("account-update",o)}},[]),x.useEffect(()=>{const c=Dr(Iv,{transports:["websocket","polling"],withCredentials:!0});return c.on("connect",()=>{console.log("Socket connected:",c.id),l(!0)}),c.on("disconnect",()=>{console.log("Socket disconnected"),l(!1)}),n(c),()=>{c.disconnect()}},[]),x.useEffect(()=>{t&&s&&(r!=null&&r.AccountId)&&(t.emit("registerUser",r.AccountId),console.log("Registered user",r.AccountId))},[t,s,r==null?void 0:r.AccountId]),a.jsx(Ng.Provider,{value:{socket:t,isConnected:s},children:e})};function wg(e,t){return function(){return e.apply(t,arguments)}}const{toString:$v}=Object.prototype,{getPrototypeOf:xd}=Object,{iterator:Fi,toStringTag:Sg}=Symbol,Qi=(e=>t=>{const n=$v.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=e=>(e=e.toLowerCase(),t=>Qi(t)===e),Yi=e=>t=>typeof t===e,{isArray:Cs}=Array,ds=Yi("undefined");function Bl(e){return e!==null&&!ds(e)&&e.constructor!==null&&!ds(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cg=Ht("ArrayBuffer");function qv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cg(e.buffer),t}const Gv=Yi("string"),ct=Yi("function"),Tg=Yi("number"),Ul=e=>e!==null&&typeof e=="object",Fv=e=>e===!0||e===!1,Mr=e=>{if(Qi(e)!=="object")return!1;const t=xd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Sg in e)&&!(Fi in e)},Qv=e=>{if(!Ul(e)||Bl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Yv=Ht("Date"),Xv=Ht("File"),Kv=Ht("Blob"),Pv=Ht("FileList"),Zv=e=>Ul(e)&&ct(e.pipe),Jv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Qi(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},Wv=Ht("URLSearchParams"),[ej,tj,nj,aj]=["ReadableStream","Request","Response","Headers"].map(Ht),sj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Il(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,l;if(typeof e!="object"&&(e=[e]),Cs(e))for(s=0,l=e.length;s<l;s++)t.call(null,e[s],s,e);else{if(Bl(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let c;for(s=0;s<i;s++)c=r[s],t.call(null,e[c],c,e)}}function Eg(e,t){if(Bl(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,l;for(;s-- >0;)if(l=n[s],t===l.toLowerCase())return l;return null}const ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ag=e=>!ds(e)&&e!==ua;function Zo(){const{caseless:e,skipUndefined:t}=Ag(this)&&this||{},n={},s=(l,r)=>{const i=e&&Eg(n,r)||r;Mr(n[i])&&Mr(l)?n[i]=Zo(n[i],l):Mr(l)?n[i]=Zo({},l):Cs(l)?n[i]=l.slice():(!t||!ds(l))&&(n[i]=l)};for(let l=0,r=arguments.length;l<r;l++)arguments[l]&&Il(arguments[l],s);return n}const lj=(e,t,n,{allOwnKeys:s}={})=>(Il(t,(l,r)=>{n&&ct(l)?e[r]=wg(l,n):e[r]=l},{allOwnKeys:s}),e),rj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ij=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},cj=(e,t,n,s)=>{let l,r,i;const c={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),r=l.length;r-- >0;)i=l[r],(!s||s(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=n!==!1&&xd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},oj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},uj=e=>{if(!e)return null;if(Cs(e))return e;let t=e.length;if(!Tg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},dj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xd(Uint8Array)),hj=(e,t)=>{const s=(e&&e[Fi]).call(e);let l;for(;(l=s.next())&&!l.done;){const r=l.value;t.call(e,r[0],r[1])}},fj=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},mj=Ht("HTMLFormElement"),xj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,l){return s.toUpperCase()+l}),uf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),gj=Ht("RegExp"),Og=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Il(n,(l,r)=>{let i;(i=t(l,r,e))!==!1&&(s[r]=i||l)}),Object.defineProperties(e,s)},pj=e=>{Og(e,(t,n)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(ct(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yj=(e,t)=>{const n={},s=l=>{l.forEach(r=>{n[r]=!0})};return Cs(e)?s(e):s(String(e).split(t)),n},bj=()=>{},vj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jj(e){return!!(e&&ct(e.append)&&e[Sg]==="FormData"&&e[Fi])}const Nj=e=>{const t=new Array(10),n=(s,l)=>{if(Ul(s)){if(t.indexOf(s)>=0)return;if(Bl(s))return s;if(!("toJSON"in s)){t[l]=s;const r=Cs(s)?[]:{};return Il(s,(i,c)=>{const o=n(i,l+1);!ds(o)&&(r[c]=o)}),t[l]=void 0,r}}return s};return n(e,0)},wj=Ht("AsyncFunction"),Sj=e=>e&&(Ul(e)||ct(e))&&ct(e.then)&&ct(e.catch),Dg=((e,t)=>e?setImmediate:t?((n,s)=>(ua.addEventListener("message",({source:l,data:r})=>{l===ua&&r===n&&s.length&&s.shift()()},!1),l=>{s.push(l),ua.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ct(ua.postMessage)),Cj=typeof queueMicrotask<"u"?queueMicrotask.bind(ua):typeof process<"u"&&process.nextTick||Dg,Tj=e=>e!=null&&ct(e[Fi]),R={isArray:Cs,isArrayBuffer:Cg,isBuffer:Bl,isFormData:Jv,isArrayBufferView:qv,isString:Gv,isNumber:Tg,isBoolean:Fv,isObject:Ul,isPlainObject:Mr,isEmptyObject:Qv,isReadableStream:ej,isRequest:tj,isResponse:nj,isHeaders:aj,isUndefined:ds,isDate:Yv,isFile:Xv,isBlob:Kv,isRegExp:gj,isFunction:ct,isStream:Zv,isURLSearchParams:Wv,isTypedArray:dj,isFileList:Pv,forEach:Il,merge:Zo,extend:lj,trim:sj,stripBOM:rj,inherits:ij,toFlatObject:cj,kindOf:Qi,kindOfTest:Ht,endsWith:oj,toArray:uj,forEachEntry:hj,matchAll:fj,isHTMLForm:mj,hasOwnProperty:uf,hasOwnProp:uf,reduceDescriptors:Og,freezeMethods:pj,toObjectSet:yj,toCamelCase:xj,noop:bj,toFiniteNumber:vj,findKey:Eg,global:ua,isContextDefined:Ag,isSpecCompliantForm:jj,toJSONObject:Nj,isAsyncFn:wj,isThenable:Sj,setImmediate:Dg,asap:Cj,isIterable:Tj};function le(e,t,n,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}R.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const Mg=le.prototype,_g={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_g[e]={value:e}});Object.defineProperties(le,_g);Object.defineProperty(Mg,"isAxiosError",{value:!0});le.from=(e,t,n,s,l,r)=>{const i=Object.create(Mg);R.toFlatObject(e,i,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",o=t==null&&e?e.code:t;return le.call(i,c,o,n,s,l),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",r&&Object.assign(i,r),i};const Ej=null;function Jo(e){return R.isPlainObject(e)||R.isArray(e)}function kg(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function df(e,t,n){return e?e.concat(t).map(function(l,r){return l=kg(l),!n&&r?"["+l+"]":l}).join(n?".":""):t}function Aj(e){return R.isArray(e)&&!e.some(Jo)}const Oj=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function Xi(e,t,n){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!R.isUndefined(w[S])});const s=n.metaTokens,l=n.visitor||f,r=n.dots,i=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(l))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(R.isDate(b))return b.toISOString();if(R.isBoolean(b))return b.toString();if(!o&&R.isBlob(b))throw new le("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(b)||R.isTypedArray(b)?o&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,S,w){let y=b;if(b&&!w&&typeof b=="object"){if(R.endsWith(S,"{}"))S=s?S:S.slice(0,-2),b=JSON.stringify(b);else if(R.isArray(b)&&Aj(b)||(R.isFileList(b)||R.endsWith(S,"[]"))&&(y=R.toArray(b)))return S=kg(S),y.forEach(function(m,j){!(R.isUndefined(m)||m===null)&&t.append(i===!0?df([S],j,r):i===null?S:S+"[]",d(m))}),!1}return Jo(b)?!0:(t.append(df(w,S,r),d(b)),!1)}const h=[],p=Object.assign(Oj,{defaultVisitor:f,convertValue:d,isVisitable:Jo});function g(b,S){if(!R.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));h.push(b),R.forEach(b,function(y,u){(!(R.isUndefined(y)||y===null)&&l.call(t,y,R.isString(u)?u.trim():u,S,p))===!0&&g(y,S?S.concat(u):[u])}),h.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return g(e),t}function hf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function gd(e,t){this._pairs=[],e&&Xi(e,this,t)}const Rg=gd.prototype;Rg.append=function(t,n){this._pairs.push([t,n])};Rg.toString=function(t){const n=t?function(s){return t.call(this,s,hf)}:hf;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function Dj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zg(e,t,n){if(!t)return e;const s=n&&n.encode||Dj;R.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let r;if(l?r=l(t,n):r=R.isURLSearchParams(t)?t.toString():new gd(t,n).toString(s),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class ff{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Lg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mj=typeof URLSearchParams<"u"?URLSearchParams:gd,_j=typeof FormData<"u"?FormData:null,kj=typeof Blob<"u"?Blob:null,Rj={isBrowser:!0,classes:{URLSearchParams:Mj,FormData:_j,Blob:kj},protocols:["http","https","file","blob","url","data"]},pd=typeof window<"u"&&typeof document<"u",Wo=typeof navigator=="object"&&navigator||void 0,zj=pd&&(!Wo||["ReactNative","NativeScript","NS"].indexOf(Wo.product)<0),Lj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vj=pd&&window.location.href||"http://localhost",Bj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pd,hasStandardBrowserEnv:zj,hasStandardBrowserWebWorkerEnv:Lj,navigator:Wo,origin:Vj},Symbol.toStringTag,{value:"Module"})),Je={...Bj,...Rj};function Uj(e,t){return Xi(e,new Je.classes.URLSearchParams,{visitor:function(n,s,l,r){return Je.isNode&&R.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function Ij(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hj(e){const t={},n=Object.keys(e);let s;const l=n.length;let r;for(s=0;s<l;s++)r=n[s],t[r]=e[r];return t}function Vg(e){function t(n,s,l,r){let i=n[r++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),o=r>=n.length;return i=!i&&R.isArray(l)?l.length:i,o?(R.hasOwnProp(l,i)?l[i]=[l[i],s]:l[i]=s,!c):((!l[i]||!R.isObject(l[i]))&&(l[i]=[]),t(n,s,l[i],r)&&R.isArray(l[i])&&(l[i]=Hj(l[i])),!c)}if(R.isFormData(e)&&R.isFunction(e.entries)){const n={};return R.forEachEntry(e,(s,l)=>{t(Ij(s),l,n,0)}),n}return null}function $j(e,t,n){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Hl={transitional:Lg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",l=s.indexOf("application/json")>-1,r=R.isObject(t);if(r&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return l?JSON.stringify(Vg(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Uj(t,this.formSerializer).toString();if((c=R.isFileList(t))||s.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return Xi(c?{"files[]":t}:t,o&&new o,this.formSerializer)}}return r||l?(n.setContentType("application/json",!1),$j(t)):t}],transformResponse:[function(t){const n=this.transitional||Hl.transitional,s=n&&n.forcedJSONParsing,l=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(s&&!this.responseType||l)){const i=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?le.from(c,le.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Hl.headers[e]={}});const qj=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gj=e=>{const t={};let n,s,l;return e&&e.split(`
`).forEach(function(i){l=i.indexOf(":"),n=i.substring(0,l).trim().toLowerCase(),s=i.substring(l+1).trim(),!(!n||t[n]&&qj[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},mf=Symbol("internals");function Ls(e){return e&&String(e).trim().toLowerCase()}function _r(e){return e===!1||e==null?e:R.isArray(e)?e.map(_r):String(e)}function Fj(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Qj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hc(e,t,n,s,l){if(R.isFunction(s))return s.call(this,t,n);if(l&&(t=n),!!R.isString(t)){if(R.isString(s))return t.indexOf(s)!==-1;if(R.isRegExp(s))return s.test(t)}}function Yj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Xj(e,t){const n=R.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(l,r,i){return this[s].call(this,t,l,r,i)},configurable:!0})})}let ot=class{constructor(t){t&&this.set(t)}set(t,n,s){const l=this;function r(c,o,d){const f=Ls(o);if(!f)throw new Error("header name must be a non-empty string");const h=R.findKey(l,f);(!h||l[h]===void 0||d===!0||d===void 0&&l[h]!==!1)&&(l[h||o]=_r(c))}const i=(c,o)=>R.forEach(c,(d,f)=>r(d,f,o));if(R.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(R.isString(t)&&(t=t.trim())&&!Qj(t))i(Gj(t),n);else if(R.isObject(t)&&R.isIterable(t)){let c={},o,d;for(const f of t){if(!R.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(o=c[d])?R.isArray(o)?[...o,f[1]]:[o,f[1]]:f[1]}i(c,n)}else t!=null&&r(n,t,s);return this}get(t,n){if(t=Ls(t),t){const s=R.findKey(this,t);if(s){const l=this[s];if(!n)return l;if(n===!0)return Fj(l);if(R.isFunction(n))return n.call(this,l,s);if(R.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ls(t),t){const s=R.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Hc(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let l=!1;function r(i){if(i=Ls(i),i){const c=R.findKey(s,i);c&&(!n||Hc(s,s[c],c,n))&&(delete s[c],l=!0)}}return R.isArray(t)?t.forEach(r):r(t),l}clear(t){const n=Object.keys(this);let s=n.length,l=!1;for(;s--;){const r=n[s];(!t||Hc(this,this[r],r,t,!0))&&(delete this[r],l=!0)}return l}normalize(t){const n=this,s={};return R.forEach(this,(l,r)=>{const i=R.findKey(s,r);if(i){n[i]=_r(l),delete n[r];return}const c=t?Yj(r):String(r).trim();c!==r&&delete n[r],n[c]=_r(l),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return R.forEach(this,(s,l)=>{s!=null&&s!==!1&&(n[l]=t&&R.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(l=>s.set(l)),s}static accessor(t){const s=(this[mf]=this[mf]={accessors:{}}).accessors,l=this.prototype;function r(i){const c=Ls(i);s[c]||(Xj(l,i),s[c]=!0)}return R.isArray(t)?t.forEach(r):r(t),this}};ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(ot.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});R.freezeMethods(ot);function $c(e,t){const n=this||Hl,s=t||n,l=ot.from(s.headers);let r=s.data;return R.forEach(e,function(c){r=c.call(n,r,l.normalize(),t?t.status:void 0)}),l.normalize(),r}function Bg(e){return!!(e&&e.__CANCEL__)}function Ts(e,t,n){le.call(this,e??"canceled",le.ERR_CANCELED,t,n),this.name="CanceledError"}R.inherits(Ts,le,{__CANCEL__:!0});function Ug(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Pj(e,t){e=e||10;const n=new Array(e),s=new Array(e);let l=0,r=0,i;return t=t!==void 0?t:1e3,function(o){const d=Date.now(),f=s[r];i||(i=d),n[l]=o,s[l]=d;let h=r,p=0;for(;h!==l;)p+=n[h++],h=h%e;if(l=(l+1)%e,l===r&&(r=(r+1)%e),d-i<t)return;const g=f&&d-f;return g?Math.round(p*1e3/g):void 0}}function Zj(e,t){let n=0,s=1e3/t,l,r;const i=(d,f=Date.now())=>{n=f,l=null,r&&(clearTimeout(r),r=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=s?i(d,f):(l=d,r||(r=setTimeout(()=>{r=null,i(l)},s-h)))},()=>l&&i(l)]}const hi=(e,t,n=3)=>{let s=0;const l=Pj(50,250);return Zj(r=>{const i=r.loaded,c=r.lengthComputable?r.total:void 0,o=i-s,d=l(o),f=i<=c;s=i;const h={loaded:i,total:c,progress:c?i/c:void 0,bytes:o,rate:d||void 0,estimated:d&&c&&f?(c-i)/d:void 0,event:r,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},n)},xf=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},gf=e=>(...t)=>R.asap(()=>e(...t)),Jj=Je.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Je.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Je.origin),Je.navigator&&/(msie|trident)/i.test(Je.navigator.userAgent)):()=>!0,Wj=Je.hasStandardBrowserEnv?{write(e,t,n,s,l,r,i){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];R.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),R.isString(s)&&c.push(`path=${s}`),R.isString(l)&&c.push(`domain=${l}`),r===!0&&c.push("secure"),R.isString(i)&&c.push(`SameSite=${i}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function eN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ig(e,t,n){let s=!eN(t);return e&&(s||n==!1)?tN(e,t):t}const pf=e=>e instanceof ot?{...e}:e;function wa(e,t){t=t||{};const n={};function s(d,f,h,p){return R.isPlainObject(d)&&R.isPlainObject(f)?R.merge.call({caseless:p},d,f):R.isPlainObject(f)?R.merge({},f):R.isArray(f)?f.slice():f}function l(d,f,h,p){if(R.isUndefined(f)){if(!R.isUndefined(d))return s(void 0,d,h,p)}else return s(d,f,h,p)}function r(d,f){if(!R.isUndefined(f))return s(void 0,f)}function i(d,f){if(R.isUndefined(f)){if(!R.isUndefined(d))return s(void 0,d)}else return s(void 0,f)}function c(d,f,h){if(h in t)return s(d,f);if(h in e)return s(void 0,d)}const o={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(d,f,h)=>l(pf(d),pf(f),h,!0)};return R.forEach(Object.keys({...e,...t}),function(f){const h=o[f]||l,p=h(e[f],t[f],f);R.isUndefined(p)&&h!==c||(n[f]=p)}),n}const Hg=e=>{const t=wa({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:r,headers:i,auth:c}=t;if(t.headers=i=ot.from(i),t.url=zg(Ig(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),R.isFormData(n)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(R.isFunction(n.getHeaders)){const o=n.getHeaders(),d=["content-type","content-length"];Object.entries(o).forEach(([f,h])=>{d.includes(f.toLowerCase())&&i.set(f,h)})}}if(Je.hasStandardBrowserEnv&&(s&&R.isFunction(s)&&(s=s(t)),s||s!==!1&&Jj(t.url))){const o=l&&r&&Wj.read(r);o&&i.set(l,o)}return t},nN=typeof XMLHttpRequest<"u",aN=nN&&function(e){return new Promise(function(n,s){const l=Hg(e);let r=l.data;const i=ot.from(l.headers).normalize();let{responseType:c,onUploadProgress:o,onDownloadProgress:d}=l,f,h,p,g,b;function S(){g&&g(),b&&b(),l.cancelToken&&l.cancelToken.unsubscribe(f),l.signal&&l.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(l.method.toUpperCase(),l.url,!0),w.timeout=l.timeout;function y(){if(!w)return;const m=ot.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:m,config:e,request:w};Ug(function(E){n(E),S()},function(E){s(E),S()},N),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(s(new le("Request aborted",le.ECONNABORTED,e,w)),w=null)},w.onerror=function(j){const N=j&&j.message?j.message:"Network Error",O=new le(N,le.ERR_NETWORK,e,w);O.event=j||null,s(O),w=null},w.ontimeout=function(){let j=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const N=l.transitional||Lg;l.timeoutErrorMessage&&(j=l.timeoutErrorMessage),s(new le(j,N.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,w)),w=null},r===void 0&&i.setContentType(null),"setRequestHeader"in w&&R.forEach(i.toJSON(),function(j,N){w.setRequestHeader(N,j)}),R.isUndefined(l.withCredentials)||(w.withCredentials=!!l.withCredentials),c&&c!=="json"&&(w.responseType=l.responseType),d&&([p,b]=hi(d,!0),w.addEventListener("progress",p)),o&&w.upload&&([h,g]=hi(o),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",g)),(l.cancelToken||l.signal)&&(f=m=>{w&&(s(!m||m.type?new Ts(null,e,w):m),w.abort(),w=null)},l.cancelToken&&l.cancelToken.subscribe(f),l.signal&&(l.signal.aborted?f():l.signal.addEventListener("abort",f)));const u=Kj(l.url);if(u&&Je.protocols.indexOf(u)===-1){s(new le("Unsupported protocol "+u+":",le.ERR_BAD_REQUEST,e));return}w.send(r||null)})},sN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,l;const r=function(d){if(!l){l=!0,c();const f=d instanceof Error?d:this.reason;s.abort(f instanceof le?f:new Ts(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,r(new le(`timeout ${t} of ms exceeded`,le.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),e=null)};e.forEach(d=>d.addEventListener("abort",r));const{signal:o}=s;return o.unsubscribe=()=>R.asap(c),o}},lN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,l;for(;s<n;)l=s+t,yield e.slice(s,l),s=l},rN=async function*(e,t){for await(const n of iN(e))yield*lN(n,t)},iN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},yf=(e,t,n,s)=>{const l=rN(e,t);let r=0,i,c=o=>{i||(i=!0,s&&s(o))};return new ReadableStream({async pull(o){try{const{done:d,value:f}=await l.next();if(d){c(),o.close();return}let h=f.byteLength;if(n){let p=r+=h;n(p)}o.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(o){return c(o),l.return()}},{highWaterMark:2})},bf=64*1024,{isFunction:or}=R,cN=(({Request:e,Response:t})=>({Request:e,Response:t}))(R.global),{ReadableStream:vf,TextEncoder:jf}=R.global,Nf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oN=e=>{e=R.merge.call({skipUndefined:!0},cN,e);const{fetch:t,Request:n,Response:s}=e,l=t?or(t):typeof fetch=="function",r=or(n),i=or(s);if(!l)return!1;const c=l&&or(vf),o=l&&(typeof jf=="function"?(b=>S=>b.encode(S))(new jf):async b=>new Uint8Array(await new n(b).arrayBuffer())),d=r&&c&&Nf(()=>{let b=!1;const S=new n(Je.origin,{body:new vf,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!S}),f=i&&c&&Nf(()=>R.isReadableStream(new s("").body)),h={stream:f&&(b=>b.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!h[b]&&(h[b]=(S,w)=>{let y=S&&S[b];if(y)return y.call(S);throw new le(`Response type '${b}' is not supported`,le.ERR_NOT_SUPPORT,w)})});const p=async b=>{if(b==null)return 0;if(R.isBlob(b))return b.size;if(R.isSpecCompliantForm(b))return(await new n(Je.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(R.isArrayBufferView(b)||R.isArrayBuffer(b))return b.byteLength;if(R.isURLSearchParams(b)&&(b=b+""),R.isString(b))return(await o(b)).byteLength},g=async(b,S)=>{const w=R.toFiniteNumber(b.getContentLength());return w??p(S)};return async b=>{let{url:S,method:w,data:y,signal:u,cancelToken:m,timeout:j,onDownloadProgress:N,onUploadProgress:O,responseType:E,headers:v,withCredentials:C="same-origin",fetchOptions:A}=Hg(b),M=t||fetch;E=E?(E+"").toLowerCase():"text";let k=sN([u,m&&m.toAbortSignal()],j),I=null;const H=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let K;try{if(O&&d&&w!=="get"&&w!=="head"&&(K=await g(v,y))!==0){let ae=new n(S,{method:"POST",body:y,duplex:"half"}),T;if(R.isFormData(y)&&(T=ae.headers.get("content-type"))&&v.setContentType(T),ae.body){const[V,Q]=xf(K,hi(gf(O)));y=yf(ae.body,bf,V,Q)}}R.isString(C)||(C=C?"include":"omit");const L=r&&"credentials"in n.prototype,_={...A,signal:k,method:w.toUpperCase(),headers:v.normalize().toJSON(),body:y,duplex:"half",credentials:L?C:void 0};I=r&&new n(S,_);let U=await(r?M(I,A):M(S,_));const Z=f&&(E==="stream"||E==="response");if(f&&(N||Z&&H)){const ae={};["status","statusText","headers"].forEach(B=>{ae[B]=U[B]});const T=R.toFiniteNumber(U.headers.get("content-length")),[V,Q]=N&&xf(T,hi(gf(N),!0))||[];U=new s(yf(U.body,bf,V,()=>{Q&&Q(),H&&H()}),ae)}E=E||"text";let W=await h[R.findKey(h,E)||"text"](U,b);return!Z&&H&&H(),await new Promise((ae,T)=>{Ug(ae,T,{data:W,headers:ot.from(U.headers),status:U.status,statusText:U.statusText,config:b,request:I})})}catch(L){throw H&&H(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,b,I),{cause:L.cause||L}):le.from(L,L&&L.code,b,I)}}},uN=new Map,$g=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:l}=t,r=[s,l,n];let i=r.length,c=i,o,d,f=uN;for(;c--;)o=r[c],d=f.get(o),d===void 0&&f.set(o,d=c?new Map:oN(t)),f=d;return d};$g();const yd={http:Ej,xhr:aN,fetch:{get:$g}};R.forEach(yd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wf=e=>`- ${e}`,dN=e=>R.isFunction(e)||e===null||e===!1;function hN(e,t){e=R.isArray(e)?e:[e];const{length:n}=e;let s,l;const r={};for(let i=0;i<n;i++){s=e[i];let c;if(l=s,!dN(s)&&(l=yd[(c=String(s)).toLowerCase()],l===void 0))throw new le(`Unknown adapter '${c}'`);if(l&&(R.isFunction(l)||(l=l.get(t))))break;r[c||"#"+i]=l}if(!l){const i=Object.entries(r).map(([o,d])=>`adapter ${o} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?i.length>1?`since :
`+i.map(wf).join(`
`):" "+wf(i[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return l}const qg={getAdapter:hN,adapters:yd};function qc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ts(null,e)}function Sf(e){return qc(e),e.headers=ot.from(e.headers),e.data=$c.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qg.getAdapter(e.adapter||Hl.adapter,e)(e).then(function(s){return qc(e),s.data=$c.call(e,e.transformResponse,s),s.headers=ot.from(s.headers),s},function(s){return Bg(s)||(qc(e),s&&s.response&&(s.response.data=$c.call(e,e.transformResponse,s.response),s.response.headers=ot.from(s.response.headers))),Promise.reject(s)})}const Gg="1.13.2",Ki={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ki[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Cf={};Ki.transitional=function(t,n,s){function l(r,i){return"[Axios v"+Gg+"] Transitional option '"+r+"'"+i+(s?". "+s:"")}return(r,i,c)=>{if(t===!1)throw new le(l(i," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!Cf[i]&&(Cf[i]=!0,console.warn(l(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,i,c):!0}};Ki.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function fN(e,t,n){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let l=s.length;for(;l-- >0;){const r=s[l],i=t[r];if(i){const c=e[r],o=c===void 0||i(c,r,e);if(o!==!0)throw new le("option "+r+" must be "+o,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+r,le.ERR_BAD_OPTION)}}const kr={assertOptions:fN,validators:Ki},qt=kr.validators;let pa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ff,response:new ff}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const r=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wa(this.defaults,n);const{transitional:s,paramsSerializer:l,headers:r}=n;s!==void 0&&kr.assertOptions(s,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),l!=null&&(R.isFunction(l)?n.paramsSerializer={serialize:l}:kr.assertOptions(l,{encode:qt.function,serialize:qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),kr.assertOptions(n,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=r&&R.merge(r.common,r[n.method]);r&&R.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),n.headers=ot.concat(i,r);const c=[];let o=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(o=o&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let f,h=0,p;if(!o){const b=[Sf.bind(this),void 0];for(b.unshift(...c),b.push(...d),p=b.length,f=Promise.resolve(n);h<p;)f=f.then(b[h++],b[h++]);return f}p=c.length;let g=n;for(;h<p;){const b=c[h++],S=c[h++];try{g=b(g)}catch(w){S.call(this,w);break}}try{f=Sf.call(this,g)}catch(b){return Promise.reject(b)}for(h=0,p=d.length;h<p;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=wa(this.defaults,t);const n=Ig(t.baseURL,t.url,t.allowAbsoluteUrls);return zg(n,t.params,t.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(t){pa.prototype[t]=function(n,s){return this.request(wa(s||{},{method:t,url:n,data:(s||{}).data}))}});R.forEach(["post","put","patch"],function(t){function n(s){return function(r,i,c){return this.request(wa(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}pa.prototype[t]=n(),pa.prototype[t+"Form"]=n(!0)});let mN=class Fg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(l=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](l);s._listeners=null}),this.promise.then=l=>{let r;const i=new Promise(c=>{s.subscribe(c),r=c}).then(l);return i.cancel=function(){s.unsubscribe(r)},i},t(function(r,i,c){s.reason||(s.reason=new Ts(r,i,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Fg(function(l){t=l}),cancel:t}}};function xN(e){return function(n){return e.apply(null,n)}}function gN(e){return R.isObject(e)&&e.isAxiosError===!0}const eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(eu).forEach(([e,t])=>{eu[t]=e});function Qg(e){const t=new pa(e),n=wg(pa.prototype.request,t);return R.extend(n,pa.prototype,t,{allOwnKeys:!0}),R.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return Qg(wa(e,l))},n}const Re=Qg(Hl);Re.Axios=pa;Re.CanceledError=Ts;Re.CancelToken=mN;Re.isCancel=Bg;Re.VERSION=Gg;Re.toFormData=Xi;Re.AxiosError=le;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=xN;Re.isAxiosError=gN;Re.mergeConfig=wa;Re.AxiosHeaders=ot;Re.formToJSON=e=>Vg(R.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=qg.getAdapter;Re.HttpStatusCode=eu;Re.default=Re;const{Axios:P4,AxiosError:Z4,CanceledError:J4,isCancel:W4,CancelToken:e6,VERSION:t6,all:n6,Cancel:a6,isAxiosError:s6,spread:l6,toFormData:r6,AxiosHeaders:i6,HttpStatusCode:c6,formToJSON:o6,getAdapter:u6,mergeConfig:d6}=Re,G=Re.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0});G.interceptors.request.use(e=>{const t=sessionStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));G.interceptors.response.use(e=>e,e=>{var t;return console.error("API error:",e),((t=e.response)==null?void 0:t.status)===401&&(sessionStorage.removeItem("token"),sessionStorage.removeItem("account")),Promise.reject(e)});var Yg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tf=Vn.createContext&&Vn.createContext(Yg),pN=["attr","size","title"];function yN(e,t){if(e==null)return{};var n=bN(e,t),s,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bN(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fi.apply(this,arguments)}function Ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,s)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ef(Object(n),!0).forEach(function(s){vN(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vN(e,t,n){return t=jN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jN(e){var t=NN(e,"string");return typeof t=="symbol"?t:t+""}function NN(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xg(e){return e&&e.map((t,n)=>Vn.createElement(t.tag,mi({key:n},t.attr),Xg(t.child)))}function ye(e){return t=>Vn.createElement(wN,fi({attr:mi({},e.attr)},t),Xg(e.child))}function wN(e){var t=n=>{var{attr:s,size:l,title:r}=e,i=yN(e,pN),c=l||n.size||"1em",o;return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),Vn.createElement("svg",fi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,i,{className:o,style:mi(mi({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&Vn.createElement("title",null,r),e.children)};return Tf!==void 0?Vn.createElement(Tf.Consumer,null,n=>t(n)):t(Yg)}function SN(e){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"},child:[]}]})(e)}function xi(e){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Kg(e){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z"},child:[]}]})(e)}function Pg(e){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Zg(e){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Jg(e){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function al(e){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function jl(e){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function CN(e){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function TN(e){return ye({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function hs(e){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function Wg(e){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function bd(e){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(e)}function gi(e){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Nl(e){return ye({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function EN(e){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Af(e){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"},child:[]}]})(e)}function ea(e){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function AN(e){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(e)}function ON(e){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(e)}function DN(e){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"},child:[]}]})(e)}const Pi=({call:e,currentUserId:t,isIncoming:n=!1,onEndCall:s,onRejectCall:l,onAcceptCall:r,isOpen:i,socket:c})=>{const[o,d]=x.useState(()=>n?"ringing":(e==null?void 0:e.Status)||"initiated"),[f,h]=x.useState(0),[p,g]=x.useState(!1),[b,S]=x.useState(!0),[w,y]=x.useState(!0),[u,m]=x.useState(null),[j,N]=x.useState(null),O=x.useRef(null),E=x.useRef(null),v=x.useRef(null),C=x.useRef(null),[A,M]=x.useState(!1);x.useEffect(()=>{e&&d(e.Status)},[e]),x.useEffect(()=>(o==="active"?C.current=setInterval(()=>{h(B=>B+1)},1e3):clearInterval(C.current),()=>clearInterval(C.current)),[o]);const k={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]},I=async()=>{try{v.current&&(v.current.close(),v.current=null),v.current=new RTCPeerConnection(k);const B={audio:!0,video:e.Type==="video"?{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}}:!1},P=await navigator.mediaDevices.getUserMedia(B);N(P),O.current&&e.Type==="video"&&(O.current.srcObject=P),P.getTracks().forEach(D=>{v.current&&v.current.addTrack(D,P)}),v.current.ontrack=D=>{E.current&&D.streams[0]&&(E.current.srcObject=D.streams[0],m(D.streams[0]))},v.current.onicecandidate=D=>{D.candidate&&H("ice-candidate",D.candidate)},v.current.onconnectionstatechange=()=>{var D;((D=v.current)==null?void 0:D.connectionState)==="connected"&&d("active")},M(!0)}catch(B){console.error("WebRTC init error:",B),M(!1),alert("Khng th truy cp microphone/camera. Vui lng kim tra quyn truy cp."),L()}},H=async(B,P)=>{try{await G.post("/calls/signal",{callId:e.CallId,senderId:t,signalType:B,signalData:P})}catch(D){console.error("Send signal error:",D)}},K=async()=>{if(!v.current){console.error("PeerConnection not initialized");return}try{const B=await v.current.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:e.Type==="video"});await v.current.setLocalDescription(B),await H("offer",B)}catch(B){console.error("Create offer error:",B)}},L=async()=>{clearInterval(C.current),v.current&&(v.current.close(),v.current=null),j&&j.getTracks().forEach(B=>B.stop());try{await G.post("/calls/end",{callId:e.CallId,duration:f})}catch(B){console.error("End call API error:",B)}s&&s()},_=async()=>{await I(),r&&await r()},U=async()=>{await L(),l&&l()},Z=()=>{if(j){const B=j.getAudioTracks()[0];B&&(B.enabled=!B.enabled,g(!B.enabled))}},W=()=>{if(j&&e.Type==="video"){const B=j.getVideoTracks()[0];B&&(B.enabled=!B.enabled,S(B.enabled))}},ae=()=>{E.current&&(E.current.muted=!E.current.muted,y(!E.current.muted))};if(x.useEffect(()=>{if(!i||!e||!c)return;c.emit("joinCall",e.CallId);const B=async P=>{if(!v.current){console.warn("Peer connection not ready");return}try{const{signalType:D,signalData:q,senderId:Y}=P;if(Y===t)return;if(D==="offer"){await v.current.setRemoteDescription(new RTCSessionDescription(q));const z=await v.current.createAnswer();await v.current.setLocalDescription(z),await H("answer",z)}else D==="answer"?await v.current.setRemoteDescription(new RTCSessionDescription(q)):D==="ice-candidate"&&q&&await v.current.addIceCandidate(new RTCIceCandidate(q))}catch(D){console.error("Signal handling error:",D)}};return c.on("webrtcSignal",B),!n&&!v.current&&I().then(()=>{K()}),()=>{c.off("webrtcSignal",B),c.emit("leaveCall",e.CallId),v.current&&(v.current.close(),v.current=null),j&&j.getTracks().forEach(P=>P.stop())}},[i,e,n,t,c]),!i)return null;const T=B=>{const P=Math.floor(B/60),D=B%60;return`${P.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},V=()=>n?e.CallerName:e.ReceiverName,Q=B=>B?`${me}/uploads/AccountAvatar/${B}`:`${me}/uploads/AccountAvatar/avtDf.png`;return a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-3 rounded-full ${e.Type==="video"?"bg-purple-500/20":"bg-blue-500/20"}`,children:e.Type==="video"?a.jsx(ea,{className:"text-2xl text-purple-400"}):a.jsx(gi,{className:"text-2xl text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:e.Type==="video"?"Video Call":"Voice Call"}),a.jsx("p",{className:"text-gray-400",children:o==="active"?`ang kt ni - ${T(f)}`:o==="ringing"?"ang  chung...":"ang kt ni..."})]})]}),o==="active"&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white font-medium",children:V()}),a.jsx("p",{className:"text-sm text-gray-400",children:e.Type==="video"?"Video call":"Voice call"})]})]}),a.jsxs("div",{className:"relative p-6 flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 relative bg-black rounded-xl overflow-hidden min-h-[400px]",children:[u&&e.Type==="video"?a.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900/50",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-800 flex items-center justify-center mb-4",children:a.jsx("img",{src:Q(n?e.CallerAvatar:e.ReceiverAvatar),alt:"Avatar",className:"w-full h-full rounded-full object-cover"})}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:V()}),a.jsx("p",{className:"text-gray-400",children:o==="ringing"?"ang gi...":"ang kt ni..."})]}),e.Type==="video"&&j&&a.jsxs("div",{className:"absolute bottom-4 right-4 w-40 h-48 rounded-lg overflow-hidden border-2 border-white/30 shadow-lg bg-black",children:[a.jsx("video",{ref:O,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!b&&a.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:a.jsx(Af,{className:"text-2xl text-white"})})]})]}),a.jsx("div",{className:"md:w-80 bg-gray-900/50 rounded-xl p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:o==="active"?"Cuc gi ang din ra":"Thng tin cuc gi"}),a.jsxs("p",{className:"text-gray-300",children:[n?"Cuc gi n t":"ang gi cho"," ",a.jsx("span",{className:"font-bold",children:V()})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:Z,className:`p-4 rounded-xl flex flex-col items-center justify-center transition-all ${p?"bg-red-500/20 hover:bg-red-500/30":"bg-blue-500/20 hover:bg-blue-500/30"}`,children:[a.jsx("div",{className:`p-3 rounded-full ${p?"bg-red-500":"bg-blue-500"}`,children:p?a.jsx(CN,{className:"text-xl text-white"}):a.jsx(TN,{className:"text-xl text-white"})}),a.jsx("span",{className:"mt-2 text-sm text-white",children:p?"Bt mic":"Tt mic"})]}),a.jsxs("button",{onClick:ae,className:`p-4 rounded-xl flex flex-col items-center justify-center transition-all ${w?"bg-green-500/20 hover:bg-green-500/30":"bg-yellow-500/20 hover:bg-yellow-500/30"}`,children:[a.jsx("div",{className:`p-3 rounded-full ${w?"bg-green-500":"bg-yellow-500"}`,children:w?a.jsx(ON,{className:"text-xl text-white"}):a.jsx(AN,{className:"text-xl text-white"})}),a.jsx("span",{className:"mt-2 text-sm text-white",children:w?"Tt loa":"Bt loa"})]}),e.Type==="video"&&a.jsxs("button",{onClick:W,className:`p-4 rounded-xl flex flex-col items-center justify-center transition-all ${b?"bg-purple-500/20 hover:bg-purple-500/30":"bg-red-500/20 hover:bg-red-500/30"}`,children:[a.jsx("div",{className:`p-3 rounded-full ${b?"bg-purple-500":"bg-red-500"}`,children:b?a.jsx(ea,{className:"text-xl text-white"}):a.jsx(Af,{className:"text-xl text-white"})}),a.jsx("span",{className:"mt-2 text-sm text-white",children:b?"Tt camera":"Bt camera"})]})]}),a.jsx("div",{className:"space-y-4",children:o==="ringing"&&n?a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:_,className:"flex-1 py-3 bg-green-500 text-white rounded-xl font-bold hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(gi,{className:"rotate-90"}),"Chp nhn"]}),a.jsxs("button",{onClick:U,className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Nl,{}),"T chi"]})]}):a.jsxs("button",{onClick:L,className:"w-full py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Nl,{className:"text-xl"}),"Kt thc cuc gi"]})}),a.jsx("div",{className:"pt-4 border-t border-gray-800",children:a.jsxs("div",{className:"text-sm text-gray-400 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Loi cuc gi:"}),a.jsx("span",{className:"text-white font-medium",children:e.Type==="video"?"Video Call":"Voice Call"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Trng thi:"}),a.jsx("span",{className:"text-white font-medium",children:o==="active"?"ang kt ni":o==="ringing"?"ang  chung":"ang thit lp"})]}),f>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Thi lng:"}),a.jsx("span",{className:"text-white font-medium",children:T(f)})]})]})})]})})]})]})})};function MN(){const{socket:e}=md(),[t,n]=x.useState(null),[s,l]=x.useState(!1),r=JSON.parse(sessionStorage.getItem("account"));x.useEffect(()=>{if(!e)return;const d=f=>{f.ReceiverId===(r==null?void 0:r.AccountId)&&(n(f),l(!0))};return e.on("incomingCall",d),()=>{e.off("incomingCall",d)}},[e,r]),x.useEffect(()=>{if(!e)return;const d=h=>{(t==null?void 0:t.CallId)===h.CallId&&n(h)},f=h=>{(t==null?void 0:t.CallId)===h.CallId&&(l(!1),n(null))};return e.on("callAccepted",d),e.on("callEnded",f),()=>{e.off("callAccepted",d),e.off("callEnded",f)}},[e,t]);const i=async()=>{try{await G.post("/calls/accept",{callId:t.CallId})}catch(d){console.error("Accept call error:",d)}},c=async()=>{try{await G.post("/calls/end",{callId:t.CallId,duration:0}),l(!1),n(null)}catch(d){console.error("Reject call error:",d)}},o=async()=>{await c()};return!t||!s?null:a.jsx(Pi,{call:t,currentUserId:r==null?void 0:r.AccountId,isIncoming:!0,isOpen:s,onAcceptCall:i,onRejectCall:c,onEndCall:o,socket:e})}function _N(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function kN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function RN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function zN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11a9 9 0 0 1 9 9"},child:[]},{tag:"path",attr:{d:"M4 4a16 16 0 0 1 16 16"},child:[]},{tag:"circle",attr:{cx:"5",cy:"19",r:"1"},child:[]}]})(e)}function LN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function VN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function BN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function UN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function IN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function HN(e){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const ta=({children:e})=>{const[t,n]=x.useState(!0),s=de(),l=()=>n(!t),r=[{name:"Trang ch",url:"/",icon:a.jsx(_N,{})},{name:"Ti khon",url:"/admin/accounts",icon:a.jsx(IN,{})},{name:"Sn phm",url:"/admin/products",icon:a.jsx(VN,{})},{name:"Qung co",url:"/admin/ads",icon:a.jsx(zN,{})},{name:"Phiu gim gi",url:"/admin/vouchers",icon:a.jsx(UN,{})},{name:"n hng",url:"#",icon:a.jsx(BN,{})},{name:"Thu sn",url:"/admin/platform-fee",icon:a.jsx(HN,{})}],i=()=>{sessionStorage.clear(),s("/")};return a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsxs("div",{className:`flex flex-col bg-orange-400 text-white transition-all duration-300 ${t?"w-64":"w-16"}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-4",children:[t&&a.jsx("h1",{className:"font-bold text-2xl cursor-pointer",onClick:()=>s("/"),children:"Shakee"}),a.jsx("button",{onClick:l,className:"text-white cursor-pointer",title:t?"Thu nh menu":"M rng menu",children:a.jsx(RN,{size:20})})]}),a.jsx("nav",{className:"flex-1 mt-4",children:a.jsx("ul",{className:"flex flex-col gap-2",children:r.map(c=>a.jsxs("li",{onClick:()=>s(c.url),className:"flex items-center gap-3 px-4 py-2 hover:bg-orange-500 rounded cursor-pointer transition-colors",title:t?"":c.name,children:[a.jsx("span",{className:"text-lg",children:c.icon}),t&&a.jsx("span",{children:c.name})]},c.name))})}),a.jsx("div",{className:"p-4 mt-auto",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-4 py-2 bg-orange-400 hover:bg-orange-500 rounded transition-colors cursor-pointer",children:[a.jsx(kN,{}),t&&a.jsx("span",{children:"Logout"})]})})]}),a.jsx("div",{className:"flex-1 p-6 overflow-auto",children:e})]})};function $N(){const e=de(),[t,n]=x.useState([]),[s,l]=x.useState(!0);x.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]);const[r,i]=x.useState(""),[c,o]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState(""),[g,b]=x.useState(1),S=10,w=N=>{if(!N)return"";const O=new Date(N),E=String(O.getDate()).padStart(2,"0"),v=String(O.getMonth()+1).padStart(2,"0"),C=O.getFullYear();return`${E}-${v}-${C}`};x.useEffect(()=>{fetch("/api/accounts",{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(N=>N.json()).then(N=>{n(N),l(!1)}).catch(N=>{console.error(N),l(!1)})},[]);const y=async(N,O)=>{try{await G.put(`/accounts/${N}/active`,{isActive:O?0:1}),n(E=>E.map(v=>v.AccountId===N?{...v,IsActive:O?0:1}:v))}catch(E){console.error(E),alert("Khng th cp nht trng thi")}},u=x.useMemo(()=>t.filter(N=>{var M,k,I,H;const O=r.toLowerCase().trim(),E=((M=N.Username)==null?void 0:M.toLowerCase().includes(O))||((k=N.Name)==null?void 0:k.toLowerCase().includes(O))||((I=N.Phone)==null?void 0:I.includes(O))||((H=N.IdentityNumber)==null?void 0:H.includes(O)),v=c?N.RoleName===c:!0,C=d?N.Gender===d:!0,A=h!==""?String(N.IsActive)===h:!0;return E&&v&&C&&A}),[t,r,c,d,h]),m=Math.ceil(u.length/S),j=u.slice((g-1)*S,g*S);return s?a.jsx("p",{className:"text-center mt-6",children:"ang ti d liu..."}):a.jsx(ta,{children:a.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-2xl font-bold text-orange-600",children:" Qun l ti khon"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("input",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 outline-none",placeholder:" Tm username / tn / ST / CCCD",value:r,onChange:N=>{i(N.target.value),b(1)}}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:c,onChange:N=>{o(N.target.value),b(1)},children:[a.jsx("option",{value:"",children:" Tt c vai tr"}),[...new Set(t.map(N=>N.RoleName))].map(N=>a.jsx("option",{value:N,children:N},N))]}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:d,onChange:N=>{f(N.target.value),b(1)},children:[a.jsx("option",{value:"",children:" Tt c gii tnh"}),a.jsx("option",{value:"m",children:"Nam"}),a.jsx("option",{value:"f",children:"N"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:["Tng:",a.jsx("span",{className:"ml-1 font-semibold text-orange-500",children:u.length}),"ti khon"]})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-orange-500 text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-center",children:"Ti khon"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"H tn"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"ST"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"CCCD"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Ngy sinh"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gii tnh"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Vai tr"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Hnh ng"})]})}),a.jsx("tbody",{children:j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"text-center py-8 text-gray-400",children:"Khng c d liu"})}):j.map(N=>a.jsxs("tr",{className:"border-b hover:bg-orange-50 transition",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-3 items-center",children:[a.jsx("div",{className:"flex justify-end pr-2",children:a.jsx("img",{src:N.Avt?`${me}/uploads/AccountAvatar/${N.Avt}`:`${me}/uploads/AccountAvatar/avtDf.png`,onError:O=>{O.target.src=`${me}/uploads/AccountAvatar/avtDf.png`},alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border"})}),a.jsx("div",{className:"col-span-2 pl-3",children:a.jsx("span",{className:"font-medium text-gray-800",children:N.Username})})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Name}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Phone}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.IdentityNumber}),a.jsx("td",{className:"px-4 py-3 text-center",children:w(N.DateOfBirth)}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Gender==="m"?"Nam":"N"}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.RoleName}),a.jsxs("td",{className:"px-4 py-3 flex justify-center gap-2",children:[a.jsx("button",{onClick:()=>e(`/admin/accounts/${N.AccountId}`),className:"px-3 py-1 text-xs rounded bg-blue-500 hover:bg-blue-600 text-white transition cursor-pointer",children:"Cp nhp"}),a.jsx("button",{onClick:()=>y(N.AccountId,N.IsActive),className:`px-3 py-1 text-xs rounded text-white transition cursor-pointer ${N.IsActive?"bg-green-600 hover:bg-green-700":"bg-red-500 hover:bg-red-600"}`,children:N.IsActive?"Cm":"B Cm"})]})]},N.AccountId))})]})}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>b(N=>Math.max(1,N-1)),disabled:g===1,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${g===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
          `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:m},(N,O)=>a.jsx("button",{onClick:()=>b(O+1),className:`
                w-9 h-9 rounded-full text-sm font-semibold
                transition-all duration-200
                ${g===O+1?"bg-orange-300 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
              `,children:O+1},O))}),a.jsxs("button",{onClick:()=>b(N=>Math.min(m,N+1)),disabled:g===m||m===0,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${g===m||m===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
          `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})})}function qN(){const e=de(),[t,n]=x.useState([]),[s,l]=x.useState([]),[r,i]=x.useState(!0),[c,o]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState(""),[g,b]=x.useState(1),S=10;x.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),x.useEffect(()=>{fetch(`${me}/api/products`).then(N=>N.json()).then(N=>{Array.isArray(N)?n(N):(console.error("Products API error:",N),n([])),i(!1)}).catch(N=>{console.error(N),n([]),i(!1)}),fetch(`${me}/api/categories`).then(N=>N.json()).then(N=>{Array.isArray(N)&&l(N)})},[]);const w=async(N,O)=>{try{if(!(await fetch(`${me}/api/products/${N}/active`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:O?0:1})})).ok)throw new Error("Update failed");n(v=>v.map(C=>C.ProductId===N?{...C,IsActive:O?0:1}:C))}catch(E){console.error(E),alert("Khng th cp nht trng thi")}};x.useEffect(()=>{b(1)},[c,d,h]);const y=N=>Number(N).toLocaleString("vi-VN")+" ",u=x.useMemo(()=>{if(!Array.isArray(t))return[];const N=c.toLowerCase().trim();return t.filter(O=>{var A,M;const E=((A=O.ProductName)==null?void 0:A.toLowerCase().includes(N))||((M=O.StallName)==null?void 0:M.toLowerCase().includes(N)),v=d?O.CategoryName===d:!0,C=h===""?!0:Number(O.Status)===Number(h);return E&&v&&C})},[t,c,d,h]),m=Math.ceil(u.length/S),j=u.slice((g-1)*S,g*S);return r?a.jsx("p",{children:"ang ti d liu..."}):a.jsx(ta,{children:a.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-2xl font-bold text-orange-600",children:" Qun l sn phm"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("input",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 outline-none",placeholder:" Tm tn sn phm / gian hng",value:c,onChange:N=>o(N.target.value)}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:d,onChange:N=>f(N.target.value),children:[a.jsx("option",{value:"",children:" Tt c danh mc"}),s.map(N=>a.jsx("option",{value:N.CategoryName,children:N.CategoryName},N.CategoryId))]}),a.jsxs("select",{className:"border rounded px-3 py-2 focus:ring-2 focus:ring-orange-400 cursor-pointer",value:h,onChange:N=>p(N.target.value),children:[a.jsx("option",{value:"",children:" Tt c trng thi"}),a.jsx("option",{value:"1",children:" ang bn"}),a.jsx("option",{value:"0",children:" Ngng bn"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:["Tng: ",a.jsx("span",{className:"ml-1 font-semibold text-orange-500",children:u.length})," sn phm"]})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-orange-500 text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-center",children:"Sn phm"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Danh mc"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gian hng"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Trng thi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Hnh ng"})]})}),a.jsx("tbody",{children:j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"text-center py-8 text-gray-400",children:"Khng c d liu"})}):j.map(N=>a.jsxs("tr",{className:"border-b hover:bg-orange-50 transition",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"font-semibold",children:N.ProductName}),a.jsx("div",{className:"text-xs text-gray-500 line-clamp-2",children:N.Description})]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-4",children:[a.jsx("div",{})," ",a.jsx("div",{className:"col-span-3 font-medium text-gray-700",children:N.CategoryName})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.StallName}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-4",children:[a.jsx("div",{className:"col-span-3 text-right font-semibold text-orange-600",children:y(N.Price)}),a.jsx("div",{})," "]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:N.Status?a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-700 text-center",children:" ang bn"}):a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-100 text-red-600 text-center",children:" Ngng bn"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{onClick:()=>w(N.ProductId,N.IsActive),className:`px-3 py-1 text-xs rounded text-white transition cursor-pointer ${N.IsActive?"bg-green-600 hover:bg-red-600":"bg-red-500 hover:bg-green-600"}`,children:N.IsActive?"Cm bn":"B cm"})})]},N.ProductId))})]})}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>b(N=>Math.max(1,N-1)),disabled:g===1,className:`
      flex items-center gap-2 px-4 py-2 rounded-full border
      transition-all duration-200
      ${g===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:m},(N,O)=>a.jsx("button",{onClick:()=>b(O+1),className:`
          w-9 h-9 rounded-full text-sm font-semibold
          transition-all duration-200
          ${g===O+1?"bg-orange-300 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
        `,children:O+1},O))}),a.jsxs("button",{onClick:()=>b(N=>Math.min(m,N+1)),disabled:g===m||m===0,className:`
      flex items-center gap-2 px-4 py-2 rounded-full border
      transition-all duration-200
      ${g===m||m===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm  cursor-pointer"}
    `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Of=e=>{const t=FN(e);return t.charAt(0).toUpperCase()+t.slice(1)},ep=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),QN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:r,iconNode:i,...c},o)=>x.createElement("svg",{ref:o,...YN,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ep("lucide",l),...!r&&!QN(c)&&{"aria-hidden":"true"},...c},[...i.map(([d,f])=>x.createElement(d,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=x.forwardRef(({className:s,...l},r)=>x.createElement(XN,{ref:r,iconNode:t,className:ep(`lucide-${GN(Of(e))}`,`lucide-${e}`,s),...l}));return n.displayName=Of(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],PN=ne("arrow-left",KN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Df=ne("award",ZN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WN=ne("ban",JN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pi=ne("calendar",e3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],n3=ne("camera",t3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wl=ne("check",a3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],l3=ne("chevron-down",s3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],i3=ne("chevron-left",r3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mf=ne("chevron-right",c3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],u3=ne("chevron-up",o3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xn=ne("circle-alert",d3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ln=ne("circle-check-big",h3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],da=ne("circle-x",f3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rr=ne("clock",m3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],sl=ne("credit-card",x3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p3=ne("download",g3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tp=ne("eye",y3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ll=ne("hash",b3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],j3=ne("image",v3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_f=ne("loader-circle",N3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yi=ne("map-pin",w3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vd=ne("message-circle",S3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],np=ne("message-square",C3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M5 12h14",key:"1ays0h"}]],E3=ne("minus",T3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],et=ne("package",A3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],D3=ne("percent",O3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_3=ne("phone",M3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ap=ne("plus",k3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],z3=ne("printer",R3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],V3=ne("refresh-cw",L3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Gc=ne("rotate-ccw",B3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],I3=ne("search",U3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],bi=ne("shopping-bag",H3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],sp=ne("shopping-cart",$3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G3=ne("square-pen",q3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]],Q3=ne("star-half",F3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xn=ne("star",Y3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kf=ne("tag",X3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],vi=ne("ticket",K3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jd=ne("trash-2",P3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],rn=ne("truck",Z3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],W3=ne("upload",J3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t4=ne("user",e4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],a4=ne("users",n4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],l4=ne("wallet",s4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],i4=ne("x",r4);function pe(){const[e,t]=x.useState(""),[n,s]=x.useState(!1),[l,r]=x.useState(null),i=de();x.useEffect(()=>{const h=sessionStorage.getItem("token"),p=sessionStorage.getItem("account");h&&p&&(s(!0),r(JSON.parse(p)))},[]);const c=(l==null?void 0:l.Avatar)||`${me}/uploads/AccountAvatar/avtDf.png`,o=()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),i("/"),window.location.reload()},d=h=>{h.preventDefault(),e.trim()&&i(`/search?keyword=${encodeURIComponent(e)}`)},f=()=>{if(l)switch(l.RoleId){case"1":i("/admin/accounts");break;case"2":i("/profile");break;case"3":i("/seller/products");break;case"4":i("/staff/manage-orders");break;default:i("/")}};return a.jsx("header",{className:"bg-orange-500 text-white",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-4",children:a.jsxs("div",{className:"h-16 flex items-center justify-between",children:[a.jsx("div",{className:"text-2xl font-bold cursor-pointer",onClick:()=>i("/"),children:"Shakee"}),a.jsx("form",{onSubmit:d,className:"w-1/2",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{className:"w-full pl-4 pr-12 py-2 rounded text-black bg-white",placeholder:"Tm kim sn phm...",value:e,onChange:h=>t(h.target.value)}),a.jsx("button",{type:"submit",className:"absolute right-1 top-1/2 -translate-y-1/2 bg-orange-500 text-white p-2 rounded cursor-pointer",children:a.jsx(I3,{size:18})})]})}),n?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"relative cursor-pointer",onClick:()=>i("/cart"),children:a.jsx(sp,{size:22})}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-90",onClick:f,children:[a.jsx("img",{src:c,alt:"avatar",className:"w-8 h-8 rounded-full object-cover border"}),a.jsx("span",{className:"text-sm",children:l==null?void 0:l.Name})]}),a.jsx("button",{onClick:o,className:"text-sm text-white underline cursor-pointer",children:"ng xut"})]}):a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{className:"bg-white text-orange-500 px-4 py-1 rounded cursor-pointer",onClick:()=>i("/login"),children:"ng nhp"}),a.jsx("button",{className:"border border-white px-4 py-1 rounded cursor-pointer",onClick:()=>i("/register"),children:"ng k"})]})]})})})}function Kt(){const e=de(),t=It(),n=JSON.parse(sessionStorage.getItem("account")),[s,l]=x.useState(""),r=[{id:1,label:"Thng tin c nhn",path:"/seller/profile"},{id:2,label:"Sn phm",path:"/seller/products"},{id:3,label:"Tin nhn",path:"/seller/chat"},{id:4,label:"n hng",path:"/seller/orders"},{id:5,label:"Phiu gim gi",path:"/seller/voucher"}];x.useEffect(()=>{(async()=>{var o;if(n)try{const d=sessionStorage.getItem("token"),f=await G.get(`/stalls/account/${n.AccountId}`,{headers:{Authorization:`Bearer ${d}`}});l(((o=f.data)==null?void 0:o.StallName)||"")}catch(d){console.error("Fetch stall error:",d),l("")}})()},[]);const i=c=>c?c.startsWith("http")||c.startsWith("/uploads")?c:`/uploads/AccountAvatar/${c}`:"/uploads/AccountAvatar/avtDf.png";return a.jsxs("aside",{className:"w-60 bg-white border rounded-lg shadow-md p-4 flex-shrink-0 sticky top-20 h-fit",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 mb-6",children:[a.jsx("img",{src:i(n==null?void 0:n.Avatar),alt:n==null?void 0:n.Name,className:"w-12 h-12 rounded-full object-cover border"}),a.jsx("p",{className:"font-semibold text-center",children:n==null?void 0:n.Name}),a.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Gian hng: ",s||"..."]})]}),a.jsx("div",{className:"flex flex-col gap-2",children:r.map(c=>a.jsx("div",{onClick:()=>e(c.path),className:`cursor-pointer px-4 py-2 rounded 
              ${t.pathname===c.path?"bg-orange-500 text-white":"hover:bg-gray-100 transition"}`,children:c.label},c.id))})]})}function c4(){const e=de(),t=JSON.parse(sessionStorage.getItem("account")),[n,s]=x.useState([]),[l,r]=x.useState(!0),[i,c]=x.useState("");x.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),x.useEffect(()=>{let h=!0;return(async()=>{if(t)try{const g=await G.get(`/products/seller/${t.AccountId}`);if(g.data&&g.data.success){const b=g.data.products||[];h&&s(Array.isArray(b)?b:[])}else h&&s([]),console.error("API response format incorrect:",g.data)}catch(g){console.error("Load seller products error:",g),h&&(alert("Li khi ti sn phm"),s([]))}finally{h&&r(!1)}})(),()=>{h=!1}},[t==null?void 0:t.AccountId]);const o=n.filter(h=>h.ProductName&&h.ProductName.toLowerCase().includes(i.toLowerCase())),d=async(h,p,g)=>{g.stopPropagation();try{const b=p===1?0:1;await G.put(`/products/${h}/status`,{status:b}),s(S=>S.map(w=>w.ProductId===h?{...w,Status:b}:w))}catch(b){console.error("Toggle status error:",b),alert("Li khi cp nht trng thi sn phm")}},f=h=>h?h.startsWith("http")||h.startsWith("/uploads")?h:`/uploads/ProductImage/${h}`:null;return l?a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Kt,{}),a.jsx("div",{className:"flex-1 p-8 text-center",children:a.jsx("div",{className:"p-4",children:"ang ti sn phm..."})})]})]}):!Array.isArray(n)||n.length===0?a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Danh sch sn phm ca bn"}),a.jsx("div",{className:"text-center py-8",children:"Bn cha c sn phm no."})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Danh sch sn phm ca bn"}),a.jsx("input",{className:"border px-3 py-2 rounded w-1/3 mb-4",placeholder:"Tm sn phm...",value:i,onChange:h=>c(h.target.value)}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(h=>a.jsxs("div",{onClick:()=>e(`/seller/products/${h.ProductId}`),className:"bg-white shadow rounded p-3 cursor-pointer hover:ring-2 hover:ring-orange-400",children:[a.jsx("div",{className:"relative w-full h-48 overflow-hidden rounded bg-gray-100 mb-2",children:h.Image?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:f(h.Image),className:"absolute inset-0 w-full h-full object-cover blur-xl scale-110",alt:h.ProductName||"Product"}),a.jsx("img",{src:f(h.Image),className:"relative z-10 h-full mx-auto object-contain",alt:h.ProductName||"Product"})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"})}),a.jsx("h2",{className:"text-lg font-semibold truncate",children:h.ProductName||"Khng c tn"}),a.jsx("p",{className:"text-red-500 font-bold",children:h.Price?`${Number(h.Price).toLocaleString()} `:"0 "}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:h.Description||"Khng c m t"}),a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[a.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${h.Status===1?"bg-green-500":"bg-gray-400"}`,children:h.Status===1?"ang bn":"Ngng bn"}),a.jsx("button",{onClick:p=>d(h.ProductId,h.Status,p),className:"px-2 py-1 bg-orange-500 text-white rounded text-xs",children:h.Status===1?"Tt":"Bt"})]})]},h.ProductId))})]})]})]})}function Nn(){return a.jsx("footer",{className:"bg-gray-100 mt-10",children:a.jsx("div",{className:"max-w-[1200px] mx-auto px-4 py-6 text-sm text-gray-600",children:" 2026 Shakee. All rights reserved."})})}function o4({chats:e,selectedChat:t,onSelect:n}){return a.jsx("div",{className:"w-48 border-r overflow-y-auto bg-white",children:e.map(s=>a.jsxs("div",{onClick:()=>n(s),className:`flex gap-3 p-2 cursor-pointer border-b ${(t==null?void 0:t.ChatId)===s.ChatId?"bg-orange-50":"hover:bg-gray-100"}`,children:[a.jsx("img",{src:s.Avt||"/default-avatar.png",className:"w-9 h-9 rounded-full"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:s.SellerName}),a.jsx("p",{className:`text-xs truncate ${s.UnreadCount>0?"font-bold text-black":"text-gray-500"}`,children:s.LastMessage||"Cha c tin nhn"})]})]},s.ChatId))})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var lp=function(){var e={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:u,toCodePoint:O},onerror:function(){this.parentNode&&this.parentNode.replaceChild(o(this.alt,!1),this)},parse:m,replace:j,test:N},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,l="",r=/[&<>'"]/g,i=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,c=String.fromCharCode;return e;function o(E,v){return document.createTextNode(v?E.replace(s,""):E)}function d(E){return E.replace(r,S)}function f(E,v){return"".concat(v.base,v.size,"/",E,v.ext)}function h(E,v){for(var C=E.childNodes,A=C.length,M,k;A--;)M=C[A],k=M.nodeType,k===3?v.push(M):k===1&&!("ownerSVGElement"in M)&&!i.test(M.nodeName.toLowerCase())&&h(M,v);return v}function p(E){return O(E.indexOf(l)<0?E.replace(s,""):E)}function g(E,v){for(var C=h(E,[]),A=C.length,M,k,I,H,K,L,_,U,Z,W,ae,T,V;A--;){for(I=!1,H=document.createDocumentFragment(),K=C[A],L=K.nodeValue,U=0;_=n.exec(L);){if(Z=_.index,Z!==U&&H.appendChild(o(L.slice(U,Z),!0)),ae=_[0],T=p(ae),U=Z+ae.length,V=v.callback(T,v),T&&V){W=new Image,W.onerror=v.onerror,W.setAttribute("draggable","false"),M=v.attributes(ae,T);for(k in M)M.hasOwnProperty(k)&&k.indexOf("on")!==0&&!W.hasAttribute(k)&&W.setAttribute(k,M[k]);W.className=v.className,W.alt=ae,W.src=V,I=!0,H.appendChild(W)}W||H.appendChild(o(ae,!1)),W=null}I&&(U<L.length&&H.appendChild(o(L.slice(U),!0)),K.parentNode.replaceChild(H,K))}return E}function b(E,v){return j(E,function(C){var A=C,M=p(C),k=v.callback(M,v),I,H;if(M&&k){A="<img ".concat('class="',v.className,'" ','draggable="false" ','alt="',C,'"',' src="',k,'"'),I=v.attributes(C,M);for(H in I)I.hasOwnProperty(H)&&H.indexOf("on")!==0&&A.indexOf(" "+H+"=")===-1&&(A=A.concat(" ",H,'="',d(I[H]),'"'));A=A.concat("/>")}return A})}function S(E){return t[E]}function w(){return null}function y(E){return typeof E=="number"?E+"x"+E:E}function u(E){var v=typeof E=="string"?parseInt(E,16):E;return v<65536?c(v):(v-=65536,c(55296+(v>>10),56320+(v&1023)))}function m(E,v){return(!v||typeof v=="function")&&(v={callback:v}),(typeof E=="string"?b:g)(E,{callback:v.callback||f,attributes:typeof v.attributes=="function"?v.attributes:w,base:typeof v.base=="string"?v.base:e.base,ext:v.ext||e.ext,size:v.folder||y(v.size||e.size),className:v.className||e.className,onerror:v.onerror||e.onerror})}function j(E,v){return String(E).replace(n,v)}function N(E){n.lastIndex=0;var v=n.test(E);return n.lastIndex=0,v}function O(E,v){for(var C=[],A=0,M=0,k=0;k<E.length;)A=E.charCodeAt(k++),M?(C.push((65536+(M-55296<<10)+(A-56320)).toString(16)),M=0):55296<=A&&A<=56319?M=A:C.push(A.toString(16));return C.join(v||"-")}}();const rp=({chatId:e,senderId:t,onClose:n,onSuccess:s})=>{const[l,r]=x.useState(null),[i,c]=x.useState(null),[o,d]=x.useState(!1),[f,h]=x.useState(0),[p,g]=x.useState(""),b=x.useRef(null),[S,w]=x.useState(""),y=(v,C)=>v.startsWith("image/")?a.jsx(jl,{className:"text-blue-500"}):v.startsWith("video/")?a.jsx(ea,{className:"text-red-500"}):v.startsWith("audio/")?a.jsx(hs,{className:"text-green-500"}):C!=null&&C.endsWith(".pdf")?a.jsx(al,{className:"text-red-500"}):C!=null&&C.endsWith(".doc")||C!=null&&C.endsWith(".docx")?a.jsx(al,{className:"text-blue-500"}):C!=null&&C.endsWith(".xls")||C!=null&&C.endsWith(".xlsx")?a.jsx(al,{className:"text-green-500"}):v.includes("zip")||v.includes("compressed")?a.jsx(SN,{className:"text-yellow-500"}):a.jsx(DN,{className:"text-gray-500"}),u=v=>{if(v===0)return"0 Bytes";const C=1024,A=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(v)/Math.log(C));return parseFloat((v/Math.pow(C,M)).toFixed(2))+" "+A[M]},m=(v,C)=>v.startsWith("image/")?" gi mt nh":v.startsWith("video/")?" gi mt video":v.startsWith("audio/")?" gi mt audio":C||" gi mt file",j=v=>{const C=v.target.files;if(C.length>1){g("Ch c chn 1 file mi ln."),b.current&&(b.current.value="");return}const A=C[0];if(A){if(A.size>10*1024*1024){g("File vt qu 10MB. Vui lng chn file nh hn.");return}if(g(""),r(A),w(m(A.type,A.name)),A.type.startsWith("image/")){const M=new FileReader;M.onload=k=>c(k.target.result),M.readAsDataURL(A)}else A.type.startsWith("video/")?c("video"):A.type.startsWith("audio/")?c("audio"):c("file")}},N=()=>{r(null),c(null),w(""),g(""),b.current&&(b.current.value="")},O=async()=>{var C,A;if(!l)return;d(!0);const v=new FormData;v.append("file",l),v.append("uploadedBy",t),v.append("chatId",e);try{const M=await G.post("/files/upload",v,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:I=>{const H=Math.round(I.loaded*100/I.total);h(H)}}),k=await G.post("/messages/file",{chatId:e,senderId:t,content:S.trim()||null,fileId:M.data.fileId});s(k.data),n()}catch(M){console.error("Upload error:",M),(A=(C=M.response)==null?void 0:C.data)!=null&&A.message?g(M.response.data.message):g("Upload file tht bi. Vui lng th li.")}finally{d(!1)}},E=()=>{r(null),c(null),w(""),g(""),n()};return a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-[99999]",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Gi File"}),a.jsx("button",{onClick:E,className:"p-2 text-gray-400 cursor-pointer hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",disabled:o,children:a.jsx(Nl,{})})]}),a.jsx("div",{className:"p-4",children:l?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-2xl",children:y(l.type,l.name)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 truncate max-w-xs",children:l.name}),a.jsx("p",{className:"text-sm text-gray-500",children:u(l.size)})]})]}),a.jsx("button",{onClick:N,className:"p-2 text-gray-400 cursor-pointer hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",disabled:o,children:a.jsx(EN,{})})]}),i==="video"&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden bg-black/5",children:a.jsx("div",{className:"p-4 flex items-center justify-center",children:a.jsx(ea,{className:"text-4xl text-gray-400"})})}),i==="audio"&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden bg-black/5",children:a.jsx("div",{className:"p-4 flex items-center justify-center",children:a.jsx(hs,{className:"text-4xl text-gray-400"})})}),i==="file"&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden bg-black/5",children:a.jsx("div",{className:"p-4 flex items-center justify-center",children:y(l.type,l.name)})}),typeof i=="string"&&i.startsWith("data:image")&&a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden border",children:a.jsx("img",{src:i,alt:"Preview",className:"w-full h-48 object-cover"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ni dung tin nhn (tu chn)"}),a.jsx("textarea",{value:S,onChange:v=>w(v.target.value),placeholder:"Thm ni dung cho tin nhn...",className:"w-full h-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:o})]}),p&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-600 text-sm",children:p})}),o&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"ang ti ln..."}),a.jsxs("span",{className:"text-blue-600 font-medium",children:[f,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]}),a.jsxs("div",{className:"flex space-x-3 pt-2",children:[a.jsx("button",{onClick:E,className:"flex-1 py-2.5 px-4 border cursor-pointer border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:"Hu"}),a.jsx("button",{onClick:O,disabled:o,className:"flex-1 py-2.5 px-4 cursor-pointer bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:o?"ang gi...":"Gi ngay"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{onClick:()=>{var v;return(v=b.current)==null?void 0:v.click()},className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 group",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:scale-105 transition-transform",children:a.jsx(bd,{className:"text-3xl text-blue-400"})}),a.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"Chn file  gi"}),a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Ko th hoc nhn  chn"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"nh"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"Video"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"Audio"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:"PDF"})]})]}),a.jsx("input",{type:"file",ref:b,onChange:j,className:"hidden",accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.zip"})]}),a.jsxs("div",{className:"text-center text-sm text-gray-500",children:[a.jsx("p",{children:"H tr cc nh dng ph bin"}),a.jsx("p",{children:"Ti a 10MB  Ch 1 file mi ln"})]})]})})]})})},Rf=500,u4={":)":"",":(":"",":D":"",";)":"",":P":""},d4=e=>{let t=e;for(const[n,s]of Object.entries(u4))t=t.split(n).join(s);return t},zf=e=>{const t=new Date(e),n=new Date,s=t.getFullYear(),l=t.getMonth(),r=t.getDate(),i=n.getFullYear(),c=n.getMonth(),o=n.getDate(),d=Math.floor((new Date(i,c,o)-new Date(s,l,r))/(24*60*60*1e3)),f=t.getHours().toString().padStart(2,"0"),h=t.getMinutes().toString().padStart(2,"0");if(s===i&&l===c&&r===o)return`${f}:${h}`;if(d>0&&d<7){const b=t.getDay();return`${b===0?"CN":`T${b+1}`} lc ${f}:${h}`}const p=r,g=l+1;return s!==i?`${p} THG ${g}/${s} lc ${f}:${h}`:`${p} THG ${g} lc ${f}:${h}`},Lf=(e,t)=>!e||!t||e.SenderId!==t.SenderId?!1:new Date(t.SendAt)-new Date(e.SendAt)<=2*60*1e3,h4=({chat:e,currentUserId:t,messages:n=[],onSendMessage:s,onNewMessage:l,onInitiateCall:r,socket:i})=>{const[c,o]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,b]=x.useState(null),[S,w]=x.useState(!1),y=x.useRef(null),u=async()=>{if(!(!c.trim()||!e)&&s)try{await s(c.slice(0,Rf)),o("")}catch(v){console.error("Error sending message:",v)}},m=async v=>{var C,A;if(r)r(v);else{if(!e)return;try{let M;if(e.BuyerId&&e.SellerId)M=e.BuyerId==t?e.SellerId:e.BuyerId;else if(e.SellerId&&!e.BuyerId)M=e.SellerId;else if(e.BuyerId&&!e.SellerId)M=e.BuyerId;else throw new Error("Khng th xc nh ngi nhn cuc gi");const k=await G.post("/calls/initiate",{chatId:e.ChatId,callerId:t,receiverId:M,type:v});b(k.data),w(!0)}catch(M){console.error("Failed to initiate call:",M),alert("Khng th bt u cuc gi: "+(((A=(C=M.response)==null?void 0:C.data)==null?void 0:A.message)||M.message))}}};x.useEffect(()=>{if(!i)return;const v=A=>{(g==null?void 0:g.CallId)===A.CallId&&b(A)},C=A=>{(g==null?void 0:g.CallId)===A.CallId&&(b(null),w(!1))};return i.on("callAccepted",v),i.on("callEnded",C),()=>{i.off("callAccepted",v),i.off("callEnded",C)}},[i,g]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[n]);const j=(v,C)=>{const A=v||"";return A.startsWith("image/")?a.jsx(jl,{className:"text-blue-500"}):A.startsWith("video/")?a.jsx(ea,{className:"text-red-500"}):A.startsWith("audio/")?a.jsx(hs,{className:"text-green-500"}):C!=null&&C.endsWith(".pdf")?a.jsx(Zg,{className:"text-red-500"}):C!=null&&C.endsWith(".doc")||C!=null&&C.endsWith(".docx")?a.jsx(Jg,{className:"text-blue-500"}):C!=null&&C.endsWith(".xls")||C!=null&&C.endsWith(".xlsx")?a.jsx(Pg,{className:"text-green-500"}):A.includes("zip")||A.includes("compressed")?a.jsx(Kg,{className:"text-yellow-500"}):a.jsx(al,{className:"text-gray-500"})},N=v=>{const C=v.MessageType==="image",A=v.MessageType==="video",M=v.MessageType==="audio";let k=v.FileURL;return k&&k.startsWith("/api/")?k=`${me}${k}`:k&&!k.includes("/")&&!k.startsWith("http")?k=`${me}/api/files/${k}`:!k&&v.FileName&&(k=`${me}/api/files/${v.MessageId}`),a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:`rounded-lg overflow-hidden ${C?"border":""}`,children:C?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:k,alt:v.FileName||"Image",className:"max-w-full max-h-64 object-contain cursor-pointer bg-gray-100 group-hover:blur-sm transition-all duration-200",onClick:()=>p({url:k,name:v.FileName||"Image"}),onError:I=>I.target.src=`${me}/uploads/placeholder.png`}),a.jsx("div",{className:"absolute inset-0 backdrop-blur-0 group-hover:backdrop-blur-[2px] bg-white/0 group-hover:bg-white/5 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:a.jsx("button",{onClick:()=>p({url:k,name:v.FileName||"Image"}),className:"p-2 bg-white/80 backdrop-blur-sm cursor-pointer rounded-full shadow-sm hover:bg-white hover:shadow-md transition-all",children:a.jsx(jl,{className:"text-gray-700"})})})]}):A?a.jsx("div",{className:"relative",children:a.jsx("video",{controls:!0,className:"max-w-full max-h-64 bg-black",poster:v.ThumbnailURL,children:a.jsx("source",{src:k,type:v.FileMimeType||"video/mp4"})})}):M?a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(hs,{className:"text-2xl text-green-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium truncate",children:v.FileName||"Audio file"}),a.jsx("audio",{controls:!0,className:"w-full mt-2",src:k})]})]})}):a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-2xl",children:j(v.FileMimeType,v.FileName)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium truncate",children:v.FileName||"File"}),v.FileSize&&a.jsxs("p",{className:"text-sm text-gray-500",children:[(v.FileSize/1024).toFixed(1)," KB"]})]}),a.jsx("a",{href:k,download:v.FileName||"file",className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Download",onClick:I=>!k&&I.preventDefault(),children:a.jsx(xi,{})})]})})}),v.Content&&v.Content!==v.FileName&&a.jsx("p",{className:"mt-2 text-sm text-gray-700",children:v.Content})]})},O=v=>{if(v.MessageType==="call_invite"||v.MessageType==="call_end")return a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2",children:v.Content});const C=lp.parse(d4(v.Content||""),{folder:"svg",ext:".svg",className:"twemoji"});return a.jsx("span",{dangerouslySetInnerHTML:{__html:C}})},E=n.filter((v,C,A)=>C===A.findIndex(M=>M.MessageId===v.MessageId));return a.jsxs("div",{className:"flex-1 flex flex-col relative",children:[g&&a.jsx(Pi,{call:g,currentUserId:t,isIncoming:!1,onEndCall:()=>{b(null),w(!1)},isOpen:S,socket:i}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-[99999] flex items-center justify-center",onClick:()=>p(null),children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] bg-white rounded-lg shadow-2xl overflow-hidden",onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-between p-3 border-b",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 truncate flex-1 mr-4",children:h.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:h.url,download:h.name,className:"p-2 text-gray-600 cursor-pointer hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",onClick:v=>v.stopPropagation(),children:a.jsx(xi,{size:20})}),a.jsx("button",{onClick:()=>p(null),className:"p-2 text-gray-600 cursor-pointer hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",children:a.jsx(Nl,{size:24})})]})]}),a.jsx("div",{className:"pt-12 h-full flex items-center justify-center p-4",children:a.jsx("img",{src:h.url,alt:h.name,className:"max-w-full max-h-[calc(90vh-3rem)] object-contain"})})]})}),d&&a.jsx(rp,{chatId:e==null?void 0:e.ChatId,senderId:t,onClose:()=>f(!1),onSuccess:v=>{l&&l(v)}}),a.jsx("div",{ref:y,className:"flex-1 p-3 overflow-y-auto bg-gray-50",style:{maxHeight:"500px",overflowX:"hidden"},children:E.map((v,C)=>{const A=E[C-1],M=E[C+1],k=v.SenderId==t,I=Lf(A,v),H=Lf(v,M),K=C===0||!I;let L="rounded-lg";return!I&&H?L=k?"rounded-lg rounded-tr-2xl":"rounded-lg rounded-tl-2xl":I&&!H&&(L=k?"rounded-lg rounded-br-2xl":"rounded-lg rounded-bl-2xl"),v.MessageType==="call_invite"||v.MessageType==="call_end"?a.jsxs("div",{children:[K&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:zf(v.SendAt)}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2 px-4 bg-gray-100 rounded-full",children:v.Content})})]},v.MessageId||`${v.SendAt}_${C}`):a.jsxs("div",{children:[K&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:zf(v.SendAt)}),a.jsx("div",{className:`flex ${k?"justify-end":"justify-start"} mb-1`,children:a.jsx("div",{className:L,style:{maxWidth:v.MessageType!=="text"?"100%":"65%",padding:"0.5rem 0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowWrap:"anywhere",backgroundColor:k?"#f97316":"#fff",color:k?"#fff":"#000",border:k?"none":"1px solid #e5e7eb",fontFamily:'"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif'},children:v.MessageType==="text"?O(v):N(v)})})]},v.MessageId||`${v.SendAt}_${C}`)})}),a.jsxs("div",{className:"px-3 py-3 border-t flex gap-2 bg-white",children:[a.jsxs("div",{className:"flex gap-1 mr-2",children:[a.jsx("button",{onClick:()=>m("audio"),disabled:!e||g,className:"h-11 w-11 flex items-center cursor-pointer justify-center text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Gi thoi",children:a.jsx(gi,{})}),a.jsx("button",{onClick:()=>m("video"),disabled:!e||g,className:"h-11 w-11 flex items-center justify-center cursor-pointer text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Gi video",children:a.jsx(ea,{})})]}),a.jsx("button",{onClick:()=>f(!0),className:"h-11 w-11 flex items-center cursor-pointer justify-center text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"Gi file",disabled:!e||g,children:a.jsx(bd,{size:20})}),a.jsx("input",{className:"flex-1 h-11 border rounded-full px-4 text-sm focus:outline-none focus:border-blue-500 disabled:opacity-50",value:c,maxLength:Rf,onChange:v=>o(v.target.value),onKeyDown:v=>v.key==="Enter"&&u(),placeholder:e?"Nhp ni dung tin nhn":"Chn cuc tr chuyn",disabled:!e||g}),a.jsx("button",{onClick:u,disabled:!e||!c.trim()||g,className:"h-11 bg-orange-500 text-white px-5 rounded-full text-sm cursor-pointer hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Wg,{})})]})]})};function Nd({sellerId:e,onClose:t}){const{socket:n}=md(),s=JSON.parse(sessionStorage.getItem("account")),l=s==null?void 0:s.AccountId,r=`${me}/uploads/AccountAvatar`,[i,c]=x.useState([]),[o,d]=x.useState(null),[f,h]=x.useState({}),p=x.useRef(new Set),[g,b]=x.useState(null),[S,w]=x.useState(!1),y=x.useRef(g);x.useEffect(()=>{y.current=g},[g]),x.useEffect(()=>{if(!l)return;(async()=>{try{e&&await G.post("/chats",{buyerId:l,sellerId:e});const E=(await G.get("/chats/buyer",{params:{buyerId:l}})).data.map(v=>({...v,Avt:v.SellerAvatar?`${r}/${v.SellerAvatar}`:`${r}/avtDf.png`}));if(E.sort((v,C)=>new Date(C.LastSendAt||0)-new Date(v.LastSendAt||0)),c(E),e){const v=E.find(C=>C.SellerId===e);d(v||E[0])}else E.length>0&&d(E[0])}catch(O){console.error("Error initializing chat:",O)}})()},[l,e]),x.useEffect(()=>{(async()=>{if(o)try{const E=(await G.get("/messages",{params:{chatId:o.ChatId}})).data;E.forEach(v=>p.current.delete(v.MessageId)),h(v=>({...v,[o.ChatId]:E})),await G.post("/messages/read",{chatId:o.ChatId,readerId:l}),c(v=>v.map(C=>C.ChatId===o.ChatId?{...C,UnreadCount:0}:C))}catch(O){console.error("Mark as read failed",O)}})()},[o,l]),x.useEffect(()=>{if(!o||!n)return;n.emit("joinChat",o.ChatId);const N=O=>{O.ChatId===o.ChatId&&(p.current.has(O.MessageId)||(p.current.add(O.MessageId),h(E=>{const v=E[O.ChatId]||[];return v.some(C=>C.MessageId===O.MessageId)?E:{...E,[O.ChatId]:[...v,O]}}),c(E=>E.map(v=>v.ChatId===O.ChatId?{...v,LastMessage:O.Content,LastSendAt:O.SendAt,UnreadCount:O.SenderId!==l?(v.UnreadCount||0)+1:v.UnreadCount}:v))))};return n.on("newMessage",N),()=>{n.off("newMessage",N),n.emit("leaveChat",o.ChatId)}},[o,l,n]),x.useEffect(()=>{if(!n)return;const N=E=>{var v;((v=y.current)==null?void 0:v.CallId)===E.CallId&&b(E)},O=E=>{var v;((v=y.current)==null?void 0:v.CallId)===E.CallId&&(b(null),w(!1))};return n.on("callAccepted",N),n.on("callEnded",O),()=>{n.off("callAccepted",N),n.off("callEnded",O)}},[n]);const u=async N=>{if(!(!o||!N.trim()))try{const E=(await G.post("/messages",{chatId:o.ChatId,senderId:l,content:N})).data;p.current.add(E.MessageId),h(v=>({...v,[o.ChatId]:[...v[o.ChatId]||[],E]})),c(v=>{const C=v.map(A=>A.ChatId===o.ChatId?{...A,LastMessage:E.Content,LastSendAt:E.SendAt}:A);return C.sort((A,M)=>new Date(M.LastSendAt)-new Date(A.LastSendAt)),C}),d(v=>({...v,LastMessage:E.Content,LastSendAt:E.SendAt}))}catch{alert("Gi tin nhn tht bi")}},m=N=>{p.current.has(N.MessageId)||(p.current.add(N.MessageId),h(O=>({...O,[o.ChatId]:[...O[o.ChatId]||[],N]})),c(O=>{const E=O.map(v=>v.ChatId===o.ChatId?{...v,LastMessage:N.Content,LastSendAt:N.SendAt}:v);return E.sort((v,C)=>new Date(C.LastSendAt)-new Date(v.LastSendAt)),E}))},j=async N=>{var O,E;if(o)try{const v=o.SellerId,C=await G.post("/calls/initiate",{chatId:o.ChatId,callerId:l,receiverId:v,type:N});b(C.data),w(!0)}catch(v){console.error("Failed to initiate call:",v),alert("Khng th bt u cuc gi: "+(((E=(O=v.response)==null?void 0:O.data)==null?void 0:E.message)||v.message))}};return a.jsxs("div",{className:"fixed bottom-4 right-4 w-[600px] h-[420px] bg-white z-50 rounded-xl shadow-xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-orange-500 text-white",children:[a.jsxs("span",{className:"font-bold",children:["Chat vi ",(o==null?void 0:o.SellerName)||"Gian hng"]}),a.jsx("button",{onClick:t,className:"px-3 py-1 bg-orange-700 cursor-pointer rounded hover:bg-orange-600 transition-colors",children:""})]}),g&&a.jsx(Pi,{call:g,currentUserId:l,isIncoming:!1,onEndCall:()=>{b(null),w(!1)},isOpen:S,socket:n}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx(o4,{chats:i,selectedChat:o,onSelect:d}),a.jsx(h4,{chat:o,currentUserId:l,messages:o?f[o.ChatId]||[]:[],onSendMessage:u,onNewMessage:m,onInitiateCall:j,socket:n})]})]})}function $l({sellerId:e,visible:t=!0,onOpen:n}){const[s,l]=x.useState(!1),[r,i]=x.useState([]),c=JSON.parse(sessionStorage.getItem("account")),o=c==null?void 0:c.AccountId,d=async()=>{if(o)try{const h=await G.get("/chats/buyer",{params:{buyerId:o}});i(h.data)}catch(h){console.error("Error loading chats:",h)}};x.useEffect(()=>{o&&d()},[o]);const f=x.useMemo(()=>r.reduce((h,p)=>h+(p.UnreadCount||0),0),[r]);return t?s?a.jsx(Nd,{sellerId:e,onClose:()=>l(!1)}):a.jsxs("div",{onClick:()=>{n?n():l(!0)},className:"fixed bottom-6 right-6 w-12 h-12 bg-orange-500 text-white rounded-full cursor-pointer shadow-xl flex items-center justify-center z-[99999] hover:bg-orange-600 transition-colors",children:[a.jsx("span",{className:"text-lg font-bold select-none",children:"S"}),f>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold min-w-[18px] h-[18px] px-1 flex items-center justify-center rounded-full",children:f>99?"99+":f})]}):null}function wd(){const e=JSON.parse(sessionStorage.getItem("account"));return(e==null?void 0:e.RoleId)==="2"}function f4(){const e=de(),[t,n]=x.useState([]),[s,l]=x.useState(0),[r,i]=x.useState([]),[c,o]=x.useState([]),[d,f]=x.useState(null),h=x.useRef(null),[p,g]=x.useState(0),b=240;x.useEffect(()=>{G.get("/categories").then(u=>i(u.data)).catch(console.error),G.get("/products/random").then(u=>o(u.data)).catch(console.error),G.get("/ads/style/2").then(u=>f(u.data)).catch(console.error),G.get("/vouchers/random?limit=8").then(u=>{console.log("voucher api =",u.data),Array.isArray(u.data)?n(u.data):n([])}).catch(console.error)},[]),x.useEffect(()=>{if(!h.current||t.length===0)return;const u=h.current.offsetWidth,m=t.length*b,j=Math.max(m-u,0);g(j)},[t]);const S=Math.min(s*b,p),w=u=>u.isOut?"bg-gray-300 text-gray-500 cursor-not-allowed":u.isReceived?"bg-gray-400 text-white cursor-not-allowed":"bg-orange-500 hover:bg-orange-600 text-white",y=async u=>{var m,j;try{await G.post("/voucher-usage/save",{voucherId:u}),n(N=>N.map(O=>O.VoucherId===u?{...O,isReceived:1,Quantity:O.Quantity-1}:O))}catch(N){alert(((j=(m=N.response)==null?void 0:m.data)==null?void 0:j.message)||"Li")}};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("main",{className:"bg-gray-50 py-6",children:a.jsxs("div",{className:"grid grid-cols-12 max-w-7xl mx-auto px-4 gap-4",children:[a.jsx("aside",{className:"col-span-2",children:a.jsxs("div",{className:`bg-white p-2 rounded shadow\r
                         max-h-[calc(100vh-120px)]\r
                         overflow-y-auto\r
                         sticky top-24`,children:[a.jsx("h3",{className:"font-bold mb-2",children:"Danh mc"}),a.jsx("ul",{className:"space-y-2 text-sm",children:r.map(u=>a.jsxs("li",{onClick:()=>e(`/search?category=${u.CategoryId}`),className:`flex items-center gap-2\r
                               cursor-pointer\r
                               hover:text-orange-500`,children:[u.CategoryImage&&a.jsx("img",{src:u.CategoryImage,alt:"",className:"w-5 h-5 object-cover"}),u.CategoryName]},u.CategoryId))})]})}),a.jsxs("section",{className:"col-span-8",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Gi  hm nay"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:c.map(u=>a.jsxs("div",{onClick:()=>e(`/product/${u.ProductId}`),className:`bg-white p-3 rounded shadow\r
                             hover:shadow-lg transition\r
                             cursor-pointer`,children:[a.jsx("img",{src:u.Image,alt:"",className:"h-32 w-full object-cover mb-2"}),a.jsx("p",{className:"text-sm line-clamp-2",children:u.ProductName}),a.jsxs("p",{className:"text-red-500 font-bold",children:[Number(u.Price).toLocaleString()," "]}),a.jsx("button",{className:"mt-4 w-full py-2 bg-gray-50 text-gray-700 cursor-pointer rounded-lg font-medium hover:bg-orange-50 hover:text-orange-600 transition-colors text-sm",children:"Xem chi tit"})]},u.ProductId))}),a.jsxs("div",{className:"mt-8 relative group",children:[a.jsx("h3",{className:"text-lg font-bold mb-3",children:" Voucher ni bt"}),s>0&&a.jsx("button",{onClick:()=>l(s-1),className:`absolute left-0 top-1/2 -translate-y-1/2\r
                             bg-white shadow rounded-full w-8 h-8\r
                             hidden group-hover:flex\r
                             items-center justify-center z-10 cursor-pointer`,children:""}),a.jsx("div",{className:"overflow-hidden",ref:h,children:a.jsx("div",{className:"flex gap-4 transition-transform duration-300",style:{transform:`translateX(-${S}px)`},children:t.map(u=>a.jsxs("div",{className:"w-[220px] shrink-0 bg-white border rounded-lg p-3 shadow-sm",children:[a.jsx("p",{className:"font-semibold text-sm line-clamp-2",children:u.VoucherName}),a.jsx("p",{className:"text-red-500 font-bold mt-1",children:u.DiscountType==="percent"?`Gim ${u.DiscountValue}%`:`Gim ${Number(u.DiscountValue).toLocaleString()} `}),u.MinOrderValue>0&&a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["n t ",Number(u.MinOrderValue).toLocaleString(),""]}),u.MaxDiscount>0&&a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Ti a ",Number(u.MaxDiscount).toLocaleString(),""]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:u.StallName?`p dng cho gian hng "${u.StallName}"`:"p dng cho tt c mt hng"}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["HSD: ",u.EndTime]}),a.jsx("button",{disabled:u.isReceived||u.isOut,onClick:()=>y(u.VoucherId),className:`mt-2 w-full text-sm rounded py-1 transition
    ${w(u)}
  `,children:u.isOut?"Ht lt":u.isReceived?" nhn":"Lu voucher"})]},u.VoucherId))})}),s*b<p&&a.jsx("button",{onClick:()=>l(s+1),className:`absolute right-0 top-1/2 -translate-y-1/2\r
                             bg-white shadow rounded-full w-8 h-8\r
                             hidden group-hover:flex\r
                             items-center justify-center z-10 cursor-pointer`,children:""})]})]}),a.jsx("aside",{className:"col-span-2",children:a.jsx("div",{className:"bg-white rounded shadow sticky top-24 overflow-hidden",children:d?a.jsx("img",{src:d.AdsImage,alt:"Qung co",className:"w-full h-full object-cover"}):a.jsx("p",{className:"p-4 text-sm text-gray-400 text-center",children:"Cha c qung co, lin h ngay  gc di cng mn hnh  c h tr!"})})})]})}),a.jsx(Nn,{}),wd()&&a.jsx($l,{sellerId:null})]})}function m4(){const[e]=ig(),t=de(),n=e.get("category"),s=e.get("keyword"),[l,r]=x.useState([]),[i,c]=x.useState("newest");x.useEffect(()=>{G.get("/products/search",{params:{category:n,keyword:s}}).then(d=>r(d.data)).catch(console.error)},[n,s]);const o=x.useMemo(()=>{const d=[...l];switch(i){case"priceAsc":return d.sort((f,h)=>f.Price-h.Price);case"priceDesc":return d.sort((f,h)=>h.Price-f.Price);case"bestSelling":return d.sort((f,h)=>h.countOrders===f.countOrders?h.ProductId-f.ProductId:h.countOrders-f.countOrders);default:return d.sort((f,h)=>h.ProductId-f.ProductId)}},[l,i]);return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("main",{className:"bg-gray-50 py-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded shadow mb-4 flex items-center gap-4",children:[a.jsx("span",{className:"font-semibold",children:"Sp xp theo:"}),a.jsxs("select",{value:i,onChange:d=>c(d.target.value),className:"border px-3 py-1 rounded text-sm",children:[a.jsx("option",{value:"newest",children:"Mi nht"}),a.jsx("option",{value:"priceAsc",children:"Gi: Thp  Cao"}),a.jsx("option",{value:"priceDesc",children:"Gi: Cao  Thp"}),a.jsx("option",{value:"bestSelling",children:"Bn chy"})]})]}),o.length===0?a.jsx("p",{className:"text-gray-500 text-center",children:"Khng c sn phm"}):a.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.map(d=>a.jsxs("div",{onClick:()=>t(`/product/${d.ProductId}`),className:"bg-white p-3 rounded shadow hover:shadow-lg transition cursor-pointer",children:[a.jsx("img",{src:d.Image,alt:d.ProductName,className:"h-32 w-full object-cover mb-2 rounded"}),a.jsx("p",{className:"text-sm line-clamp-2 mb-1",children:d.ProductName}),a.jsxs("p",{className:"text-red-500 font-bold",children:[Number(d.Price).toLocaleString()," "]})]},d.ProductId))})]})}),a.jsx(Nn,{}),wd()&&a.jsx($l,{sellerId:null})]})}function x4(){const e=de(),[t,n]=x.useState(""),[s,l]=x.useState(""),[r,i]=x.useState(""),[c,o]=x.useState(!1),d=async f=>{var h,p;f.preventDefault(),i(""),o(!0);try{const g=await G.post("/accounts/login",{username:t,password:s}),{account:b,token:S}=g.data;sessionStorage.setItem("token",S),sessionStorage.setItem("roleId",Number(b.RoleId)),sessionStorage.setItem("accountId",b.AccountId),sessionStorage.setItem("account",JSON.stringify(b)),setTimeout(()=>{switch(b.RoleId){case"1":e("/admin/accounts");break;case"2":e("/");break;case"3":e("/seller/products");break;case"4":e("/staff/manage-orders");break;default:e("/")}},500)}catch(g){i(((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"ng nhp tht bi"),o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl shadow-lg mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Cho mng tr li"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"ng nhp  tip tc"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-8",children:[r&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-red-700",children:r})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ng nhp"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("input",{id:"username",type:"text",placeholder:"Nhp tn ng nhp",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",value:t,onChange:f=>n(f.target.value),required:!0,disabled:c})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),a.jsx("a",{href:"#",className:"text-sm text-orange-600 hover:text-orange-800 font-medium",children:"Qun mt khu?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{id:"password",type:"password",placeholder:"Nhp mt khu",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",value:s,onChange:f=>l(f.target.value),required:!0,disabled:c})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Ghi nh ng nhp"})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-xl font-semibold text-white shadow-md transition-all duration-300 flex items-center justify-center ${c?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 hover:shadow-lg"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ng nhp..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"ng nhp"]})})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Hoc tip tc vi"})})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[a.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2.5 px-4 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M20.283 10.356h-8.327v3.451h4.792c-.446 2.193-2.313 3.453-4.792 3.453a5.27 5.27 0 0 1-5.279-5.28 5.27 5.27 0 0 1 5.279-5.279c1.259 0 2.397.447 3.29 1.178l2.6-2.599c-1.584-1.381-3.615-2.233-5.89-2.233a8.908 8.908 0 0 0-8.934 8.934 8.907 8.907 0 0 0 8.934 8.934c4.467 0 8.529-3.249 8.529-8.934 0-.528-.081-1.097-.202-1.625z"})}),"Google"]}),a.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2.5 px-4 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),a.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Cha c ti khon?"," ",a.jsx("a",{href:"/register",className:"font-semibold text-orange-600 hover:text-orange-800 transition-colors duration-200",children:"ng k ngay"})]})]}),a.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-100 text-center",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Bng vic ng nhp, bn ng  vi"," ",a.jsx("a",{href:"#",className:"text-orange-600 hover:text-orange-800",children:"iu khon s dng"})," ","v"," ",a.jsx("a",{href:"#",className:"text-orange-600 hover:text-orange-800",children:"Chnh sch bo mt"})]})})]})]})})}function g4(){const e=de(),[t,n]=x.useState({username:"",password:"",confirmPassword:"",name:"",phone:"",identityNumber:"",dateOfBirth:"",IsActive:1,gender:"m",roleId:2}),[s,l]=x.useState(""),r=c=>{const{name:o,value:d}=c.target;n({...t,[o]:d})},i=async c=>{var p,g;c.preventDefault(),l("");const o=t.password.trim();if(!/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!-/:-@\[-`\{-~]).{8,}$/.test(o)){l("Mt khu phi c t nht 8 k t, bao gm ch ci, s v k t c bit!");return}if(o!==t.confirmPassword){l("Password v Confirm Password khng khp");return}if(t.phone.length!==10||!/^0\d{9}$/.test(t.phone)){l("S in thoi khng hp l!");return}if(t.identityNumber.length!==12||!/^\d+$/.test(t.identityNumber)){l("S CMND/CCCD khng hp l!");return}const f=new Date,h=new Date(t.dateOfBirth);if(f.setHours(0,0,0,0),h.setHours(0,0,0,0),h>=f){l("Ngy sinh khng th ln hn hin ti!");return}try{await Re.post(`${me}/api/accounts/register`,t),alert("ng k thnh cng!"),e("/login")}catch(b){console.error(b),l(((g=(p=b.response)==null?void 0:p.data)==null?void 0:g.message)||"ng k tht bi")}};return a.jsxs("div",{className:"max-w-md mx-auto mt-20 p-6 bg-white rounded shadow",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"ng k ti khon"}),s&&a.jsx("p",{className:"text-red-500 mb-4 text-center",children:s}),a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsx("input",{type:"text",name:"username",placeholder:"Username",value:t.username,onChange:r,className:"w-full p-3 border rounded",required:!0}),a.jsx("input",{type:"password",name:"password",placeholder:"Password",value:t.password,onChange:r,className:"w-full p-3 border rounded",required:!0}),a.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:t.confirmPassword,onChange:r,className:"w-full p-3 border rounded",required:!0}),a.jsx("input",{type:"text",name:"name",placeholder:"Name",value:t.name,onChange:r,className:"w-full p-3 border rounded",required:!0}),a.jsx("input",{type:"text",name:"phone",placeholder:"Phone",value:t.phone,onChange:r,className:"w-full p-3 border rounded",required:!0}),a.jsx("input",{type:"text",name:"identityNumber",placeholder:"Identity Number",value:t.identityNumber,onChange:r,className:"w-full p-3 border rounded",required:!0}),a.jsx("input",{type:"date",name:"dateOfBirth",value:t.dateOfBirth,onChange:r,className:"w-full p-3 border rounded",required:!0}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{className:"cursor-pointer",type:"radio",name:"gender",value:"m",checked:t.gender==="m",onChange:r})," ","Male"]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{className:"cursor-pointer",type:"radio",name:"gender",value:"f",checked:t.gender==="f",onChange:r})," ","Female"]})]}),a.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-3 rounded hover:bg-orange-400 transition-colors cursor-pointer",children:"ng k"})]})]})}function p4(){const{id:e}=Oa(),t=de(),[n,s]=x.useState(null),[l,r]=x.useState([]),[i,c]=x.useState(!0),[o,d]=x.useState({Username:"",Name:"",Phone:"",Password:"",RoleId:""});x.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),t("/"))},[t]),x.useEffect(()=>{(async()=>{var g;try{const b=await fetch(`${me}/api/roles`);if(!b.ok)throw new Error("Khng th ly danh sch roles");const S=await b.json(),w=await fetch(`${me}/api/accounts/${e}`);if(!w.ok)throw new Error("Khng tm thy ti khon");const y=await w.json();r(S),s(y),d({Username:y.Username||"",Name:y.Name||"",Phone:y.Phone||"",Password:"",RoleId:((g=y.RoleId)==null?void 0:g.toString())||""}),c(!1)}catch(b){console.error(b),c(!1)}})()},[e]);const f=p=>d(g=>({...g,[p.target.name]:p.target.value})),h=async p=>{var g,b;p.preventDefault();try{const S={...o};S.Password||delete S.Password,await G.put(`/accounts/${e}`,S),alert("Cp nht thnh cng!"),t("/admin/accounts")}catch(S){console.error(S),alert(((b=(g=S.response)==null?void 0:g.data)==null?void 0:b.message)||"Cp nht tht bi")}};return i?a.jsx("p",{className:"text-center mt-6",children:"ang ti d liu..."}):n?a.jsx(ta,{children:a.jsxs("div",{className:"max-w-lg mx-auto mt-10 p-6 bg-white rounded shadow",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Cp nht ti khon"}),a.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Username"}),a.jsx("input",{type:"text",name:"Username",value:o.Username,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Name"}),a.jsx("input",{type:"text",name:"Name",value:o.Name,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Phone"}),a.jsx("input",{type:"text",name:"Phone",value:o.Phone,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Password ( trng nu khng i)"}),a.jsx("input",{type:"password",name:"Password",value:o.Password,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 font-semibold",children:"Role"}),a.jsx("select",{name:"RoleId",value:o.RoleId,onChange:f,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:l.map(p=>a.jsx("option",{value:p.RoleId.toString(),children:p.RoleName},p.RoleId))})]}),a.jsxs("div",{className:"flex justify-between gap-4 mt-4",children:[a.jsx("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Lu"}),a.jsx("button",{type:"button",onClick:()=>t("/admin/accounts"),className:"flex-1 bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Hy"})]})]})]})}):a.jsx("p",{className:"text-center mt-6",children:"Khng tm thy ti khon"})}function y4(){const[e,t]=x.useState([]),[n,s]=x.useState([]),[l,r]=x.useState(null),[i,c]=x.useState(!1),[o,d]=x.useState(null),f=de();x.useEffect(()=>{const u=sessionStorage.getItem("account");if(!u){f("/login",{replace:!0});return}const m=JSON.parse(u);if(String(m.RoleId)==="1"){f("/admin/accounts",{replace:!0});return}r(m)},[f]),x.useEffect(()=>{l&&(c(!0),G.get("/carts").then(u=>{t(u.data),c(!1)}).catch(u=>{console.error(u),c(!1)}))},[l]);const h=e.filter(u=>n.includes(u.CartId)).reduce((u,m)=>u+m.UnitPrice*m.Quantity,0),p=async(u,m)=>{m<1||m>99||(d(u.CartId),await G.patch("/carts/quantity",{cartId:u.CartId,quantity:m}),t(j=>j.map(N=>N.CartId===u.CartId?{...N,Quantity:m}:N)),d(null))},g=(u,m)=>{if(!/^\d+$/.test(m)||m==="")return;const j=Number(m);j<1||j>99||p(u,j)},b=async u=>{window.confirm("Bn c chc mun xa sn phm ny?")&&(await G.delete(`/carts/${u}`),t(m=>m.filter(j=>j.CartId!==u)),s(m=>m.filter(j=>j!==u)))},S=e.length>0&&n.length===e.length,w=u=>{s(u?e.map(m=>m.CartId):[])},y=async()=>{if(n.length===0){alert("Vui lng chn t nht 1 sn phm  thanh ton");return}sessionStorage.setItem("checkoutCartIds",JSON.stringify(n)),f("/checkout")};return i?a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[a.jsx(pe,{}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[a.jsx(_f,{className:"w-12 h-12 animate-spin text-orange-500"}),a.jsx("p",{className:"text-gray-600",children:"ang ti gi hng..."})]})})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[a.jsx(bi,{className:"inline-block w-8 h-8 mr-3 text-orange-500"}),"Gi hng ca bn"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:l!=null&&l.Name?`Xin cho, ${l.Name}!`:""})]}),e.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[a.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(bi,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Gi hng trng"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Bn cha thm sn phm no vo gi hng. Hy khm ph cc sn phm v bt u mua sm!"}),a.jsx("button",{onClick:()=>f("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300",children:"Tip tc mua sm"})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center mr-3 transition-all ${S?"bg-orange-500 border-orange-500":"border-gray-300"}`,children:S&&a.jsx(wl,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",checked:S,onChange:u=>w(u.target.checked),className:"hidden"}),a.jsxs("span",{className:"font-semibold cursor-pointer text-gray-700",children:["Chn tt c (",e.length," sn phm)"]})]})}),a.jsx("button",{onClick:()=>w(!S),className:"text-sm cursor-pointer text-orange-600 hover:text-orange-700 cursor-pointer font-medium",children:S?"B chn":"Chn tt c"})]})}),a.jsx("div",{className:"space-y-4",children:e.map(u=>{const m=n.includes(u.CartId),j=u.UnitPrice*u.Quantity;return a.jsx("div",{className:`bg-white rounded-2xl shadow-sm border-2 transition-all duration-300 ${m?"border-orange-500 bg-orange-50":"border-transparent hover:border-gray-200"}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"pt-1",children:a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${m?"bg-orange-500 border-orange-500":"border-gray-300"}`,children:m&&a.jsx(wl,{className:"w-3 h-3 text-white"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:m,onChange:N=>{s(O=>N.target.checked?[...O,u.CartId]:O.filter(E=>E!==u.CartId))}})]})}),a.jsx("div",{className:"flex-shrink-0 cursor-pointer",onClick:()=>f(`/product/${u.ProductId}`),children:a.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-gray-100",children:a.jsx("img",{src:u.Image,alt:u.ProductName,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 hover:text-orange-600 cursor-pointer transition-colors",onClick:()=>f(`/product/${u.ProductId}`),children:u.ProductName}),u.Description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:u.Description})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-bold text-red-500",children:[j.toLocaleString(),""]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Number(u.UnitPrice).toLocaleString()," / sn phm"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center border rounded-xl overflow-hidden",children:[a.jsx("button",{onClick:()=>p(u,u.Quantity-1),disabled:o===u.CartId||u.Quantity<=1,className:"w-10 h-10 flex items-center cursor-pointer justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(E3,{className:"w-4 h-4"})}),a.jsx("div",{className:"w-16",children:o===u.CartId?a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(_f,{className:"w-5 h-5 animate-spin text-orange-500"})}):a.jsx("input",{value:u.Quantity,onChange:N=>g(u,N.target.value),className:"w-full h-10 text-center border-x bg-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),a.jsx("button",{onClick:()=>p(u,u.Quantity+1),disabled:o===u.CartId||u.Quantity>=99,className:"w-10 h-10 flex items-center cursor-pointer justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(ap,{className:"w-4 h-4"})})]})}),a.jsxs("button",{onClick:()=>b(u.CartId),className:"flex items-center text-gray-400 cursor-pointer hover:text-red-500 transition-colors group",children:[a.jsx(jd,{className:"w-5 h-5 mr-1 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-sm font-medium",children:"Xa"})]})]})]})]})})},u.CartId)})})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"sticky top-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6 pb-4 border-b",children:"Tm tt n hng"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Sn phm  chn:"}),a.jsxs("span",{className:"font-semibold",children:[n.length," sn phm"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto pr-2 space-y-3",children:e.filter(u=>n.includes(u.CartId)).map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-gray-200",children:a.jsx("img",{src:u.Image,alt:u.ProductName,className:"w-full h-full object-cover"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-900 line-clamp-1",children:u.ProductName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[u.Quantity,"  ",Number(u.UnitPrice).toLocaleString(),""]})]})]}),a.jsxs("span",{className:"font-semibold text-red-500",children:[(u.UnitPrice*u.Quantity).toLocaleString(),""]})]},u.CartId))})]}),a.jsxs("div",{className:"border-t pt-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Tng tin:"}),a.jsxs("span",{className:"text-2xl font-bold text-red-500",children:[h.toLocaleString(),""]})]}),h===0&&a.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx(Xn,{className:"w-5 h-5 text-yellow-500 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Vui lng chn t nht 1 sn phm  thanh ton"})]})]})]}),a.jsxs("button",{disabled:n.length===0,onClick:y,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center space-x-3
                    ${n.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-red-500 cursor-pointer text-white hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]"}`,children:[a.jsx("span",{children:"Tin hnh thanh ton"}),a.jsx(Mf,{className:"w-5 h-5"})]}),a.jsx("button",{onClick:()=>f("/"),className:"w-full mt-4 py-3 bg-white border-2 cursor-pointer border-gray-300 text-gray-700 cursor-pointer font-semibold rounded-xl hover:border-orange-500 hover:text-orange-600 transition-all duration-300",children:"Tip tc mua sm"}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-100",children:a.jsx("p",{className:"text-sm text-blue-700 text-center",children:" Thanh ton an ton  m bo hon tin  H tr 24/7"})})]})})]})]}),e.length>0&&a.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-40",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tng thanh ton"}),a.jsxs("p",{className:"text-xl font-bold text-red-500",children:[h.toLocaleString(),""]})]}),a.jsxs("button",{disabled:n.length===0,onClick:y,className:`px-6 py-3 rounded-lg font-bold transition-all flex items-center space-x-2
                  ${n.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:[a.jsx("span",{children:"Thanh ton"}),a.jsx(Mf,{className:"w-4 h-4"})]})]})})}),e.length>0&&a.jsx("div",{className:"lg:hidden h-20"}),wd()&&a.jsx($l,{sellerId:null})]})}function b4(){const{id:e}=Oa(),t=de(),n=JSON.parse(sessionStorage.getItem("account")),s=n==null?void 0:n.AccountId,[l,r]=x.useState(null),[i,c]=x.useState(1),[o,d]=x.useState(!1),[f,h]=x.useState(!0),[p,g]=x.useState([]),[b,S]=x.useState({average:"0.0",totalReviews:0}),w=`${me}/uploads/ProductImage`,y=`${me}/uploads/AccountAvatar`,u=`${me}/uploads/feedback`;x.useEffect(()=>{(async()=>{var K,L;try{h(!0);const _=await G.get(`/products/${e}`);console.log("Product API Response:",_.data),_.data.success?(r({product:_.data.product,stall:_.data.stall}),g(_.data.feedbacks||[]),S({average:((K=_.data.rating)==null?void 0:K.average)||"0.0",totalReviews:((L=_.data.rating)==null?void 0:L.totalReviews)||0})):r(_.data)}catch(_){console.error("Error loading product:",_),alert("Khng th ti thng tin sn phm"),t("/")}finally{h(!1)}})()},[e,t]);const m=()=>c(H=>H+1),j=()=>i>1&&c(H=>H-1),N=H=>{let K=H.target.value;/^\d*$/.test(K)&&c(Math.max(1,Number(K)))},O=()=>{var H;return!s||!((H=l==null?void 0:l.stall)!=null&&H.AccountId)?!1:s!==l.stall.AccountId},E=async()=>{var H,K,L;try{if(!n){alert("Vui lng ng nhp  thm vo gi hng"),t("/login");return}await G.post("/carts",{productId:l.product.ProductId,quantity:i},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),alert(" thm vo gi hng")}catch(_){console.error("Add to cart error:",_),((H=_.response)==null?void 0:H.status)===401?(alert("Vui lng ng nhp"),t("/login")):alert(((L=(K=_.response)==null?void 0:K.data)==null?void 0:L.message)||"Khng th thm vo gi hng")}},v=()=>{if(!n){alert("Vui lng ng nhp  mua hng"),t("/login");return}const H={productId:l.product.ProductId,quantity:i,buyNow:!0};localStorage.setItem("buyNowData",JSON.stringify(H)),sessionStorage.removeItem("checkoutCartIds"),t("/checkout")},C=(H,K="md")=>{const L={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},_=parseFloat(H)||0;return a.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((U,Z)=>a.jsx(xn,{className:`${L[K]} ${Z<Math.floor(_)?"text-yellow-400 fill-yellow-400":Z<_?"text-yellow-400":"text-gray-300"}`},Z)),a.jsx("span",{className:`ml-2 ${K==="lg"?"text-lg":"text-sm"} text-gray-600 font-medium`,children:_.toFixed(1)})]})};if(f)return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("main",{className:"max-w-5xl mx-auto p-4 pt-20",children:a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),a.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/4"})]})]})})})]});if(!l||!l.product)return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("main",{className:"max-w-5xl mx-auto p-4 pt-20",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow text-center",children:[a.jsx(et,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Sn phm khng tn ti"}),a.jsx("button",{onClick:()=>t("/"),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer",children:"Quay li trang ch"})]})})]});const{product:A,stall:M}=l,k=A.Image?A.Image.startsWith("http")?A.Image:`${w}/${A.Image}`:`${w}/default.png`,I=M!=null&&M.Avt?`${y}/${M.Avt}`:`${y}/avtDf.png`;return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pt-20",children:[a.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[a.jsx("span",{className:"cursor-pointer hover:text-orange-500",onClick:()=>t("/"),children:"Trang ch"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("span",{className:"cursor-pointer hover:text-orange-500",onClick:()=>t("/search"),children:"Sn phm"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("span",{className:"text-gray-800 font-medium",children:A.ProductName})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative w-full h-96 overflow-hidden rounded-xl bg-gray-50",children:[a.jsx("img",{src:k,alt:A.ProductName,className:"w-full h-full object-contain"}),A.Status===0&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",children:a.jsx("span",{className:"text-white font-semibold px-4 py-2 bg-red-500 rounded-full",children:"Ngng bn"})})]}),a.jsx("div",{className:"flex gap-3 mt-4 overflow-x-auto",children:a.jsx("div",{className:"w-20 h-20 flex-shrink-0 rounded-lg border-2 border-orange-500 overflow-hidden",children:a.jsx("img",{src:k,alt:A.ProductName,className:"w-full h-full object-cover"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:A.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[C(b.average),a.jsxs("span",{className:"ml-2 text-gray-500",children:["(",b.totalReviews," nh gi)"]})]}),a.jsx("div",{className:"w-px h-4 bg-gray-300"}),a.jsxs("span",{className:"text-green-600 font-medium",children:[" bn: ",A.soldCount||0]})]}),a.jsx("div",{className:"flex items-center gap-3 mb-6",children:a.jsxs("span",{className:"text-4xl font-bold text-red-500",children:[Number(A.Price).toLocaleString()," "]})})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"M t sn phm"}),a.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:A.Description})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"S lng"}),a.jsxs("div",{className:"flex items-center w-32",children:[a.jsx("button",{onClick:j,className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l-lg hover:bg-gray-50 cursor-pointer",children:""}),a.jsx("input",{type:"number",min:"1",value:i,onChange:N,className:"w-12 h-10 text-center border-t border-b border-gray-300"}),a.jsx("button",{onClick:m,className:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r-lg hover:bg-gray-50 cursor-pointer",children:"+"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:v,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold rounded-lg hover:shadow-lg transition-shadow cursor-pointer",children:"Mua ngay"}),a.jsx("button",{onClick:E,className:"flex-1 px-6 py-3 border-2 border-orange-500 text-orange-500 font-semibold rounded-lg hover:bg-orange-50 transition cursor-pointer",children:"Thm vo gi"})]})]})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:I,alt:M==null?void 0:M.StallName,className:"w-16 h-16 rounded-full border-2 border-orange-100"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-800",children:M==null?void 0:M.StallName}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["Ch shop: ",M==null?void 0:M.Name]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[C(b.average,"sm"),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",b.totalReviews," nh gi)"]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[O()&&a.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition flex items-center gap-2 cursor-pointer",children:[a.jsx(vd,{size:18}),"Chat vi shop"]}),a.jsx("button",{onClick:()=>t(`/stall/${M==null?void 0:M.StallId}`),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition cursor-pointer",children:"Xem shop"})]})]})}),p.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"nh gi sn phm"}),a.jsx("div",{className:"flex items-center gap-8 mb-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold text-gray-800 mb-1",children:[b.average,a.jsx("span",{className:"text-3xl text-gray-500",children:"/5"})]}),C(b.average,"lg"),a.jsxs("p",{className:"text-gray-500 mt-2",children:[b.totalReviews," nh gi"]})]})}),a.jsx("div",{className:"space-y-6",children:p.map(H=>a.jsx("div",{className:"border-b pb-6 last:border-0",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("img",{src:H.AccountAvatar||`${y}/avtDf.png`,alt:H.AccountName,className:"w-12 h-12 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:H.AccountName}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(H.CreatedAt).toLocaleDateString("vi-VN")})]}),C(H.Score)]}),a.jsx("p",{className:"text-gray-700 mt-3 mb-4",children:H.Content}),H.Images&&H.Images.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:H.Images.map((K,L)=>{const _=typeof K=="string"?K.startsWith("http")?K:`${u}/${K}`:"";return a.jsx("img",{src:_,alt:`Hnh ${L+1}`,className:"h-24 w-24 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>{const U=document.getElementById("modal-image"),Z=document.getElementById("image-modal");U&&Z&&(U.src=_,Z.classList.remove("hidden"))}},L)})})]})]})},H.FeedbackId))})]})]}),a.jsx("div",{id:"image-modal",className:"hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[a.jsx("button",{onClick:()=>document.getElementById("image-modal").classList.add("hidden"),className:"absolute -top-12 right-0 p-2 text-white hover:text-gray-300 cursor-pointer",children:""}),a.jsx("img",{id:"modal-image",src:"",alt:"nh nh gi",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})]})}),O()&&a.jsxs(a.Fragment,{children:[a.jsx($l,{sellerId:M==null?void 0:M.AccountId,visible:!o,onOpen:()=>d(!0)}),o&&a.jsx(Nd,{sellerId:M==null?void 0:M.AccountId,onClose:()=>d(!1)})]})]})}function v4(){const{id:e}=Oa(),t=de(),[n,s]=x.useState(!0),[l,r]=x.useState(null),[i,c]=x.useState(null),[o,d]=x.useState({ProductName:"",Price:"",Description:"",Image:""});x.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),t("/"))},[t]),x.useEffect(()=>{(async()=>{try{const S=(await G.get(`/products/${e}`)).data.product;d(S),r(`${me}/uploads/ProductImage/${S.Image}`)}catch{alert("Khng tm thy sn phm"),t("/seller/products")}finally{s(!1)}})()},[e,t]);const f=g=>{const{name:b,value:S}=g.target;d(w=>({...w,[b]:S}))},h=g=>{const b=g.target.files[0];b&&(c(b),r(URL.createObjectURL(b)))},p=async()=>{try{const g=new FormData;g.append("ProductName",o.ProductName),g.append("Price",o.Price),g.append("Description",o.Description),i&&g.append("Image",i),await G.put(`/products/${e}`,g,{headers:{"Content-Type":"multipart/form-data"}}),alert("Cp nht thnh cng"),t("/seller/products")}catch{alert("Li cp nht sn phm")}};return n?a.jsx("div",{className:"p-4",children:"ang ti..."}):a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-6 flex gap-6",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1 bg-white p-8 rounded-xl shadow-sm relative",children:[a.jsx("button",{onClick:()=>t("/seller/products"),className:"absolute top-4 left-4 text-sm text-orange-500 hover:underline",children:" Tr v"}),a.jsx("h1",{className:"text-2xl font-bold mb-8 text-center",children:"Cp nht sn phm"}),a.jsxs("div",{className:"flex justify-center mb-8",children:[a.jsxs("label",{htmlFor:"imageUpload",className:"group relative w-72 h-72 cursor-pointer",children:[a.jsx("img",{src:l,alt:"",className:"w-full h-full object-contain border rounded-xl bg-gray-50"}),a.jsxs("div",{className:"absolute inset-0 bg-black/40 rounded-xl flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition",children:[a.jsx(n3,{className:"text-white w-8 h-8 mb-2"}),a.jsx("span",{className:"text-white text-sm",children:"Thay i hnh nh"})]})]}),a.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",className:"hidden",onChange:h})]}),a.jsxs("div",{className:"space-y-5 max-w-xl mx-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold",children:"Tn sn phm"}),a.jsx("input",{name:"ProductName",value:o.ProductName,onChange:f,className:"w-full border px-4 py-2 rounded-lg focus:ring-2 focus:ring-orange-400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold",children:"Gi"}),a.jsx("input",{type:"number",name:"Price",value:o.Price,onChange:f,className:"w-full border px-4 py-2 rounded-lg focus:ring-2 focus:ring-orange-400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold",children:"M t"}),a.jsx("textarea",{name:"Description",value:o.Description,onChange:f,className:"w-full border px-4 py-2 rounded-lg min-h-[140px] focus:ring-2 focus:ring-orange-400"})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx("button",{onClick:p,className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-2 rounded-lg font-semibold shadow",children:"Lu thay i"})})]})]})]})]})}function sa(){const e=de(),t=It(),n=[{label:"Thng tin c nhn",path:"/profile"},{label:"a ch",path:"/address"},{label:"n hng",path:"/orders"},{label:"Kho voucher",path:"/my-voucher"}],s=JSON.parse(sessionStorage.getItem("account")),l=r=>r?r.startsWith("http")||r.startsWith("/uploads")?r:`/uploads/AccountAvatar/${r}`:"/uploads/AccountAvatar/avtDf.png";return a.jsxs("aside",{className:"w-64 bg-white border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("img",{src:l(s==null?void 0:s.Avatar),className:"w-12 h-12 rounded-full object-cover border"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:s==null?void 0:s.Name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Ti l ",s==null?void 0:s.Username]})]})]}),a.jsx("div",{className:"space-y-2",children:n.map(r=>a.jsx("div",{onClick:()=>e(r.path),className:`cursor-pointer px-4 py-2 rounded 
              ${t.pathname===r.path?"bg-orange-500 text-white":"hover:bg-gray-100"}`,children:r.label},r.path))})]})}function j4(){const[e,t]=x.useState({Name:"",Phone:"",IdentityNumber:"",Gender:"",day:"",month:"",year:""}),n=de(),[s,l]=x.useState(null),[r,i]=x.useState(null),[c,o]=x.useState(null),d=x.useRef(null),f=sessionStorage.getItem("token");x.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),n("/"))},[n]),x.useEffect(()=>{(async()=>{const u=await G.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});if(l(u.data),u.data.DateOfBirth){const m=new Date(u.data.DateOfBirth);t(j=>({...j,Name:u.data.Name||"",Phone:u.data.Phone||"",IdentityNumber:u.data.IdentityNumber||"",Gender:u.data.Gender||"",day:m.getDate(),month:m.getMonth()+1,year:m.getFullYear()}))}})()},[f]);const h=y=>{t({...e,[y.target.name]:y.target.value})},p=async y=>{y.preventDefault();const u=e.year&&e.month&&e.day?`${e.year}-${e.month}-${e.day}`:null;await G.put(`/accounts/${s.AccountId}/profile`,{Name:e.Name,Phone:e.Phone,IdentityNumber:e.IdentityNumber,Gender:e.Gender,DateOfBirth:u},{headers:{Authorization:`Bearer ${f}`}}),alert("Cp nht thng tin thnh cng")},g=()=>{d.current.click()},b=y=>{const u=y.target.files[0];u&&(i(u),o(URL.createObjectURL(u)))},S=async()=>{if(!r)return alert("Cha chn avatar");const y=new FormData;y.append("avatar",r),await G.put(`/accounts/${s.AccountId}/avatar`,y,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}});const u=await G.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});sessionStorage.setItem("account",JSON.stringify(u.data)),l(u.data),i(null),o(null),alert("Cp nht avatar thnh cng"),window.location.reload()},w=[{label:"Tn",name:"Name"},{label:"S in thoi",name:"Phone"},{label:"CMND / CCCD",name:"IdentityNumber"}];return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(sa,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"H s ca ti"}),a.jsxs("div",{className:"grid grid-cols-[2fr_1px_1fr] gap-8",children:[a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[w.map(y=>a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:y.label}),a.jsx("input",{name:y.name,value:e[y.name],onChange:h,className:"col-span-2 border px-3 py-2 rounded w-full"})]},y.name)),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Gii tnh"}),a.jsxs("div",{className:"col-span-2 flex gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"m",checked:e.Gender==="m",onChange:h}),"Nam"]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"f",checked:e.Gender==="f",onChange:h}),"N"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Ngy sinh"}),a.jsxs("div",{className:"col-span-2 flex gap-3",children:[a.jsxs("select",{name:"day",value:e.day,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Ngy"}),[...Array(31)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"month",value:e.month,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Thng"}),[...Array(12)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"year",value:e.year,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Nm"}),Array.from({length:70},(y,u)=>2025-u).map(y=>a.jsx("option",{children:y},y))]})]})]}),a.jsxs("div",{className:"grid grid-cols-3",children:[a.jsx("div",{}),a.jsxs("div",{className:"grid grid-cols-2",children:[a.jsx("button",{type:"submit",className:"bg-orange-500 cursor-pointer hover:bg-orange-600 text-white px-4 py-2 rounded",children:"Lu"}),a.jsx("div",{className:"col-span-2"})]})]})]}),a.jsx("div",{className:"bg-black w-[1px]"}),a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:c||(s==null?void 0:s.Avatar)||`${me}/uploads/AccountAvatar/avtDf.png`,className:"w-[255px] h-[255px] rounded-full object-cover border cursor-pointer",onClick:g,title:"Click  i avatar"}),a.jsx("input",{type:"file",accept:"image/*",ref:d,className:"hidden",onChange:b}),a.jsx("button",{onClick:S,className:"bg-orange-500 cursor-pointer hover:bg-orange-600 text-white px-4 py-2 rounded",children:"Lu nh"})]})]})]})]})]})}function N4(){const[e,t]=x.useState({Name:"",Phone:"",IdentityNumber:"",Gender:"",day:"",month:"",year:""}),n=de(),[s,l]=x.useState(null),[r,i]=x.useState(null),[c,o]=x.useState(null),d=x.useRef(null),f=sessionStorage.getItem("token");x.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),n("/"))},[n]),x.useEffect(()=>{(async()=>{const u=await G.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});if(l(u.data),u.data.DateOfBirth){const m=new Date(u.data.DateOfBirth);t(j=>({...j,Name:u.data.Name||"",Phone:u.data.Phone||"",IdentityNumber:u.data.IdentityNumber||"",Gender:u.data.Gender||"",day:m.getDate(),month:m.getMonth()+1,year:m.getFullYear()}))}})()},[f]);const h=y=>{t({...e,[y.target.name]:y.target.value})},p=async y=>{y.preventDefault();const u=e.year&&e.month&&e.day?`${e.year}-${e.month}-${e.day}`:null;await G.put(`/accounts/${s.AccountId}/profile`,{Name:e.Name,Phone:e.Phone,IdentityNumber:e.IdentityNumber,Gender:e.Gender,DateOfBirth:u},{headers:{Authorization:`Bearer ${f}`}}),alert("Cp nht thng tin thnh cng")},g=()=>{d.current.click()},b=y=>{const u=y.target.files[0];u&&(i(u),o(URL.createObjectURL(u)))},S=async()=>{if(!r)return alert("Cha chn avatar");const y=new FormData;y.append("avatar",r),await G.put(`/accounts/${s.AccountId}/avatar`,y,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"multipart/form-data"}});const u=await G.get("/accounts/me",{headers:{Authorization:`Bearer ${f}`}});sessionStorage.setItem("account",JSON.stringify(u.data)),l(u.data),i(null),o(null),alert("Cp nht avatar thnh cng"),window.location.reload()},w=[{label:"Tn",name:"Name"},{label:"S in thoi",name:"Phone"},{label:"CMND / CCCD",name:"IdentityNumber"}];return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"H s ca ti"}),a.jsxs("div",{className:"grid grid-cols-[2fr_1px_1fr] gap-8",children:[a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[w.map(y=>a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:y.label}),a.jsx("input",{name:y.name,value:e[y.name],onChange:h,className:"col-span-2 border px-3 py-2 rounded w-full"})]},y.name)),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Gii tnh"}),a.jsxs("div",{className:"col-span-2 flex gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"m",checked:e.Gender==="m",onChange:h}),"Nam"]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"Gender",value:"f",checked:e.Gender==="f",onChange:h}),"N"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[a.jsx("label",{className:"text-right font-medium",children:"Ngy sinh"}),a.jsxs("div",{className:"col-span-2 flex gap-3",children:[a.jsxs("select",{name:"day",value:e.day,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Ngy"}),[...Array(31)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"month",value:e.month,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Thng"}),[...Array(12)].map((y,u)=>a.jsx("option",{children:u+1},u+1))]}),a.jsxs("select",{name:"year",value:e.year,onChange:h,className:"border px-2 py-1",children:[a.jsx("option",{value:"",children:"Nm"}),Array.from({length:70},(y,u)=>2025-u).map(y=>a.jsx("option",{children:y},y))]})]})]}),a.jsxs("div",{className:"grid grid-cols-3",children:[a.jsx("div",{}),a.jsxs("div",{className:"grid grid-cols-2",children:[a.jsx("button",{type:"submit",className:"col-span-1 bg-orange-500 text-white px-2 py-2 rounded",children:"Lu"}),a.jsx("div",{className:"col-span-2"})]})]})]}),a.jsx("div",{className:"bg-black w-[1px]"}),a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:c||(s==null?void 0:s.Avatar)||`${me}/uploads/AccountAvatar/avtDf.png`,className:"w-[255px] h-[255px] rounded-full object-cover border cursor-pointer",onClick:g,title:"Click  i avatar"}),a.jsx("input",{type:"file",accept:"image/*",ref:d,className:"hidden",onChange:b}),a.jsx("button",{onClick:S,className:"bg-orange-500 text-white px-6 py-2 rounded",children:"Lu nh"})]})]})]})]})]})}function w4(){const[e,t]=x.useState([]),[n,s]=x.useState(!0),l=de(),r=sessionStorage.getItem("token"),i=async()=>{try{const o=await G.get("/addresses/me",{headers:{Authorization:`Bearer ${r}`}});t(o.data)}catch(o){console.error(o)}finally{s(!1)}};x.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),l("/"))},[l]),x.useEffect(()=>{r&&i()},[r]);const c=async o=>{if(window.confirm("Bn c chc mun xa a ch ny?"))try{await G.delete(`/addresses/${o}`,{headers:{Authorization:`Bearer ${r}`}}),i()}catch(f){console.error(f),alert("Xa tht bi")}};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(sa,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"a ch ca ti"}),a.jsx("button",{onClick:()=>l("/address/add"),className:"bg-orange-500 cursor-pointer hover:bg-orange-600 text-white px-4 py-2 rounded",children:"+ Thm a ch"})]}),n?a.jsx("p",{children:"ang ti..."}):e.length===0?a.jsx("p",{className:"text-gray-500",children:"Cha c a ch"}):a.jsx("div",{className:"space-y-4",children:e.map(o=>a.jsxs("div",{onClick:()=>l(`/address/update/${o.AddressId}`),className:"border rounded-lg p-4 flex justify-between items-start cursor-pointer hover:shadow transition relative",children:[a.jsx("div",{children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-800",children:[o.Name," - ",o.Phone]}),a.jsx("p",{className:"text-gray-600",children:o.Content})]})}),a.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),c(o.AddressId)},className:" flex items-center gap-1 cursor-pointer px-3 py-1.5 text-sm font-medium text-red-600 border border-red-200 rounded-md hover:bg-red-200 hover:border-red-500 active:scale-95 transition",children:"Xa"})]},o.AddressId))})]})]})]})}function S4(){const[e,t]=x.useState(""),[n,s]=x.useState(""),[l,r]=x.useState(""),[i,c]=x.useState(!1),[o,d]=x.useState(""),f=de(),h=sessionStorage.getItem("token");x.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),f("/"))},[f]);const p=async b=>{if(b.preventDefault(),!e.trim())return alert("Nhp tn ngi nhn");if(!n.trim())return alert("Nhp s in thoi");if(n.trim().length!==10)return alert("S in thoi phi ng 10 ch s");if(!l.trim())return alert("Nhp a ch");try{c(!0),await G.post("/addresses",{Name:e.trim(),Phone:n.trim(),Content:l.trim()},{headers:{Authorization:`Bearer ${h}`}}),f("/address")}catch{alert("Thm tht bi")}finally{c(!1)}},g=()=>{(e||n||l)&&!window.confirm("Bn cha lu, chc chn hu?")||f("/address")};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(sa,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Thm a ch"}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsx("input",{value:e,onChange:b=>t(b.target.value),placeholder:"Tn ngi nhn",className:"w-full border rounded p-3"}),a.jsx("input",{value:n,onChange:b=>{const S=b.target.value.replace(/\D/g,"");s(S),S.length>10?d("S in thoi khng c qu 10 ch s"):d("")},onBlur:()=>{n&&n.length!==10&&d("S in thoi phi ng 10 ch s")},placeholder:"S in thoi",className:`w-full border rounded p-3 ${o?"border-red-500":""}`}),o&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:o}),a.jsx("textarea",{value:l,onChange:b=>r(b.target.value),placeholder:"a ch chi tit",className:"w-full border rounded p-3",rows:4}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{type:"submit",disabled:i,className:"bg-orange-500 text-white cursor-pointer px-6 py-2 rounded disabled:opacity-60",children:i?"ang lu...":"Lu"}),a.jsx("button",{type:"button",onClick:g,className:"px-6 py-2 rounded border cursor-pointer border-gray-300 text-gray-700 hover:bg-gray-100",children:"Hu"})]})]})]})]})]})}const C4={":)":"",":(":"",":D":"",";)":"",":P":""},T4=e=>{let t=e;for(const[n,s]of Object.entries(C4))t=t.split(n).join(s);return t},Vf=e=>{const t=new Date(e),n=new Date,s=t.getFullYear(),l=t.getMonth(),r=t.getDate(),i=n.getFullYear(),c=n.getMonth(),o=n.getDate(),d=Math.floor((new Date(i,c,o)-new Date(s,l,r))/(24*60*60*1e3)),f=t.getHours().toString().padStart(2,"0"),h=t.getMinutes().toString().padStart(2,"0");if(s===i&&l===c&&r===o)return`${f}:${h}`;if(d>0&&d<7){const b=t.getDay();return`${b===0?"CN":`T${b+1}`} lc ${f}:${h}`}const p=r,g=l+1;return s!==i?`${p} THG ${g}/${s} lc ${f}:${h}`:`${p} THG ${g} lc ${f}:${h}`},Bf=(e,t)=>!e||!t||e.SenderId!==t.SenderId?!1:new Date(t.SendAt)-new Date(e.SendAt)<=6e4,E4=({chat:e,currentUserId:t,messages:n=[],onSendMessage:s,onNewMessage:l,onInitiateCall:r})=>{const[i,c]=x.useState(""),[o,d]=x.useState(!1),[f,h]=x.useState(null),p=x.useRef(null),g=500,b=async()=>{if(!(!i.trim()||!e)&&s)try{await s(i.slice(0,g)),c("")}catch(m){console.error("Error sending message:",m)}};x.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[n]);const S=(m,j)=>{const N=m||"";return N.startsWith("image/")?a.jsx(jl,{className:"text-blue-500"}):N.startsWith("video/")?a.jsx(ea,{className:"text-red-500"}):N.startsWith("audio/")?a.jsx(hs,{className:"text-green-500"}):j!=null&&j.endsWith(".pdf")?a.jsx(Zg,{className:"text-red-500"}):j!=null&&j.endsWith(".doc")||j!=null&&j.endsWith(".docx")?a.jsx(Jg,{className:"text-blue-500"}):j!=null&&j.endsWith(".xls")||j!=null&&j.endsWith(".xlsx")?a.jsx(Pg,{className:"text-green-500"}):N.includes("zip")||N.includes("compressed")?a.jsx(Kg,{className:"text-yellow-500"}):a.jsx(al,{className:"text-gray-500"})},w=m=>{const j=m.MessageType==="image",N=m.MessageType==="video",O=m.MessageType==="audio";let E=m.FileURL;return E&&E.startsWith("/api/")?E=`${me}${E}`:E&&!E.includes("/")&&!E.startsWith("http")?E=`${me}/api/files/${E}`:!E&&m.FileName&&(E=`${me}/api/files/${m.MessageId}`),a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:`rounded-lg overflow-hidden ${j?"border":""}`,children:j?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:E,alt:m.FileName||"Image",className:"max-w-full max-h-64 object-contain cursor-pointer bg-gray-100 group-hover:blur-sm transition-all duration-200",onClick:()=>h({url:E,name:m.FileName||"Image"}),onError:v=>v.target.src=`${me}/uploads/placeholder.png`}),a.jsx("div",{className:"absolute inset-0 backdrop-blur-0 group-hover:backdrop-blur-[2px] bg-white/0 group-hover:bg-white/5 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:a.jsx("button",{onClick:()=>h({url:E,name:m.FileName||"Image"}),className:"p-2 bg-white/80 backdrop-blur-sm cursor-pointer rounded-full shadow-sm hover:bg-white hover:shadow-md transition-all",children:a.jsx(jl,{className:"text-gray-700"})})})]}):N?a.jsx("div",{className:"relative",children:a.jsx("video",{controls:!0,className:"max-w-full max-h-64 bg-black",poster:m.ThumbnailURL,children:a.jsx("source",{src:E,type:m.FileMimeType||"video/mp4"})})}):O?a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(hs,{className:"text-2xl text-green-500 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",title:m.FileName||"Audio file",children:m.FileName||"Audio file"}),a.jsx("audio",{controls:!0,className:"w-full mt-2",src:E})]})]})}):a.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-2xl flex-shrink-0",children:S(m.FileMimeType,m.FileName)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",title:m.FileName||"File",children:m.FileName||"File"}),m.FileSize&&a.jsxs("p",{className:"text-sm text-gray-500",children:[(m.FileSize/1024).toFixed(1)," KB"]})]}),a.jsx("a",{href:E,download:m.FileName||"file",className:"p-2 hover:bg-gray-200 rounded-full transition-colors flex-shrink-0",title:"Download",onClick:v=>!E&&v.preventDefault(),children:a.jsx(xi,{})})]})})}),m.Content&&m.Content!==m.FileName&&a.jsx("p",{className:"mt-2 text-sm text-gray-700 break-words whitespace-pre-wrap",children:m.Content})]})},y=m=>{if(m.MessageType==="call_invite"||m.MessageType==="call_end")return a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2",children:m.Content});const j=lp.parse(T4(m.Content||""),{folder:"svg",ext:".svg",className:"twemoji"});return a.jsx("span",{dangerouslySetInnerHTML:{__html:j}})},u=n.filter((m,j,N)=>j===N.findIndex(O=>O.MessageId===m.MessageId));return a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o&&a.jsx(rp,{chatId:e==null?void 0:e.ChatId,senderId:t,onClose:()=>d(!1),onSuccess:m=>{l&&l(m),d(!1)}}),f&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>h(null),children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] bg-white rounded-lg shadow-2xl overflow-hidden",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-between p-3 border-b",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 truncate flex-1 mr-4",children:f.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:f.url,download:f.name,className:"p-2 text-gray-600 cursor-pointer hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",onClick:m=>m.stopPropagation(),children:a.jsx(xi,{size:20})}),a.jsx("button",{onClick:()=>h(null),className:"p-2 text-gray-600 cursor-pointer hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",children:a.jsx(Nl,{size:24})})]})]}),a.jsx("div",{className:"pt-12 h-full flex items-center justify-center p-4",children:a.jsx("img",{src:f.url,alt:f.name,className:"max-w-full max-h-[calc(90vh-3rem)] object-contain"})})]})}),a.jsx("div",{ref:p,className:"flex-1 p-3 overflow-y-auto bg-gray-50",style:{maxHeight:"500px",overflowX:"hidden"},children:u.map((m,j)=>{const N=u[j-1],O=u[j+1],E=m.SenderId==t,v=Bf(N,m),C=Bf(m,O),A=j===0||!v;let M="rounded-lg";return!v&&C?M=E?"rounded-lg rounded-tr-2xl":"rounded-lg rounded-tl-2xl":v&&!C&&(M=E?"rounded-lg rounded-br-2xl":"rounded-lg rounded-bl-2xl"),m.MessageType==="call_invite"||m.MessageType==="call_end"?a.jsxs("div",{children:[A&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:Vf(m.SendAt)}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"text-center text-sm text-gray-500 italic py-2 px-4 bg-gray-100 rounded-full",children:m.Content})})]},m.MessageId||`${m.SendAt}_${j}`):a.jsxs("div",{children:[A&&a.jsx("div",{className:"text-center text-xs text-gray-400 my-2",children:Vf(m.SendAt)}),a.jsx("div",{className:`flex ${E?"justify-end":"justify-start"} mb-1`,children:a.jsx("div",{className:M,style:{maxWidth:m.MessageType!=="text"?"100%":"65%",padding:"0.5rem 0.75rem",fontSize:"0.875rem",lineHeight:"1.25rem",wordBreak:"break-word",whiteSpace:"pre-wrap",overflowWrap:"anywhere",backgroundColor:E?"#f97316":"#fff",color:E?"#fff":"#000",border:E?"none":"1px solid #e5e7eb",fontFamily:'"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif'},children:m.MessageType==="text"?y(m):w(m)})})]},m.MessageId||`${m.SendAt}_${j}`)})}),a.jsxs("div",{className:"border-t border-gray-200 p-3 bg-white min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>r&&r("audio"),className:"h-10 w-10 flex items-center cursor-pointer justify-center text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-full transition-colors flex-shrink-0",title:"Gi thoi",disabled:!e,children:a.jsx(gi,{})}),a.jsx("button",{onClick:()=>r&&r("video"),className:"h-10 w-10 flex items-center justify-center cursor-pointer text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-full transition-colors flex-shrink-0",title:"Gi video",disabled:!e,children:a.jsx(ea,{})}),a.jsx("button",{onClick:()=>d(!0),className:"h-10 w-10 flex items-center justify-center cursor-pointer text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors flex-shrink-0",title:"Gi file",disabled:!e,children:a.jsx(bd,{size:18})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("input",{className:"w-full h-10 border border-gray-300 rounded-full px-4 text-sm focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:i,maxLength:g,onChange:m=>c(m.target.value),onKeyDown:m=>m.key==="Enter"&&b(),placeholder:e?"Nhp ni dung tin nhn...":"Chn cuc tr chuyn",disabled:!e})}),a.jsx("button",{onClick:b,disabled:!e||!i.trim(),className:"h-10 w-10 bg-orange-500 text-white cursor-pointer rounded-full flex items-center justify-center hover:bg-orange-600 transition-colors flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Wg,{size:16})})]}),a.jsxs("div",{className:"text-xs text-gray-400 text-center mt-1",children:[i.length,"/",g]})]})]})},A4=e=>{const t="/uploads/AccountAvatar/avtDf.png";return e?(e.startsWith("http://")&&window.location.protocol==="https:"&&(e=e.replace("http://","https://")),e.startsWith("http://")||e.startsWith("https://")?e:`/uploads/AccountAvatar/${e}`):t};function O4(){const e=de(),t=JSON.parse(sessionStorage.getItem("account")),n=t==null?void 0:t.AccountId,{socket:s}=md(),[l,r]=x.useState([]),[i,c]=x.useState(null),[o,d]=x.useState([]),[f,h]=x.useState(null),[p,g]=x.useState(!1),b=x.useRef(new Set),S=x.useRef(f);x.useEffect(()=>{S.current=f},[f]),x.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),x.useEffect(()=>{n&&G.get("/chats/seller",{params:{sellerId:n}}).then(m=>{const j=m.data.map(N=>({...N,SellerId:parseInt(n)}));r(j)}).catch(m=>console.error("Error loading chats:",m))},[n]),x.useEffect(()=>{if(!i)return;(async()=>{try{const j=await G.get("/messages",{params:{chatId:i.ChatId}});d(j.data),await G.post("/messages/read",{chatId:i.ChatId,readerId:n}),r(N=>N.map(O=>O.ChatId===i.ChatId?{...O,UnreadCount:0}:O))}catch(j){console.error("Error loading messages:",j)}})()},[i,n]),x.useEffect(()=>{if(!i||!s)return;s.emit("joinChat",i.ChatId);const m=j=>{j.ChatId===i.ChatId&&(b.current.has(j.MessageId)||(b.current.add(j.MessageId),d(N=>N.some(O=>O.MessageId===j.MessageId)?N:[...N,j]),j.SenderId!=n&&r(N=>N.map(O=>O.ChatId===i.ChatId?{...O,UnreadCount:(O.UnreadCount||0)+1}:O))))};return s.on("newMessage",m),()=>{s.off("newMessage",m),s.emit("leaveChat",i.ChatId)}},[i,n,s]),x.useEffect(()=>{if(!s)return;const m=N=>{var O;((O=S.current)==null?void 0:O.CallId)===N.CallId&&h(N)},j=N=>{var O;((O=S.current)==null?void 0:O.CallId)===N.CallId&&(h(null),g(!1))};return s.on("callAccepted",m),s.on("callEnded",j),()=>{s.off("callAccepted",m),s.off("callEnded",j)}},[s]);const w=async m=>{if(!(!m.trim()||!i))try{const N=(await G.post("/messages",{chatId:i.ChatId,senderId:n,content:m})).data;b.current.add(N.MessageId),d(O=>[...O,N])}catch(j){console.error("Send message error:",j),alert("Gi tin nhn tht bi")}},y=m=>{b.current.has(m.MessageId)||(b.current.add(m.MessageId),d(j=>[...j,m]))},u=async m=>{var j,N;if(i)try{const O=i.BuyerId,E=await G.post("/calls/initiate",{chatId:i.ChatId,callerId:n,receiverId:O,type:m});h(E.data),g(!0)}catch(O){console.error("Failed to initiate call:",O),alert("Khng th bt u cuc gi: "+(((N=(j=O.response)==null?void 0:j.data)==null?void 0:N.message)||O.message))}};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),f&&a.jsx(Pi,{call:f,currentUserId:n,isIncoming:!1,onEndCall:()=>{h(null),g(!1)},isOpen:p,socket:s}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1 bg-white flex h-[650px] overflow-hidden rounded-xl border border-gray-300 shadow-md min-w-0",children:[a.jsxs("div",{className:"w-72 border-r flex flex-col flex-shrink-0",children:[a.jsx("div",{className:"p-3 font-semibold border-b flex-shrink-0",children:"Tin nhn"}),a.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:l.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Cha c cuc tr chuyn no"}):l.map(m=>a.jsx("div",{onClick:()=>c(m),className:`p-3 cursor-pointer border-b hover:bg-gray-100 transition-colors active:bg-gray-200 flex-shrink-0 ${(i==null?void 0:i.ChatId)===m.ChatId?"bg-orange-50 border-l-4 border-l-orange-500":""}`,children:a.jsxs("div",{className:"flex gap-2 items-center min-w-0",children:[a.jsx("img",{src:m.BuyerAvatar?`${me}/uploads/AccountAvatar/${m.BuyerAvatar}`:`${me}/uploads/AccountAvatar/avtDf.png`,className:"w-10 h-10 rounded-full object-cover flex-shrink-0",alt:m.BuyerName}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold text-sm truncate",children:m.BuyerName}),a.jsx("div",{className:"text-xs truncate",children:a.jsx("span",{className:m.UnreadCount>0?"font-bold text-black":"text-gray-500",children:m.LastMessage||"Cha c tin nhn"})})]}),m.UnreadCount>0&&a.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full min-w-5 h-5 flex items-center justify-center flex-shrink-0",children:m.UnreadCount>9?"9+":m.UnreadCount})]})},m.ChatId))})]}),a.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-3 border-b font-semibold flex items-center justify-between bg-gray-50 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("img",{src:A4(i.BuyerAvatar),className:"w-10 h-10 rounded-full object-cover flex-shrink-0",alt:i.BuyerName,onError:m=>{m.target.onerror=null,m.target.src="/uploads/AccountAvatar/avtDf.png"}}),a.jsxs("span",{className:"text-gray-800 truncate",children:["Chat vi ",i.BuyerName]})]})}),a.jsx(E4,{chat:i,currentUserId:n,messages:o,onSendMessage:w,onNewMessage:y,onInitiateCall:u})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 p-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"Chn cuc tr chuyn"}),a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Chn mt cuc tr chuyn t danh sch bn tri  bt u nhn tin"})]})})]})]})]})}function D4(){const e=de(),[t,n]=x.useState([]),[s,l]=x.useState([]),[r,i]=x.useState(null),[c,o]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState("all"),[g,b]=x.useState(1),S=12;x.useEffect(()=>{sessionStorage.getItem("roleId")!=="1"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]);const w=async()=>{try{const M=(await G.get("/ads")).data.map(k=>({...k,AdsImage:k.AdsImage?`/uploads/AdsImage/${k.AdsImage}`:null}));n(M)}catch(A){console.error(A)}},y=async()=>{try{const A=await G.get("/styleAds");l(A.data)}catch(A){console.error(A)}};x.useEffect(()=>{w(),y()},[]);const u=async(A,M)=>{var H;const k=Number(M)===1?0:1;if((H=(await G.patch(`/ads/${A}/status`,{status:k})).data)!=null&&H.needConfirm){const K=t.find(U=>U.AdsId===A),L=C(K.StyleID);if(!window.confirm(`Qung co ny ang hin th ti "${L}". Bn c chc mun tt khng?`))return;await G.patch(`/ads/${A}/status`,{status:0,confirm:!0})}w()},m=async A=>{const M=new FormData;M.append("image",A),await G.post("/ads/upload",M,{headers:{"Content-Type":"multipart/form-data"}}),w()},j=A=>{i(A),o(!0)},N=async A=>{var M,k;try{if(Number(r.StyleID)===Number(A)){alert("nh ny  c s dng  trang ny"),o(!1),i(null);return}const I=await G.patch(`/ads/${r.AdsId}/style`,{styleId:A});if(I.data.message){alert(I.data.message);return}if(I.data.type==="empty_style"){if(!window.confirm(`Bn c chc mun chuyn nh sang "${C(A)}" khng?`))return;await G.patch(`/ads/${r.AdsId}/confirm-style`,{newStyleId:A})}if(I.data.type==="occupied_style"){if(!window.confirm(`Trang "${C(A)}"  c nh khc. nh c s b n. Bn c chc khng?`))return;await G.patch(`/ads/${r.AdsId}/confirm-style`,{newStyleId:A,occupiedAdId:I.data.occupiedAd.AdsId})}w(),o(!1),i(null)}catch(I){alert(((k=(M=I.response)==null?void 0:M.data)==null?void 0:k.message)||"Khng th thay i trang hin th qung co")}},O=x.useMemo(()=>t.filter(A=>h==="all"?!0:String(A.Status)===h),[t,h]);x.useEffect(()=>{b(1)},[h]);const E=Math.ceil(O.length/S),v=O.slice((g-1)*S,g*S),C=A=>{const M=s.find(k=>Number(k.StyleID)===Number(A));return M?M.StyleName:"-"};return a.jsxs(ta,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Danh sch Qung co"}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"border rounded px-3 py-1 text-sm",children:[a.jsx("option",{value:"all",children:"Tt c"}),a.jsx("option",{value:"1",children:"Hot ng"}),a.jsx("option",{value:"0",children:"Ngng s dng"})]}),a.jsxs("label",{className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded cursor-pointer text-sm",children:["Thm qung co",a.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:A=>{var M;(M=A.target.files)!=null&&M[0]&&(m(A.target.files[0]),A.target.value="")}})]})]})]}),a.jsx("div",{className:"grid grid-cols-6 gap-4",children:v.map(A=>a.jsxs("div",{className:"bg-white rounded shadow p-4 flex flex-col items-center",children:[A.AdsImage?a.jsxs("div",{className:"relative w-full h-40 mb-2 overflow-hidden rounded cursor-pointer",onClick:()=>f(A.AdsImage),children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-110 blur-md",style:{backgroundImage:`url(${A.AdsImage})`}}),a.jsx("img",{src:A.AdsImage,className:"relative z-10 w-full h-full object-contain"})]}):a.jsx("div",{className:"w-full h-40 bg-gray-200 flex items-center justify-center mb-2",children:"Cha c nh"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{onClick:()=>u(A.AdsId,A.Status),className:`px-3 py-1 rounded text-white transition ${Number(A.Status)===1?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:Number(A.Status)===1?"ang dng":"Ngng dng"}),a.jsxs("button",{onClick:()=>j(A),className:"px-3 py-1 rounded bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-1 cursor-pointer",children:[a.jsx(LN,{}),"Chn trang"]})]}),A.StyleID&&a.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Mn hnh: ",C(A.StyleID)]})]},A.AdsId))}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsx("button",{onClick:()=>b(A=>Math.max(1,A-1)),disabled:g===1,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${g===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-500 hover:text-white cursor-pointer"}
          `,children:" Trc"}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:E},(A,M)=>a.jsx("button",{onClick:()=>b(M+1),className:`
                w-9 h-9 rounded-full text-sm font-semibold
                transition-all duration-200
                ${g===M+1?"bg-orange-300 text-white":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
              `,children:M+1},M))}),a.jsx("button",{onClick:()=>b(A=>Math.min(E,A+1)),disabled:g===E||E===0,className:`
            flex items-center gap-2 px-4 py-2 rounded-full border
            transition-all duration-200
            ${g===E||E===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-500 hover:text-white cursor-pointer"}
          `,children:"Sau "})]}),c&&r&&a.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded shadow-lg p-5 w-96",children:[a.jsx("h2",{className:"text-lg font-bold mb-3",children:"Chn Trang hin th"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.filter(A=>A.StyleID!==1).map(A=>{const M=t.find(k=>Number(k.StyleID)===Number(A.StyleID));return a.jsxs("button",{onClick:()=>N(A.StyleID),className:"border rounded p-2 text-left hover:bg-gray-50",children:[a.jsx("p",{className:"font-semibold",children:A.StyleName}),M?a.jsx("img",{src:M.AdsImage,className:"w-full h-20 object-cover mt-1 rounded"}):a.jsx("p",{className:"mt-1 text-sm text-gray-400 italic",children:"Trng (null)"})]},A.StyleID)})}),a.jsx("button",{onClick:()=>o(!1),className:"mt-4 w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded cursor-pointer",children:"Hu"})]})}),d&&a.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"relative bg-white rounded-lg p-3",children:[a.jsx("button",{onClick:()=>f(null),className:"absolute -top-3 -right-3 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center cursor-pointer hover:bg-red-600",children:""}),a.jsx("img",{src:d,className:"max-w-[80vw] max-h-[80vh] object-contain rounded"})]})})]})}function M4(){const e=de(),[t,n]=x.useState([]),[s,l]=x.useState([]),[r,i]=x.useState([]),[c,o]=x.useState([]),[d,f]=x.useState([]),[h,p]=x.useState(null),[g,b]=x.useState(null),[S,w]=x.useState(null),[y,u]=x.useState([]),[m,j]=x.useState(!0),[N,O]=x.useState(!1),E=x.useMemo(()=>{const D=new Set;return t.forEach(q=>{q.selectedVoucher&&D.add(q.selectedVoucher.UsageId)}),g&&D.add(g.UsageId),D},[t,g]),v=D=>Number(D||0).toLocaleString("vi-VN");x.useEffect(()=>{if(!JSON.parse(sessionStorage.getItem("account"))){e("/login",{replace:!0});return}const q=localStorage.getItem("buyNowData"),Y=JSON.parse(sessionStorage.getItem("checkoutCartIds"))||[];q&&!Y.length?O(!0):O(!1)},[e]),x.useEffect(()=>{(async()=>{var q,Y;try{const z=JSON.parse(sessionStorage.getItem("account"));if(!z)return;j(!0);const J=JSON.parse(localStorage.getItem("buyNowData")),X=JSON.parse(sessionStorage.getItem("checkoutCartIds"))||[];let F;J&&J.buyNow&&!X.length?F=await G.post("/orders/checkout/buynow",{productId:J.productId,quantity:J.quantity||1}):F=await G.post("/orders/checkout",{cartIds:X});const[ee,je,$t]=await Promise.all([G.get(`/addresses/account/${z.AccountId}`),G.get("/orders/shiptypes"),G.get("/payment-methods")]),ql=F.data.items.map((Zi,ip)=>{var Sd;return{...Zi,itemId:Zi.CartId||`buynow_${Zi.ProductId}_${ip}`,selectedShipType:((Sd=je.data)==null?void 0:Sd[0])||null,selectedVoucher:null}});n(ql),o(F.data.orderVouchers||[]),f(F.data.allVouchers||[]),l(ee.data||[]),i(je.data||[]),u($t.data||[]),(q=ee.data)!=null&&q.length&&p(ee.data[0]),(Y=$t.data)!=null&&Y.length&&w($t.data[0]),j(!1)}catch(z){console.error("Fetch error:",z),alert("Khng th ti d liu checkout"),localStorage.removeItem("buyNowData"),e("/cart")}})()},[e]);const C=D=>{const q=y.find(Y=>Y.MethodId===Number(D));w(q||null)},A=(D,q)=>{n(Y=>Y.map(z=>{if(z.itemId===D){let J=null;if(q){const X=z.vouchers.find(ee=>ee.UsageId===Number(q));if(!X)return z;if(E.has(X.UsageId))return alert(`Voucher "${X.VoucherName}"  c s dng  sn phm khc hoc cho ton n. Vui lng chn voucher khc.`),z;if(X.StallId&&X.StallId!==z.StallId)return alert(`Voucher "${X.VoucherName}" ch p dng cho sn phm t ca hng ny, khng p dng cho sn phm hin ti`),z;const F=I(X,z);if(F==="fully_used")return alert(`Voucher ny ch cn ${X.Quantity} lt v  c s dng ht trong n ny`),z;if(F==="min_order_not_met")return alert(`Voucher yu cu n hng ti thiu ${v(X.MinOrderValue)}`),z;J=X,g&&g.UsageId===X.UsageId&&b(null)}return{...z,selectedVoucher:J}}return z}))},M=(D,q)=>{n(Y=>Y.map(z=>{if(z.itemId===D){const J=r.find(X=>X.ShipTypeId===Number(q))||null;return{...z,selectedShipType:J}}return z}))},k=D=>{if(D){const q=c.find(z=>z.UsageId===Number(D));if(!q)return;if(E.has(q.UsageId)){alert(`Voucher "${q.VoucherName}" ang c s dng cho sn phm. Vui lng b chn  sn phm trc hoc chn voucher khc.`);return}if(t.reduce((z,J)=>z+J.totalPrice,0)<q.MinOrderValue){alert(`Voucher yu cu n hng ti thiu ${v(q.MinOrderValue)}`);return}n(z=>z.map(J=>J.selectedVoucher&&J.selectedVoucher.UsageId===q.UsageId?{...J,selectedVoucher:null}:J)),b(q)}else b(null)},I=(D,q)=>{var z;return E.has(D.UsageId)?"used_by_other":((z=q.selectedVoucher)==null?void 0:z.UsageId)===D.UsageId?"selected":t.reduce((J,X)=>{var F;return((F=X.selectedVoucher)==null?void 0:F.UsageId)===D.UsageId?J+1:J},0)>=D.Quantity?"fully_used":q.totalPrice<D.MinOrderValue?"min_order_not_met":"available"},H=D=>t.some(Y=>{var z;return((z=Y.selectedVoucher)==null?void 0:z.UsageId)===D.UsageId})?"used_by_product":(g==null?void 0:g.UsageId)===D.UsageId?"selected":"available",K=D=>{const q=D.vouchers||[];return q.length===0?a.jsx("option",{disabled:!0,children:"Khng c voucher kh dng"}):q.map(Y=>{const z=I(Y,D),J=z!=="selected"&&z!=="available";let X=`${Y.VoucherName} - `;return Y.DiscountType==="percent"?(X+=`Gim ${Y.DiscountValue}%`,Y.MaxDiscount&&(X+=` (ti a ${v(Y.MaxDiscount)})`)):X+=`Gim ${v(Y.DiscountValue)}`,Y.MinOrderValue>0&&(X+=` - Ti thiu ${v(Y.MinOrderValue)}`),z==="used_by_other"?X+=" -  s dng":z==="fully_used"?X+=" -  ht lt":z==="min_order_not_met"&&(X+=" - Khng  iu kin"),a.jsx("option",{value:Y.UsageId,disabled:J,className:J?"text-gray-400 bg-gray-50":"",children:X},Y.UsageId)})},L=()=>!c||c.length===0?a.jsx("option",{disabled:!0,children:"Khng c voucher ton n"}):c.map(D=>{const q=H(D),Y=q!=="selected"&&q!=="available";let z=`${D.VoucherName} - `;return D.DiscountType==="ship"?z+=`Gim ship ${v(D.DiscountValue)}`:D.DiscountType==="percent"?(z+=`Gim ${D.DiscountValue}%`,D.MaxDiscount&&(z+=` (ti a ${v(D.MaxDiscount)})`)):z+=`Gim ${v(D.DiscountValue)}`,D.MinOrderValue>0&&(z+=` - n ti thiu ${v(D.MinOrderValue)}`),q==="used_by_product"&&(z+=" - ang dng cho sn phm"),a.jsx("option",{value:D.UsageId,disabled:Y,className:Y?"text-gray-400 bg-gray-50":"",children:z},D.UsageId)}),_=D=>{const q=D.selectedVoucher;if(!q)return 0;const Y=D.totalPrice||D.UnitPrice*D.Quantity;if(Y<q.MinOrderValue)return 0;let z=0;return q.DiscountType==="percent"?(z=Math.floor(Y*q.DiscountValue/100),q.MaxDiscount&&(z=Math.min(z,q.MaxDiscount))):z=q.DiscountValue,Math.min(z,Y)},U=D=>{const q=_(D),Y=D.totalPrice||D.UnitPrice*D.Quantity;return Math.max(Y-q,0)},Z=()=>{if(!g)return{product:0,ship:0,isValid:!1};const D=t.reduce((X,F)=>X+F.totalPrice,0),q=t.reduce((X,F)=>{var ee;return X+(((ee=F.selectedShipType)==null?void 0:ee.ShipFee)||0)},0);if(D<g.MinOrderValue)return{product:0,ship:0,isValid:!1,requiredMin:g.MinOrderValue};const Y=g;if(Y.DiscountType==="ship")return{product:0,ship:Math.min(q,Y.DiscountValue),isValid:!0};let z=0;const J=t.reduce((X,F)=>X+U(F),0);return Y.DiscountType==="percent"?(z=Math.floor(J*Y.DiscountValue/100),Y.MaxDiscount&&(z=Math.min(z,Y.MaxDiscount))):z=Y.DiscountValue,{product:Math.min(z,J),ship:0,isValid:!0}},W=t.reduce((D,q)=>D+(q.totalPrice||q.UnitPrice*q.Quantity||0),0),ae=t.reduce((D,q)=>D+U(q),0),T=t.reduce((D,q)=>{var Y;return D+(((Y=q.selectedShipType)==null?void 0:Y.ShipFee)||0)},0),V=Z(),Q=ae-V.product+(T-V.ship),B=()=>{if(N){const D=JSON.parse(localStorage.getItem("buyNowData"));D!=null&&D.productId?e(`/product/${D.productId}`):e("/"),localStorage.removeItem("buyNowData")}else e("/cart")},P=async()=>{var D,q,Y;if(!h){alert("Vui lng chn a ch nhn hng");return}if(t.some(z=>!z.selectedShipType)){alert("Vui lng chn phng thc vn chuyn cho tt c sn phm");return}if(!S){alert("Vui lng chn phng thc thanh ton");return}if(g&&t.reduce((J,X)=>J+X.totalPrice,0)<g.MinOrderValue){alert(`Voucher "${g.VoucherName}" yu cu n hng ti thiu ${v(g.MinOrderValue)}`);return}try{const z=JSON.parse(sessionStorage.getItem("checkoutCartIds")||"[]"),J={addressId:h.AddressId,items:t.map(F=>{var ee,je;return{productId:F.ProductId,quantity:F.Quantity,selectedVoucherId:((ee=F.selectedVoucher)==null?void 0:ee.UsageId)||null,selectedShipTypeId:(je=F.selectedShipType)==null?void 0:je.ShipTypeId}}),orderVoucherId:(g==null?void 0:g.UsageId)||null,paymentMethodId:S.MethodId,cartIds:N?[]:z,isBuyNow:N};console.log("Sending order data:",J);const X=await G.post("/orders",J);alert(`t hng thnh cng! M n hng: #${X.data.orderId}`),localStorage.removeItem("buyNowData"),sessionStorage.removeItem("checkoutCartIds"),e("/orders")}catch(z){console.error("Order error:",z),console.error("Error response:",(D=z.response)==null?void 0:D.data),alert(((Y=(q=z.response)==null?void 0:q.data)==null?void 0:Y.message)||"t hng tht bi. Vui lng th li.")}};return m?a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-orange-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"ang ti n hng..."}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Vui lng ch trong giy lt"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-gray-100 min-h-screen py-8 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:B,className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 mb-2 transition",children:[a.jsx(PN,{className:"w-4 h-4"}),N?"Quay li sn phm":"Quay li gi hng"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Thanh ton"}),a.jsxs("p",{className:"text-gray-500 mt-2",children:[N?"Mua ngay - Hon tt n hng":"Hon tt n hng ca bn",N&&a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Mua ngay"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-orange-100 text-orange-600",children:a.jsx(et,{className:"w-5 h-5"})}),a.jsx("div",{className:"h-1 w-8 bg-orange-500"}),a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-orange-500 text-white",children:a.jsx(sl,{className:"w-5 h-5"})})]})]}),E.size>0&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Xn,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-sm text-yellow-700",children:"Mi voucher ch c s dng mt ln. Khi chn voucher cho sn phm, voucher  s khng kh dng cho ton n v ngc li."})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-50 text-blue-600",children:a.jsx(yi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"a ch nhn hng"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Chn a ch giao hng ca bn"})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:`p-5 rounded-xl border-2 transition-all duration-300 ${h?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:h?a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:h.Name}),a.jsx("span",{className:"text-sm text-gray-500",children:"|"}),a.jsx("span",{className:"text-sm text-gray-600",children:h.Phone}),h.Status===1&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Mc nh"})]}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:h.Content})]}),a.jsx("button",{onClick:()=>e("/address"),className:"ml-4 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition",children:"Thay i"})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("p",{className:"text-gray-400 mb-3",children:"Cha c a ch no"}),a.jsx("button",{onClick:()=>e("/address/add"),className:"px-4 py-2 text-sm font-medium cursor-pointer text-blue-600 hover:text-blue-700 border border-blue-200 hover:border-blue-300 rounded-lg transition",children:"+ Thm a ch mi"})]})}),s.length>0&&a.jsx("select",{className:"absolute inset-0 opacity-0 cursor-pointer",value:(h==null?void 0:h.AddressId)||"",onChange:D=>{const q=s.find(Y=>Y.AddressId===Number(D.target.value));p(q)},children:s.map(D=>a.jsxs("option",{value:D.AddressId,children:[D.Name," | ",D.Phone," | ",D.Content]},D.AddressId))})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-50 text-green-600",children:a.jsx(et,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Sn phm  chn"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," sn phm trong n hng"]})]})]}),t.length===0?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(et,{className:"w-8 h-8 text-gray-400"})}),a.jsx("p",{className:"text-gray-500",children:"Khng c sn phm no"}),a.jsx("button",{onClick:()=>e("/cart"),className:"mt-4 px-6 py-2 text-sm font-medium text-orange-600 hover:text-orange-700 border border-orange-200 hover:border-orange-300 rounded-lg transition",children:"Quay li gi hng"})]}):a.jsx("div",{className:"space-y-6",children:t.map(D=>{var q,Y;return a.jsxs("div",{className:"flex gap-4 p-4 border border-gray-100 rounded-xl hover:border-gray-200 transition",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:D.Image,alt:D.ProductName,className:"w-24 h-24 rounded-xl object-cover border border-gray-100"}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:D.Quantity})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{onClick:()=>e(`/product/${D.ProductId}`),className:"font-semibold text-gray-800 hover:text-orange-500 cursor-pointer transition mb-1",children:D.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[a.jsxs("span",{children:["n gi: ",a.jsxs("strong",{className:"text-gray-700",children:[v(D.UnitPrice||D.ProductPrice||0),""]})]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Tng: ",a.jsxs("strong",{className:"text-gray-700",children:[v(D.totalPrice||D.UnitPrice*D.Quantity||0),""]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-400 line-through mb-1",children:[v(D.totalPrice||D.UnitPrice*D.Quantity||0),""]}),a.jsxs("div",{className:"font-bold text-red-500 text-lg",children:[v(U(D)),""]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(vi,{className:"w-4 h-4"}),"Voucher sn phm",D.selectedVoucher&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-800 rounded-full",children:" chn"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition appearance-none bg-white",value:((q=D.selectedVoucher)==null?void 0:q.UsageId)||"",onChange:z=>A(D.itemId,z.target.value),children:[a.jsx("option",{value:"",children:"Khng s dng"}),K(D)]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),D.selectedVoucher&&a.jsx("div",{className:"mt-2 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:D.selectedVoucher.VoucherName}),a.jsxs("p",{className:"text-xs text-green-600 mt-0.5",children:["Gim ",v(_(D)),""]})]}),a.jsx("button",{onClick:()=>A(D.itemId,""),className:"text-xs px-2 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded transition",children:"Xa"})]})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(rn,{className:"w-4 h-4"}),"Vn chuyn"]}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition appearance-none bg-white",value:((Y=D.selectedShipType)==null?void 0:Y.ShipTypeId)||"",onChange:z=>M(D.itemId,z.target.value),children:r.length>0?r.map(z=>a.jsxs("option",{value:z.ShipTypeId,children:[z.Content," (+",v(z.ShipFee),")"]},z.ShipTypeId)):a.jsx("option",{disabled:!0,children:"ang ti..."})}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),D.selectedShipType&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Ph vn chuyn: ",a.jsxs("span",{className:"font-medium",children:[v(D.selectedShipType.ShipFee),""]})]})]})]})]})]},D.itemId)})})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-50 text-purple-600",children:a.jsx(vi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Voucher ton n"}),a.jsx("p",{className:"text-sm text-gray-500",children:"p dng cho ton b n hng"})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsxs("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-100 outline-none transition appearance-none bg-white",value:(g==null?void 0:g.UsageId)||"",onChange:D=>k(D.target.value),children:[a.jsx("option",{value:"",children:"Khng s dng voucher"}),L()]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),g&&a.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-100 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-100 text-purple-600",children:a.jsx(Ln,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-purple-800",children:g.VoucherName}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm text-purple-600",children:g.DiscountType==="ship"?`Gim ship ${v(g.DiscountValue)}`:g.DiscountType==="percent"?`Gim ${g.DiscountValue}%`:`Gim ${v(g.DiscountValue)}`}),g.MinOrderValue>0&&a.jsxs("span",{className:"text-xs text-purple-500 bg-purple-50 px-2 py-0.5 rounded",children:["Ti thiu ",v(g.MinOrderValue),""]})]})]}),a.jsx("button",{onClick:()=>k(""),className:"text-sm px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition",children:"Xa"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-50 text-blue-600",children:a.jsx(sl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Phng thc thanh ton"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Chn phng thc thanh ton"})]})]}),a.jsx("div",{className:"space-y-3",children:y.length===0?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-gray-400",children:"ang ti phng thc thanh ton..."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{className:"w-full p-3 pr-10 text-sm rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition appearance-none bg-white",value:(S==null?void 0:S.MethodId)||"",onChange:D=>C(D.target.value),children:[a.jsx("option",{value:"",children:"Chn phng thc thanh ton"}),y.map(D=>a.jsx("option",{value:D.MethodId,className:"text-gray-700",children:D.MethodName},D.MethodId))]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),a.jsx("div",{className:"hidden md:grid grid-cols-1 gap-3",children:y.map(D=>a.jsx("div",{className:`p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${(S==null?void 0:S.MethodId)===D.MethodId?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-100 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>C(D.MethodId),children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${(S==null?void 0:S.MethodId)===D.MethodId?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:(S==null?void 0:S.MethodId)===D.MethodId&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h5",{className:"font-medium text-gray-800",children:D.MethodName}),D.IconUrl&&a.jsx("img",{src:D.IconUrl,alt:D.MethodName,className:"w-8 h-8 object-contain"})]}),D.Description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:D.Description}),D.AdditionalInfo&&a.jsx("div",{className:"mt-2 text-xs text-gray-400 bg-gray-50 p-2 rounded-lg",children:D.AdditionalInfo})]})]})},D.MethodId))})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden sticky top-6",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Tng thanh ton"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Tng tin hng"}),a.jsxs("span",{className:"font-medium",children:[v(W),""]})]}),W>ae&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Gim voucher sn phm"}),a.jsxs("span",{className:"font-medium",children:["- ",v(W-ae),""]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Ph vn chuyn"}),a.jsxs("span",{className:"font-medium",children:[v(T),""]})]}),V.product>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim voucher n hng"}),a.jsxs("span",{className:"font-medium",children:["- ",v(V.product),""]})]}),V.ship>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim ph vn chuyn"}),a.jsxs("span",{className:"font-medium",children:["- ",v(V.ship),""]})]}),a.jsx("div",{className:"border-t border-gray-200 pt-4",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Tng thanh ton"}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-red-500",children:[v(Q),""]}),a.jsx("p",{className:"text-xs text-gray-400 text-right mt-1",children:" bao gm VAT"})]})]})})]})]}),a.jsxs("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-gray-100",children:[a.jsx("button",{onClick:P,disabled:!h||t.length===0,className:`w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-[1.02] ${!h||t.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white cursor-pointer shadow-lg hover:shadow-xl"}`,children:h?t.length===0?"KHNG C SN PHM":`THANH TON ${v(Q)}`:"CHN A CH"}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:["Bng cch t hng, bn ng  vi ",a.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"iu khon dch v"})," ca chng ti"]})]})]})]})]})]})}),a.jsx(Nn,{})]})}function _4(){const e=de(),t=JSON.parse(sessionStorage.getItem("account")),[n,s]=x.useState([]),[l,r]=x.useState(!0),i={percent:"Theo phn trm",fixed:"Gi c nh"};return x.useEffect(()=>{(!t||Number(t.RoleId)!==3)&&(alert("Bn khng c quyn truy cp!"),e("/"))},[t,e]),x.useEffect(()=>{(async()=>{try{const o=sessionStorage.getItem("token"),d=await G.get(`/vouchers/seller/${t.AccountId}`,{headers:{Authorization:`Bearer ${o}`}});s(d.data)}catch(o){console.error("Fetch vouchers error:",o)}finally{r(!1)}})()},[t]),a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Danh sch phiu gim gi"}),a.jsx("button",{onClick:()=>e("/seller/voucher/create"),className:"px-4 py-2 bg-orange-500 cursor-pointer text-white rounded hover:bg-orange-600",children:"To phiu gim gi mi"})]}),l?a.jsx("p",{children:"ang ti..."}):n.length===0?a.jsx("p",{children:"Bn cha c voucher no."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(c=>{var o;return a.jsxs("div",{className:"border rounded-lg p-4 shadow hover:shadow-lg transition",children:[a.jsx("h3",{className:"font-semibold text-lg",children:c.VoucherName}),a.jsxs("p",{children:["Loi: ",i[c.DiscountType]]}),a.jsxs("p",{children:["Gi tr gim:"," ",c.DiscountType==="percent"?`${c.DiscountValue}% (ti a ${(o=c.MaxDiscount)==null?void 0:o.toLocaleString()})`:`${c.DiscountValue.toLocaleString()}`]}),a.jsxs("p",{children:["n ti thiu: ",c.MinOrderValue.toLocaleString(),""]}),a.jsxs("p",{children:["Tng s phiu: ",c.TotalQuantity," Phiu"]}),a.jsxs("p",{children:["Cn li: ",c.Quantity," Phiu"]}),a.jsxs("p",{children:["Ht hn:"," ",new Date(c.EndTime).toLocaleDateString("vi-VN")]}),a.jsx("button",{onClick:()=>e(`/seller/voucher/update/${c.VoucherId}`),className:"mt-3 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Cp nht voucher"})]},c.VoucherId)})})]})]})]})}function k4(){const e=de();JSON.parse(sessionStorage.getItem("account"));const[t]=ig();t.get("id");const[n,s]=x.useState({VoucherName:"",DiscountType:"percent",DiscountValue:"",MinOrderValue:"",MaxDiscount:"",Quantity:"",EndTime:""}),[l,r]=x.useState({}),[i,c]=x.useState(!1),[o,d]=x.useState(0);x.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]),x.useEffect(()=>{if(n.MinOrderValue){const w=Number(n.MinOrderValue),y=Math.floor(w*.1);d(y)}},[n.MinOrderValue]);const f=[{value:"100000",label:"100.000 (10% = 10.000)"},{value:"200000",label:"200.000 (10% = 20.000)"},{value:"300000",label:"300.000 (10% = 30.000)"},{value:"500000",label:"500.000 (10% = 50.000)"},{value:"1000000",label:"1.000.000 (10% = 100.000)"},{value:"2000000",label:"2.000.000 (10% = 200.000)"},{value:"3000000",label:"3.000.000 (10% = 300.000)"},{value:"5000000",label:"5.000.000 (10% = 500.000)"}],h=()=>{const w=[{value:"10000",label:"10.000"},{value:"20000",label:"20.000"},{value:"30000",label:"30.000"},{value:"50000",label:"50.000"},{value:"100000",label:"100.000"},{value:"200000",label:"200.000"},{value:"300000",label:"300.000"},{value:"500000",label:"500.000"},{value:"1000000",label:"1.000.000"}];return n.MinOrderValue?w.filter(y=>Number(y.value)<=o):w},p=w=>{const{name:y,value:u}=w.target,m={...n,[y]:u};if(y==="DiscountType"&&(m.DiscountValue="",m.MaxDiscount="",r({})),y==="MinOrderValue"&&n.DiscountType==="percent"){const j=Number(u)||0,N=Math.floor(j*.1);m.MaxDiscount&&Number(m.MaxDiscount)>N&&(m.MaxDiscount="",r(O=>({...O,MaxDiscount:`Gim ti a phi  10% n ti thiu ( ${N.toLocaleString()})`})))}s(m),g(y,u)},g=(w,y)=>{const u={...l};switch(w){case"MinOrderValue":y&&Number(y)<1e5?u.MinOrderValue="n ti thiu phi t 100.000":delete u.MinOrderValue;break;case"DiscountValue":if(n.DiscountType==="percent")y&&![5,10].includes(Number(y))?u.DiscountValue="Ch c chn 5% hoc 10%":delete u.DiscountValue;else if(n.DiscountType==="fixed"){const m=Number(y)||0;n.MinOrderValue?m<=0?u.DiscountValue="Gi tr gim phi ln hn 0":m>o?u.DiscountValue=`Gi tr gim phi  10% n ti thiu ( ${o.toLocaleString()})`:delete u.DiscountValue:y&&m<=0?u.DiscountValue="Gi tr gim phi ln hn 0":delete u.DiscountValue}break;case"MaxDiscount":if(n.DiscountType==="percent"){const m=Number(y)||0;y&&m>o?u.MaxDiscount=`Gim ti a phi  10% n ti thiu ( ${o.toLocaleString()})`:delete u.MaxDiscount}break;case"Quantity":y&&(Number(y)<1||Number(y)>500||!Number.isInteger(Number(y)))?u.Quantity="S lng phi l s nguyn t 1 n 500":delete u.Quantity;break;case"EndTime":if(y){const m=new Date().setHours(0,0,0,0);new Date(y).setHours(0,0,0,0)<=m?u.EndTime="Ngy ht hn phi sau ngy hin ti":delete u.EndTime}break}r(u)},b=()=>{const w={};return g("MinOrderValue",n.MinOrderValue),g("DiscountValue",n.DiscountValue),g("MaxDiscount",n.MaxDiscount),g("Quantity",n.Quantity),g("EndTime",n.EndTime),n.VoucherName.trim()||(w.VoucherName="Vui lng nhp tn voucher"),n.MinOrderValue||(w.MinOrderValue="Vui lng chn gi tr n ti thiu"),n.DiscountType==="percent"?(n.DiscountValue||(w.DiscountValue="Vui lng chn phn trm gim"),n.MaxDiscount||(w.MaxDiscount="Vui lng chn mc gim ti a")):n.DiscountType==="fixed"&&(n.DiscountValue||(w.DiscountValue="Vui lng nhp gi tr gim")),r(y=>({...y,...w})),Object.keys({...l,...w}).length===0},S=async w=>{var y,u;if(w.preventDefault(),!b()){alert("Vui lng kim tra li thng tin");return}c(!0);try{const m=sessionStorage.getItem("token");await G.post("/vouchers/seller",{...n,DiscountValue:Number(n.DiscountValue),MinOrderValue:Number(n.MinOrderValue),MaxDiscount:n.DiscountType==="percent"?Number(n.MaxDiscount):null,Quantity:Number(n.Quantity),EndTime:n.EndTime},{headers:{Authorization:`Bearer ${m}`}}),alert("To voucher thnh cng!"),e("/seller/voucher")}catch(m){console.error(m),alert("Li khi to voucher: "+(((u=(y=m.response)==null?void 0:y.data)==null?void 0:u.message)||m.message))}finally{c(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1 bg-white p-6 rounded-lg border border-black-300 shadow",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"To phiu gim gi mi"}),a.jsxs("form",{className:"space-y-4",onSubmit:S,children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Tn voucher ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"VoucherName",value:n.VoucherName,onChange:p,required:!0,className:`border rounded px-3 py-2 w-full ${l.VoucherName?"border-red-500":""}`,placeholder:"Nhp tn voucher"}),l.VoucherName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.VoucherName})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Loi gim gi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"DiscountType",value:n.DiscountType,onChange:p,className:"border rounded px-3 py-2 w-full",children:[a.jsx("option",{value:"percent",children:"Gim theo phn trm"}),a.jsx("option",{value:"fixed",children:"Gim tin c nh"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Gi tr n ti thiu ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"MinOrderValue",value:n.MinOrderValue,onChange:p,required:!0,className:`border rounded px-3 py-2 w-full ${l.MinOrderValue?"border-red-500":""}`,children:[a.jsx("option",{value:"",children:"-- Chn gi tr ti thiu --"}),f.map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))]}),l.MinOrderValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.MinOrderValue})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Gi tr gim ",a.jsx("span",{className:"text-red-500",children:"*"})]}),n.DiscountType==="percent"?a.jsxs(a.Fragment,{children:[a.jsxs("select",{name:"DiscountValue",value:n.DiscountValue,onChange:p,required:!0,className:`border rounded px-3 py-2 w-full ${l.DiscountValue?"border-red-500":""}`,children:[a.jsx("option",{value:"",children:"-- Chn phn trm gim --"}),a.jsx("option",{value:"5",children:"5%"}),a.jsx("option",{value:"10",children:"10%"})]}),l.DiscountValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.DiscountValue})]}):a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"number",name:"DiscountValue",value:n.DiscountValue,onChange:p,min:"1",required:!0,className:`border rounded px-3 py-2 w-full ${l.DiscountValue?"border-red-500":""}`,placeholder:"Nhp s tin gim (VN)"}),l.DiscountValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.DiscountValue}),n.MinOrderValue&&a.jsx("div",{className:"flex items-center gap-2 mt-1"})]})]}),n.DiscountType==="percent"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Gim ti a (VN) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"MaxDiscount",value:n.MaxDiscount,onChange:p,required:!0,disabled:!n.MinOrderValue,className:`border rounded px-3 py-2 w-full ${l.MaxDiscount?"border-red-500":""} ${n.MinOrderValue?"":"bg-gray-100 cursor-not-allowed"}`,children:[a.jsx("option",{value:"",children:n.MinOrderValue?"-- Chn mc gim ti a --":"-- Vui lng chn n ti thiu trc --"}),h().map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))]}),l.MaxDiscount&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.MaxDiscount})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["S lng voucher ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"Quantity",value:n.Quantity,onChange:p,min:"1",max:"500",required:!0,className:`border rounded px-3 py-2 w-full ${l.Quantity?"border-red-500":""}`,placeholder:"Nhp s lng (1-500)"}),l.Quantity&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.Quantity})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Ngy ht hn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"EndTime",value:n.EndTime,onChange:p,required:!0,min:new Date().toISOString().split("T")[0],className:`border rounded px-3 py-2 w-full ${l.EndTime?"border-red-500":""}`}),l.EndTime&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.EndTime})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("button",{type:"submit",disabled:i||!n.MinOrderValue,className:`px-6 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 ${i||!n.MinOrderValue?"opacity-50 cursor-not-allowed":""}`,children:i?"ang x l...":"To voucher"}),a.jsx("button",{type:"button",onClick:()=>e("/seller/voucher"),className:"ml-4 px-6 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Hy"})]})]}),a.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Quy tc to voucher:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"n ti thiu: T 100.000 tr ln"}),a.jsxs("li",{children:["Gim theo phn trm:",a.jsxs("ul",{className:"list-circle pl-5 mt-1",children:[a.jsx("li",{children:"Ch c chn 5% hoc 10%"}),a.jsx("li",{children:"Gim ti a phi  10% gi tr n ti thiu"})]})]}),a.jsxs("li",{children:["Gim c nh:",a.jsxs("ul",{className:"list-circle pl-5 mt-1",children:[a.jsx("li",{children:"Ngi bn t nhp gi tr gim"}),a.jsx("li",{children:"Gi tr gim phi  10% gi tr n ti thiu"})]})]}),a.jsx("li",{children:"S lng voucher: T 1 n 500"}),a.jsx("li",{children:"Ngy ht hn phi sau ngy hin ti"})]})]}),n.MinOrderValue&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded",children:[a.jsx("h4",{className:"font-bold text-blue-800 mb-2",children:"Thng tin xc nhn:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"n ti thiu:"})," ",Number(n.MinOrderValue).toLocaleString(),""]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"10% n ti thiu:"})," ",o.toLocaleString(),""]}),n.DiscountType==="percent"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Phn trm gim:"})," ",n.DiscountValue?n.DiscountValue+"%":"Cha chn"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Gim ti a:"})," ",n.MaxDiscount?Number(n.MaxDiscount).toLocaleString()+"":"Cha chn"]})]}),n.DiscountType==="fixed"&&n.DiscountValue&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"font-medium",children:"Gi tr gim:"})," ",Number(n.DiscountValue).toLocaleString(),"",Number(n.DiscountValue)<=o?a.jsxs("span",{className:"ml-2 text-green-600 text-sm",children:[" Hp l ( ",o.toLocaleString(),")"]}):a.jsx("span",{className:"ml-2 text-red-600 text-sm",children:" Vt qu gii hn 10%"})]})]})]})]})]})]})}function R4(){var h;const e=de(),{id:t}=Oa();x.useEffect(()=>{sessionStorage.getItem("roleId")!=="3"&&(alert("Bn khng c quyn truy cp"),e("/"))},[e]);const[n,s]=x.useState({VoucherName:"",DiscountType:"",DiscountValue:"",MaxDiscount:null,MinOrderValue:"",Quantity:"",EndTime:""}),[l,r]=x.useState(""),[i,c]=x.useState(!1),o="bg-gray-100 cursor-not-allowed";x.useEffect(()=>{(async()=>{try{const g=sessionStorage.getItem("token"),b=await G.get(`/vouchers/${t}`,{headers:{Authorization:`Bearer ${g}`}});s({VoucherName:b.data.VoucherName,DiscountType:b.data.DiscountType,DiscountValue:b.data.DiscountValue,MaxDiscount:b.data.MaxDiscount,MinOrderValue:b.data.MinOrderValue,Quantity:"",EndTime:b.data.EndTime.split("T")[0]}),r(b.data.EndTime)}catch(g){console.error(g),alert("Khng th ti voucher"),e("/seller/voucher")}})()},[t,e]);const d=p=>{s({...n,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault();const g=Number(n.Quantity);if(!Number.isInteger(g)||g<1||g>500){alert("S lng phi t 1 n 500");return}c(!0);try{const b=sessionStorage.getItem("token");await G.put(`/vouchers/${t}`,{Quantity:g,EndTime:n.EndTime},{headers:{Authorization:`Bearer ${b}`}}),alert("Cp nht voucher thnh cng!"),e("/seller/voucher")}catch(b){console.error(b),alert("Li khi cp nht voucher")}finally{c(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-6xl mx-auto mt-4 flex gap-6 items-start",children:[a.jsx(Kt,{}),a.jsxs("div",{className:"flex-1 bg-white p-6 rounded-lg border border-black-300 shadow",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Cp nht voucher"}),a.jsxs("form",{className:"space-y-4",onSubmit:f,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tn voucher"}),a.jsx("input",{value:n.VoucherName,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi gim gi"}),a.jsx("input",{value:n.DiscountType==="percent"?"Theo %":"Gim tin c nh",disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gi tr gim"}),a.jsx("input",{value:n.DiscountType==="percent"?`${n.DiscountValue}% (ti a ${(h=n.MaxDiscount)==null?void 0:h.toLocaleString()})`:`${Number(n.DiscountValue).toLocaleString()}`,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gi tr n ti thiu"}),a.jsx("input",{value:`${Number(n.MinOrderValue).toLocaleString()}`,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"S lng thm"}),a.jsx("input",{type:"number",name:"Quantity",value:n.Quantity,onChange:d,min:1,max:500,required:!0,className:"border rounded px-3 py-2 w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ngy ht hn"}),a.jsx("input",{type:"date",value:n.EndTime,disabled:!0,className:`border rounded px-3 py-2 w-full ${o}`})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:i?"ang cp nht...":"Cp nht voucher"}),a.jsx("button",{type:"button",onClick:()=>e("/seller/voucher"),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Hu"})]})]})]})]})]})}function z4(){const[e,t]=x.useState([]),[n,s]=x.useState(!0),l=de(),[r,i]=x.useState(1),c=15,o=u=>!u||Number(u)===0?"N/A":`n t ${Number(u).toLocaleString("vi-VN")} `,[d,f]=x.useState({discountType:"",endTime:"",conditionText:""}),h=u=>{const{name:m,value:j}=u.target;i(1),f(N=>({...N,[m]:j}))},p=new Date,g=e.filter(u=>{if(d.discountType&&u.DiscountType!==d.discountType||d.conditionText&&Number(u.MinOrderValue)!==Number(d.conditionText))return!1;const m=new Date(u.EndTime);return!(d.endTime==="active"&&m<p||d.endTime==="expired"&&m>=p)}),b=(u,m,j)=>u==="percent"?`${m}% (ti a ${Number(j).toLocaleString("vi-VN")} )`:`${Number(m).toLocaleString("vi-VN")} `,S=(u,m="")=>a.jsxs("div",{className:"grid grid-cols-3 text-right",children:[a.jsxs("span",{className:`col-span-2 ${m}`,children:[u," V"]}),a.jsx("span",{})]});x.useEffect(()=>{(async()=>{try{const m=await G.get("/vouchers/admin");t(m.data)}catch(m){console.error("Li ly voucher admin:",m)}finally{s(!1)}})()},[]);const w=Math.ceil(g.length/c),y=g.slice((r-1)*c,r*c);return n?a.jsx(ta,{children:a.jsx("div",{className:"text-center text-gray-500",children:"ang ti d liu..."})}):a.jsx(ta,{children:a.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-orange-500",children:" Danh sch phiu gim gi"}),a.jsxs("button",{onClick:()=>l("/admin/voucher/create"),className:`\r
      flex items-center gap-2\r
      bg-orange-500 hover:bg-orange-600\r
      text-white px-4 py-2 rounded-lg\r
      shadow transition-all duration-200 cursor-pointer\r
    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-semibold",children:"To voucher"})]})]}),a.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-6 items-center",children:[a.jsxs("select",{name:"discountType",value:d.discountType,onChange:h,className:"border rounded px-3 py-2 cursor-pointer",children:[a.jsx("option",{value:"",children:"-- Loi gim gi --"}),a.jsx("option",{value:"percent",children:"Phn trm (%)"}),a.jsx("option",{value:"fixed",children:"S tin ()"}),a.jsx("option",{value:"ship",children:"Vn chuyn ()"})]}),a.jsxs("select",{name:"endTime",value:d.endTime,onChange:h,className:"border rounded px-3 py-2 cursor-pointer",children:[a.jsx("option",{value:"",children:"-- Trng thi --"}),a.jsx("option",{value:"active",children:"Cn hn"}),a.jsx("option",{value:"expired",children:"Ht hn"})]}),a.jsxs("select",{name:"conditionText",value:d.conditionText,onChange:h,className:"border rounded px-3 py-2 cursor-pointer",children:[a.jsx("option",{value:"",children:"-- Chn iu kin --"}),a.jsx("option",{value:"0",children:"n khng cn iu kin"}),a.jsx("option",{value:"10000",children:"n t 10.000"}),a.jsx("option",{value:"20000",children:"n t 20.000"}),a.jsx("option",{value:"50000",children:"n t 50.000"}),a.jsx("option",{value:"100000",children:"n t 100.000"}),a.jsx("option",{value:"200000",children:"n t 200.000"}),a.jsx("option",{value:"500000",children:"n t 500.000"}),a.jsx("option",{value:"1000000",children:"n t 1.000.000"}),a.jsx("option",{value:"2000000",children:"n t 2.000.000"})]}),a.jsx("span",{className:"col-span-1"}),a.jsx("div",{className:"col-span-2 flex justify-end",children:a.jsx("button",{onClick:()=>{f({discountType:"",endTime:"",conditionText:""}),i(1)},className:"bg-gray-100 hover:bg-gray-200 rounded px-4 py-2 text-sm font-medium cursor-pointer",children:"Lm mi"})})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs("table",{className:"w-full text-sm text-center",children:[a.jsx("thead",{className:"bg-orange-500 text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-center",children:"M gim gi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gian hng"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"iu kin"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Gim gi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Tng phiu"}),a.jsx("th",{className:"px-4 py-3 text-center",children:" nhn"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Cn li"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Hn s dng"})]})}),a.jsx("tbody",{children:y.map(u=>{const m=o(u.MinOrderValue),j=b(u.DiscountType,u.DiscountValue,u.MaxDiscount);return a.jsxs("tr",{className:"border-b hover:bg-orange-50 transition",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:u.VoucherName}),a.jsx("td",{className:"px-4 py-3 text-center",children:u.StallName?a.jsx("span",{children:u.StallName}):a.jsx("span",{className:"rainbow-text",children:"Admin"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:m}),a.jsx("td",{className:"px-4 py-3 text-orange-600 font-semibold text-center",children:j}),a.jsx("td",{className:"px-4 py-3",children:S(u.TotalQuantity)}),a.jsx("td",{className:"px-4 py-3",children:S(u.UsedQuantity,"text-red-500")}),a.jsx("td",{className:"px-4 py-3",children:S(u.RemainingQuantity,"text-green-600")}),a.jsx("td",{className:"px-4 py-3 text-center",children:new Date(u.EndTime).toLocaleDateString("vi-VN")})]},u.VoucherId)})})]})}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>i(u=>Math.max(1,u-1)),disabled:r===1,className:`
              flex items-center gap-2 px-4 py-2 rounded-full border
              transition-all duration-200
              ${r===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
            `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:w},(u,m)=>a.jsx("button",{onClick:()=>i(m+1),className:`
                  w-9 h-9 rounded-full text-sm font-semibold
                  transition-all duration-200
                  ${r===m+1?"bg-orange-300 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
                `,children:m+1},m))}),a.jsxs("button",{onClick:()=>i(u=>Math.min(w,u+1)),disabled:r===w||w===0,className:`
              flex items-center gap-2 px-4 py-2 rounded-full border
              transition-all duration-200
              ${r===w||w===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
            `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})})}function L4(){const e=de(),t=Number(sessionStorage.getItem("accountId")),[n,s]=x.useState({VoucherName:"",DiscountType:"fixed",DiscountValue:"",MinOrderValue:0,MaxDiscount:"",Quantity:"",EndTime:""}),[l,r]=x.useState(!1),[i,c]=x.useState(""),o=f=>{const{name:h,value:p}=f.target;s(g=>({...g,[h]:p}))},d=async f=>{if(f.preventDefault(),c(""),!n.VoucherName||!n.DiscountValue||!n.Quantity||!n.EndTime){c("Vui lng nhp y  thng tin bt buc");return}if(n.DiscountType==="percent"&&(!n.MaxDiscount||Number(n.MaxDiscount)<=0)){c("Vui lng nhp mc gim ti a");return}try{r(!0),await G.post("/vouchers",{VoucherName:n.VoucherName,DiscountType:n.DiscountType,DiscountValue:Number(n.DiscountValue),MinOrderValue:Number(n.MinOrderValue),MaxDiscount:n.DiscountType==="percent"?Number(n.MaxDiscount):null,Quantity:Number(n.Quantity),EndTime:n.EndTime,CreatedBy:t}),e("/admin/vouchers")}catch(h){console.error(h),c("To voucher tht bi")}finally{r(!1)}};return a.jsx(ta,{children:a.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-orange-500 mb-6",children:" To phiu gim gi (Admin)"}),i&&a.jsx("div",{className:"mb-4 bg-red-100 text-red-600 px-4 py-2 rounded",children:i}),a.jsxs("form",{onSubmit:d,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tn voucher"}),a.jsx("input",{type:"text",name:"VoucherName",value:n.VoucherName,onChange:o,className:"w-full border rounded px-3 py-2",placeholder:"VD: ADMIN10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"iu kin n hng"}),a.jsxs("select",{name:"MinOrderValue",value:n.MinOrderValue,onChange:o,className:"w-full border rounded px-3 py-2",children:[a.jsx("option",{value:0,children:"Khng iu kin"}),a.jsx("option",{value:1e4,children:"n t 10.000"}),a.jsx("option",{value:2e4,children:"n t 20.000"}),a.jsx("option",{value:5e4,children:"n t 50.000"}),a.jsx("option",{value:1e5,children:"n t 100.000"}),a.jsx("option",{value:2e5,children:"n t 200.000"}),a.jsx("option",{value:5e5,children:"n t 500.000"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi gim gi"}),a.jsxs("select",{name:"DiscountType",value:n.DiscountType,onChange:o,className:"w-full border rounded px-3 py-2",children:[a.jsx("option",{value:"fixed",children:"Gim tin"}),a.jsx("option",{value:"percent",children:"Gim theo %"}),a.jsx("option",{value:"ship",children:"Ph vn chuyn"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gi tr gim"}),a.jsx("input",{type:"number",name:"DiscountValue",value:n.DiscountValue,onChange:o,className:"w-full border rounded px-3 py-2",placeholder:n.DiscountType==="percent"?"VD: 10 (%)":"VD: 50000 ()"})]}),n.DiscountType==="percent"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gim ti a ()"}),a.jsx("input",{type:"number",name:"MaxDiscount",value:n.MaxDiscount,onChange:o,className:"w-full border rounded px-3 py-2",placeholder:"VD: 50000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"S lng voucher"}),a.jsx("input",{type:"number",name:"Quantity",value:n.Quantity,onChange:o,className:"w-full border rounded px-3 py-2",min:1})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hn s dng"}),a.jsx("input",{type:"date",name:"EndTime",value:n.EndTime,onChange:o,className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>e("/admin/vouchers"),className:"px-4 py-2 rounded border",children:"Hy"}),a.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 rounded bg-orange-500 text-white",children:l?"ang to...":"To voucher"})]})]})]})})}function V4(){const[e,t]=x.useState([]),[n,s]=x.useState(!0),l=de();return x.useEffect(()=>{(async()=>{try{const i=await G.get("/voucher-usage/me");t(i.data)}catch(i){console.error("Li ly voucher:",i)}finally{s(!1)}})()},[]),a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(sa,{}),a.jsxs("div",{className:"flex-1 bg-white rounded-lg p-6 border",children:[a.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Voucher ca ti"}),n?a.jsx("p",{children:"ang ti voucher..."}):e.length===0?a.jsx("p",{className:"text-gray-500",children:"Bn cha c voucher no"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(r=>a.jsx("div",{children:a.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm overflow-hidden h-[130px]",children:[a.jsxs("div",{className:"w-24 bg-orange-400 text-white flex flex-col items-center justify-center px-2",children:[a.jsx("div",{className:"text-[10px] font-semibold tracking-wide",children:"VOUCHER"}),a.jsx("div",{className:"mt-1 font-bold text-sm text-center leading-tight line-clamp-2",children:r.VoucherName})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-around",children:[...Array(6)].map((i,c)=>a.jsx("div",{className:"w-3 h-3 bg-gray-100 rounded-full -translate-x-1/2"},c))})}),a.jsxs("div",{className:"flex-1 p-3 pl-6 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-gray-900 text-sm",children:r.DiscountType==="percent"?`Gim ${r.DiscountValue}%`:`Gim ${Number(r.DiscountValue).toLocaleString("vi-VN")}`}),r.DiscountType==="percent"&&r.MaxDiscount!==null&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Gim ti a ",Number(r.MaxDiscount).toLocaleString("vi-VN"),""]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Cho n t"," ",Number(r.MinOrderValue??0).toLocaleString("vi-VN"),""]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("p",{className:"text-[11px] text-gray-500",children:["HSD: ",new Date(r.EndTime).toLocaleDateString("vi-VN")]}),a.jsxs("p",{className:"text-[11px] text-gray-500",children:["S lng: ",r.Quantity]})]}),a.jsx("button",{onClick:()=>l("/cart"),className:"border border-red-500 text-red-500 cursor-pointer text-xs px-3 py-1 rounded hover:bg-red-50",children:"Dng ngay"})]})]})]})},r.UsageId))})]})]})]})}function B4(){const{id:e}=Oa(),t=de(),n=sessionStorage.getItem("token"),[s,l]=x.useState(""),[r,i]=x.useState(""),[c,o]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState("");x.useEffect(()=>{sessionStorage.getItem("roleId")!=="2"&&(alert("Bn khng c quyn truy cp"),t("/"))},[t]),x.useEffect(()=>{e&&n&&(async()=>{try{const w=await G.get(`/addresses/${e}`,{headers:{Authorization:`Bearer ${n}`}});l(w.data.Name),i(w.data.Phone),o(w.data.Content)}catch{alert("Khng tm thy a ch"),t("/address")}})()},[e,n,t]);const g=async S=>{if(S.preventDefault(),!s.trim())return alert("Nhp tn ngi nhn");if(!r.trim())return alert("Nhp s in thoi");if(r.length!==10)return alert("S in thoi phi ng 10 ch s");if(!c.trim())return alert("Nhp a ch");try{f(!0),await G.put(`/addresses/${e}`,{Name:s.trim(),Phone:r.trim(),Content:c.trim()},{headers:{Authorization:`Bearer ${n}`}}),t("/address")}catch{alert("Cp nht tht bi")}finally{f(!1)}},b=()=>{(s||r||c)&&!window.confirm("Bn cha lu, chc chn hu?")||t("/address")};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"max-w-[1200px] mx-auto mt-6 flex gap-6",children:[a.jsx(sa,{}),a.jsxs("div",{className:"flex-1 bg-white border rounded p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Cp nht a ch"}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsx("input",{value:s,onChange:S=>l(S.target.value),placeholder:"Tn ngi nhn",className:"w-full border rounded p-3"}),a.jsx("input",{value:r,onChange:S=>{const w=S.target.value.replace(/\D/g,"");i(w),w.length>10?p("S in thoi khng c qu 10 ch s"):p("")},onBlur:()=>{r&&r.length!==10&&p("S in thoi phi ng 10 ch s")},placeholder:"S in thoi",className:`w-full border rounded p-3 ${h?"border-red-500":""}`}),h&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:h}),a.jsx("textarea",{value:c,onChange:S=>o(S.target.value),placeholder:"a ch chi tit",className:"w-full border rounded p-3",rows:4}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{type:"submit",disabled:d,className:"bg-orange-500 text-white px-6 py-2 cursor-pointer rounded disabled:opacity-60",children:d?"ang lu...":"Cp nht"}),a.jsx("button",{type:"button",onClick:b,className:"px-6 py-2 rounded border cursor-pointer border-gray-300 text-gray-700 hover:bg-gray-100",children:"Hu"})]})]})]})]})]})}const U4=()=>{const[e,t]=x.useState([]),[n,s]=x.useState(null),[l,r]=x.useState(!1),[i,c]=x.useState({PercentValue:"",MinOrderValue:"",MaxOrderValue:"",Description:""}),[o,d]=x.useState(!1),[f,h]=x.useState({}),[p,g]=x.useState(""),b=async()=>{try{const C=l?"/platform-fees/all":"/platform-fees",A=await G.get(C);if(t(A.data),A.data.length>0){const M=[...A.data].sort((I,H)=>I.MinOrderValue-H.MinOrderValue),k=[];for(let I=0;I<M.length-1;I++){const H=M[I],K=M[I+1];H.MaxOrderValue!==null&&K.MinOrderValue!==null&&K.MinOrderValue>H.MaxOrderValue+1&&k.push(`${H.MaxOrderValue+1} - ${K.MinOrderValue-1}`)}k.length>0?g(` C khong trng: ${k.join(", ")}`):g(" Cc khong thu  c sp xp st nt")}}catch(C){console.error(C),alert("Li khi ti danh sch thu")}};x.useEffect(()=>{b()},[l]);const S=C=>{const{name:A,value:M}=C.target;c({...i,[A]:M}),f[A]&&h({...f,[A]:""})},w=()=>{const C={};if(!i.PercentValue)C.PercentValue="Vui lng nhp phn trm thu";else{const A=parseFloat(i.PercentValue);(isNaN(A)||A<0||A>100)&&(C.PercentValue="Phn trm thu phi t 0-100%")}if(!i.MinOrderValue)C.MinOrderValue="Vui lng nhp gi tr ti thiu";else{const A=parseInt(i.MinOrderValue);(isNaN(A)||A<0)&&(C.MinOrderValue="Gi tr ti thiu khng c m")}if(i.MaxOrderValue){const A=parseInt(i.MinOrderValue),M=parseInt(i.MaxOrderValue);!isNaN(A)&&!isNaN(M)&&M<=A&&(C.MaxOrderValue="Gi tr ti a phi ln hn gi tr ti thiu")}return h(C),Object.keys(C).length===0},y=async C=>{var A,M;if(C.preventDefault(),!!w()){d(!0);try{const k={...i,PercentValue:parseFloat(i.PercentValue),MinOrderValue:parseInt(i.MinOrderValue),MaxOrderValue:i.MaxOrderValue?parseInt(i.MaxOrderValue):null,Description:i.Description||`p dng cho n hng t ${parseInt(i.MinOrderValue).toLocaleString()}${i.MaxOrderValue?` n ${parseInt(i.MaxOrderValue).toLocaleString()}`:" tr ln"}`};n?await G.put(`/platform-fees/${n.FeeId}`,k):await G.post("/platform-fees",k),u(),b()}catch(k){console.error(k),(M=(A=k.response)==null?void 0:A.data)!=null&&M.message?alert(k.response.data.message):alert("C li xy ra")}finally{d(!1)}}},u=()=>{c({PercentValue:"",MinOrderValue:"",MaxOrderValue:"",Description:""}),s(null),h({})},m=C=>{s(C),c({PercentValue:C.PercentValue.toString(),MinOrderValue:C.MinOrderValue.toString(),MaxOrderValue:C.MaxOrderValue?C.MaxOrderValue.toString():"",Description:C.Description||""}),window.scrollTo({top:0,behavior:"smooth"})},j=async C=>{if(window.confirm(`Bn c chc chn mun xa mc thu ny?
Sau khi xa, cn kim tra li cc khong gi tr  m bo khng c khong trng.`))try{await G.delete(`/platform-fees/${C}`),b(),alert(" xa mc thu")}catch(A){console.error(A),alert("C li xy ra")}},N=async C=>{try{await G.put(`/platform-fees/activate/${C}`),b(),alert(" kch hot li mc thu")}catch(A){console.error(A),alert("C li xy ra")}},O=C=>new Intl.NumberFormat("vi-VN").format(C)+"",E=(C,A)=>A===null?` ${O(C)}`:`${O(C)} - ${O(A)}`,v=()=>{if(e.length===0)return 0;const C=e.filter(M=>M.Status).sort((M,k)=>M.MinOrderValue-k.MinOrderValue);if(C.length===0)return 0;const A=C[C.length-1];return A.MaxOrderValue===null?A.MinOrderValue+1:A.MaxOrderValue+1};return a.jsx(ta,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold text-orange-500",children:"Qun l thu sn theo khong gi"})}),a.jsx("button",{onClick:()=>r(!l),className:"px-4 py-2 bg-gray-200 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer transition-colors",children:l?"n  xa":"Hin th  xa"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:n?`Cp nht mc thu #${n.FeeId}`:"Thm mc thu mi"}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phn trm thu (%) *"}),a.jsx("input",{type:"number",name:"PercentValue",value:i.PercentValue,onChange:S,className:`w-full p-2 border rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent ${f.PercentValue?"border-red-500":"border-gray-300"}`,placeholder:"V d: 5.5",min:"0",max:"100",step:"0.1"}),f.PercentValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.PercentValue})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi tr n hng ti thiu () *"}),a.jsx("input",{type:"number",name:"MinOrderValue",value:i.MinOrderValue,onChange:S,className:`w-full p-2 border rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent ${f.MinOrderValue?"border-red-500":"border-gray-300"}`,placeholder:n?"V d: 0":`Gi : ${v()}`,min:"0"}),f.MinOrderValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.MinOrderValue})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi tr n hng ti a ()"}),a.jsx("input",{type:"number",name:"MaxOrderValue",value:i.MaxOrderValue,onChange:S,className:`w-full p-2 border rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent ${f.MaxOrderValue?"border-red-500":"border-gray-300"}`,placeholder:" trng nu khng gii hn",min:"0"}),f.MaxOrderValue&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.MaxOrderValue})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),a.jsx("input",{type:"text",name:"Description",value:i.Description,onChange:S,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-orange-300 focus:border-transparent",placeholder:"V d: p dng cho n hng t 0 n 100,000"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-orange-400 text-white rounded-lg cursor-pointer hover:bg-orange-500 cursor-pointer transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"ang x l...":n?"Cp nht":"Thm mi"}),n&&a.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 bg-gray-200 text-gray-700 cursor-pointer rounded-lg hover:bg-gray-300 transition-colors",children:"Hy"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-orange-400 border-b flex justify-between items-center",children:[a.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Danh sch mc thu (",e.length,")"]}),a.jsxs("div",{className:"text-sm text-white",children:[e.filter(C=>C.Status).length," mc ang hot ng"]})]}),e.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cha c mc thu no c thit lp"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left text-gray-700",children:"ID"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Phn trm"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Khong gi"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"M t"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Trng thi"}),a.jsx("th",{className:"p-3 text-left text-gray-700",children:"Thao tc"})]})}),a.jsx("tbody",{children:e.map((C,A)=>{const M=e[A+1];let k=!1;return M&&C.Status&&M.Status&&C.MaxOrderValue!==null&&M.MinOrderValue!==null&&(k=M.MinOrderValue>C.MaxOrderValue+1),a.jsxs("tr",{className:`border-b hover:bg-gray-50 ${C.Status?"":"bg-gray-100 opacity-75"} ${k?"bg-yellow-50":""}`,children:[a.jsxs("td",{className:"p-3",children:[a.jsx("div",{className:"font-medium",children:C.FeeId}),k&&a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"C khong trng"})})]}),a.jsxs("td",{className:"p-3 font-semibold text-orange-600",children:[C.PercentValue,"%"]}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"font-medium",children:E(C.MinOrderValue,C.MaxOrderValue)})}),a.jsxs("td",{className:"p-3",children:[a.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:C.Description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["To: ",new Date(C.CreatedAt).toLocaleDateString("vi-VN")]})]}),a.jsx("td",{className:"p-3",children:C.Status?a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-sm rounded-full",children:"ang hot ng"}):a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-full",children:" xa"})}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"flex gap-2",children:C.Status?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>m(C),className:"px-3 py-1 bg-blue-100 text-blue-700 cursor-pointer rounded hover:bg-blue-200 transition-colors text-sm",children:"Sa"}),a.jsx("button",{onClick:()=>j(C.FeeId),className:"px-3 py-1 bg-red-100 text-red-700 cursor-pointer rounded hover:bg-red-200 transition-colors text-sm",children:"Xa"})]}):a.jsx("button",{onClick:()=>N(C.FeeId),className:"px-3 py-1 bg-green-100 text-green-700 cursor-pointer rounded hover:bg-green-200 transition-colors text-sm",children:"Kch hot"})})})]},C.FeeId)})})]})})]})]})})};function I4(){const e=de(),[t,n]=x.useState([]),[s,l]=x.useState([]),[r,i]=x.useState(!0),[c,o]=x.useState("all"),[d,f]=x.useState(null),[h,p]=x.useState(!1),[g,b]=x.useState(1),S=10,w=T=>Number(T||0).toLocaleString("vi-VN"),y={1:{label:"Ch thanh ton",color:"bg-yellow-100 text-yellow-800",icon:Rr},2:{label:"Ch chun b",color:"bg-blue-100 text-blue-800",icon:et},3:{label:"ang giao",color:"bg-purple-100 text-purple-800",icon:rn},4:{label:"Hon thnh",color:"bg-green-100 text-green-800",icon:Ln},5:{label:" hy",color:"bg-red-100 text-red-800",icon:da},6:{label:"Tr hng",color:"bg-orange-100 text-orange-800",icon:Gc},7:{label:"Ch chun b",color:"bg-blue-100 text-blue-800",icon:et}},u={1:{label:"Ch chun b",color:"bg-yellow-100 text-yellow-800",icon:et},2:{label:" chun b xong",color:"bg-blue-100 text-blue-800",icon:Ln},3:{label:"ang giao",color:"bg-purple-100 text-purple-800",icon:rn},4:{label:"Hon thnh",color:"bg-green-100 text-green-800",icon:Ln},5:{label:" hy",color:"bg-red-100 text-red-800",icon:WN},6:{label:"Tr hng",color:"bg-orange-100 text-orange-800",icon:Gc}},m=[{id:"all",label:"Tt c"},{id:"1",label:"Ch thanh ton"},{id:"2",label:"Ch chun b"},{id:"3",label:"ang giao"},{id:"4",label:"Hon thnh"},{id:"5",label:" hy"},{id:"6",label:"Tr hng"}],j=T=>{if(!T||!T.VoucherName)return null;const{VoucherName:V,DiscountType:Q,DiscountValue:B,MaxDiscount:P}=T;let D="";return Q==="percent"?(D=`Gim ${B}%`,P&&(D+=` (ti a ${w(P)})`)):Q==="fixed"?D=`Gim ${w(B)}`:Q==="ship"&&(D=`Min ph ship ${w(B)}`),{name:V,text:D,type:Q}},N=T=>{if(!T.DiscountType||!T.DiscountValue)return 0;const V=T.UnitPrice*T.Quantity;if(T.DiscountType==="percent"){let Q=Math.floor(V*T.DiscountValue/100);return T.MaxDiscount&&(Q=Math.min(Q,T.MaxDiscount)),Q}else{if(T.DiscountType==="fixed")return Math.min(T.DiscountValue,V);if(T.DiscountType==="ship")return 0}return 0};x.useEffect(()=>{O()},[]);const O=async()=>{var T;try{const V=JSON.parse(sessionStorage.getItem("account")),Q=sessionStorage.getItem("token");if(!V||!Q){e("/login");return}i(!0);const P=(await G.get("/orders/my-orders",{headers:{Authorization:`Bearer ${Q}`}})).data.map(D=>({...D,CreatedAt:new Date(D.CreatedAt).toLocaleDateString("vi-VN"),UpdatedAt:new Date(D.UpdatedAt).toLocaleDateString("vi-VN"),OrderDate:new Date(D.OrderDate).toLocaleDateString("vi-VN"),itemCount:D.itemCount||1}));n(P)}catch(V){console.error("Fetch orders error:",V),((T=V.response)==null?void 0:T.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert("Khng th ti danh sch n hng")}finally{i(!1)}},E=x.useMemo(()=>c==="all"?t:t.filter(T=>T.Status===parseInt(c)),[t,c]),v=x.useMemo(()=>{const T=(g-1)*S,V=T+S;return E.slice(T,V)},[E,g,S]),C=Math.ceil(E.length/S);x.useEffect(()=>{l(v)},[v]),x.useEffect(()=>{b(1)},[c]);const A=async T=>{var V;try{const Q=sessionStorage.getItem("token"),B=await G.get(`/orders/${T}`,{headers:{Authorization:`Bearer ${Q}`}}),P=B.data.details.map(F=>{const ee=N(F),je=F.UnitPrice*F.Quantity,$t=je-ee;return{...F,Image:F.Image||"https://via.placeholder.com/80",itemTotal:je,itemDiscount:ee,finalPrice:Math.max($t,0),voucherDisplay:j(F)}}),D=P.reduce((F,ee)=>F+ee.itemTotal,0),q=P.reduce((F,ee)=>F+ee.itemDiscount,0),Y=P.reduce((F,ee)=>F+ee.ShipFee,0);let z=null,J=0,X=0;if(B.data.order.OrderVoucherId){const F={VoucherName:B.data.order.OrderVoucherName,DiscountType:B.data.order.OrderDiscountType,DiscountValue:B.data.order.OrderDiscountValue,MaxDiscount:B.data.order.OrderMaxDiscount};z=j(F);const ee=D-q;if(F.DiscountType==="ship")X=Math.min(Y,F.DiscountValue);else if(F.DiscountType==="percent"){const je=Math.floor(ee*F.DiscountValue/100);J=F.MaxDiscount?Math.min(je,F.MaxDiscount):je}else F.DiscountType==="fixed"&&(J=Math.min(F.DiscountValue,ee))}f({...B.data,details:P,summary:{productTotal:D,productDiscount:q,totalShip:Y,orderDiscount:J,orderShipDiscount:X,grandTotal:B.data.order.FinalPrice},hasOrderVoucher:!!B.data.order.OrderVoucherId,hasProductVouchers:P.some(F=>F.voucherDisplay)}),p(!0)}catch(Q){console.error("Fetch order detail error:",Q),((V=Q.response)==null?void 0:V.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert("Khng th ti chi tit n hng")}},M=T=>T.MethodId===1?T.Status===4?" thanh ton":"Ch thanh ton":T.Status===2?" thanh ton":"Cha thanh ton",k=T=>T.MethodId!==1&&T.Status!==2,I=async T=>{var V,Q;try{const B=sessionStorage.getItem("token"),P=await G.post(`/orders/${T}/payment`,{},{headers:{Authorization:`Bearer ${B}`}});alert("Chuyn hng n trang thanh ton..."),O(),p(!1)}catch(B){console.error("Payment error:",B),alert("Li khi thc hin thanh ton: "+(((Q=(V=B.response)==null?void 0:V.data)==null?void 0:Q.message)||B.message))}},H=x.useMemo(()=>{const T={all:t.length};return m.forEach(V=>{V.id!=="all"&&(T[V.id]=t.filter(Q=>Q.Status===parseInt(V.id)).length)}),T},[t]),K=T=>{const V=y[T]||{label:"Khng xc nh",color:"bg-gray-100 text-gray-800",icon:Xn},Q=V.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium ${V.color}`,children:[a.jsx(Q,{className:"w-4 h-4"}),V.label]})},L=T=>{const V=u[T]||{label:"Khng xc nh",color:"bg-gray-100 text-gray-800",icon:Xn},Q=V.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs ${V.color}`,children:[a.jsx(Q,{className:"w-3 h-3"}),V.label]})},_=T=>{const V=[];switch(T.Status){case 1:V.push({label:"Thanh ton",action:()=>I(T.OrderId),icon:sl,color:"bg-green-600 cursor-pointer hover:bg-green-700"},{label:"Hy n",action:()=>U(T.OrderId),icon:da,color:"bg-red-600 cursor-pointer hover:bg-red-700"});break;case 2:V.push({label:"Hy n",action:()=>U(T.OrderId),icon:da,color:"bg-red-600 cursor-pointer hover:bg-red-700"});break;case 3:V.push({label:"Lin h shop",action:()=>Z(T.OrderId),icon:vd,color:"bg-blue-600 cursor-pointer hover:bg-blue-700"});break;case 4:V.push({label:"nh gi",action:()=>e(`/feedback/order/${T.OrderId}`),icon:xn,color:"bg-orange-600 cursor-pointer hover:bg-orange-700"},{label:"Mua li",action:()=>W(T.OrderId),icon:Gc,color:"bg-purple-600 cursor-pointer hover:bg-purple-700"});break}return V},U=async T=>{var V,Q;if(window.confirm("Bn c chc chn mun hy n hng ny?"))try{const B=sessionStorage.getItem("token");await G.put(`/orders/${T}/cancel`,{},{headers:{Authorization:`Bearer ${B}`}}),alert(" hy n hng thnh cng"),O()}catch(B){const P=((Q=(V=B.response)==null?void 0:V.data)==null?void 0:Q.message)||"Khng th hy n hng  trng thi hin ti";alert(P)}},Z=T=>{e(`/chat?order=${T}`)},W=async T=>{try{const V=sessionStorage.getItem("token");await G.post(`/orders/${T}/reorder`,{},{headers:{Authorization:`Bearer ${V}`}}),alert(" thm sn phm vo gi hng"),e("/cart")}catch{alert("Khng th mua li n hng ny")}},ae=()=>{var J,X;if(!d)return null;const{order:T,details:V,itemCount:Q,summary:B,hasOrderVoucher:P,hasProductVouchers:D}=d;(J=y[T.Status])!=null&&J.icon;const q=M(T),Y=k(T),z=P||D;return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>p(!1)}),a.jsxs("div",{className:"relative bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto z-10",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Chi tit n hng"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:"font-mono text-gray-700",children:["#",T.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pi,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:T.OrderDate})]}),K(T.Status)]})]}),a.jsx("button",{onClick:()=>p(!1),className:"p-2 cursor-pointer hover:bg-gray-100 rounded-lg transition",children:a.jsx(da,{className:"w-6 h-6 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-8",children:[z&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100 rounded-xl p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(vi,{className:"w-5 h-5 text-purple-600"}),"Voucher  s dng"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P&&a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(kf,{className:"w-4 h-4 text-purple-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Voucher ton n"}),a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:T.OrderVoucherName})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",children:T.OrderDiscountType==="percent"?a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(D3,{className:"w-4 h-4"}),"Gim ",T.OrderDiscountValue,"%",T.OrderMaxDiscount&&a.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(ti a ",w(T.OrderMaxDiscount),")"]})]}):T.OrderDiscountType==="ship"?a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(rn,{className:"w-4 h-4"}),"Gim ship ",w(T.OrderDiscountValue),""]}):a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(kf,{className:"w-4 h-4"}),"Gim ",w(T.OrderDiscountValue),""]})}),a.jsxs("div",{className:"text-sm font-semibold text-red-500",children:["-",w(T.OrderDiscountType==="ship"?B.orderShipDiscount:B.orderDiscount),""]})]})]}),D&&a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(et,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Voucher sn phm"}),a.jsxs("p",{className:"text-sm text-blue-600",children:[V.filter(F=>F.voucherDisplay).length," sn phm c p dng"]})]})]}),a.jsx("div",{className:"space-y-2 max-h-24 overflow-y-auto",children:V.filter(F=>F.voucherDisplay).map((F,ee)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("div",{className:"truncate max-w-[180px]",children:a.jsx("span",{className:"text-gray-700",children:F.ProductName})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-600",children:F.voucherDisplay.text}),a.jsxs("span",{className:"font-medium text-red-500",children:["-",w(F.itemDiscount),""]})]})]},ee))})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trng thi n hng"}),a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map((F,ee)=>{var je;return a.jsxs(x.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${T.Status>=F?"bg-green-500 text-white":"bg-gray-200 text-gray-400"}`,children:ee+1}),a.jsx("span",{className:"text-sm mt-2 text-gray-600",children:((je=y[F])==null?void 0:je.label)||`Bc ${F}`})]}),ee<3&&a.jsx("div",{className:`flex-1 h-1 ${T.Status>F?"bg-green-500":"bg-gray-200"}`})]},F)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(yi,{className:"w-5 h-5 text-blue-600"})}),a.jsx("h4",{className:"font-semibold text-gray-800",children:"a ch giao hng"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:T.AddressName||((X=T.AddressContent)==null?void 0:X.split(",")[0])}),a.jsx("p",{className:"text-gray-600",children:T.AddressPhone}),a.jsx("p",{className:"text-gray-600 text-sm",children:T.AddressContent})]})]}),a.jsxs("div",{className:"border rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(sl,{className:"w-5 h-5 text-green-600"})}),a.jsx("h4",{className:"font-semibold text-gray-800",children:"Thanh ton"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:T.MethodName}),a.jsxs("p",{className:"text-gray-600",children:["Trng thi: ",q]}),Y&&a.jsxs("button",{onClick:()=>I(T.OrderId),className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition cursor-pointer flex items-center gap-2",children:[a.jsx(l4,{className:"w-4 h-4"}),"Thanh ton ngay"]}),a.jsxs("p",{className:"text-lg font-bold text-red-500",children:[w(T.FinalPrice),""]})]})]})]}),a.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 p-4 border-b",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h4",{className:"font-semibold text-gray-800",children:["Sn phm (",Q,")"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Q," sn phm"]})]})}),a.jsx("div",{className:"divide-y",children:V==null?void 0:V.map((F,ee)=>a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:F.Image,alt:F.ProductName,className:"w-20 h-20 rounded-lg object-cover border",onError:je=>{je.target.onerror=null,je.target.src="https://via.placeholder.com/80"}})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800",children:F.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["n gi: ",w(F.UnitPrice),""]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["S lng: ",F.Quantity]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Tng: ",w(F.itemTotal),""]})]}),F.voucherDisplay&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[a.jsx(vi,{className:"w-3 h-3"}),a.jsxs("span",{children:[F.voucherDisplay.name,":"]}),a.jsx("span",{className:"font-medium",children:F.voucherDisplay.text})]}),a.jsxs("div",{className:"text-sm text-red-500 font-medium",children:["-",w(F.itemDiscount),""]})]}),a.jsx("div",{className:"flex items-center gap-4 mt-2 text-sm",children:a.jsxs("span",{className:"text-blue-600",children:["Ph ship: ",w(F.ShipFee),""]})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-red-500",children:[w(F.finalPrice+F.ShipFee),""]}),a.jsx("div",{className:"mt-2",children:L(F.Status)})]})]})})]})},ee))}),a.jsx("div",{className:"bg-gray-50 p-6 border-t",children:a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-80 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Tng tin hng:"}),a.jsxs("span",{children:[w(B.productTotal),""]})]}),B.productDiscount>0&&a.jsxs("div",{className:"flex justify-between text-blue-600",children:[a.jsx("span",{children:"Gim voucher sn phm:"}),a.jsxs("span",{children:["- ",w(B.productDiscount),""]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Ph vn chuyn:"}),a.jsxs("span",{children:[w(B.totalShip),""]})]}),B.orderShipDiscount>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim ph vn chuyn:"}),a.jsxs("span",{children:["- ",w(B.orderShipDiscount),""]})]}),B.orderDiscount>0&&a.jsxs("div",{className:"flex justify-between text-purple-600",children:[a.jsx("span",{children:"Gim voucher ton n:"}),a.jsxs("span",{children:["- ",w(B.orderDiscount),""]})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Tng thanh ton:"}),a.jsxs("span",{className:"text-red-500",children:[w(B.grandTotal),""]})]})})]})})})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"ng"}),_(T).map((F,ee)=>a.jsxs("button",{onClick:F.action,className:`px-6 py-2 text-white rounded-lg cursor-pointer flex items-center gap-2 transition ${F.color}`,children:[a.jsx(F.icon,{className:"w-4 h-4"}),F.label]},ee))]})]})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(sa,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"n hng ca ti"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l v theo di n hng ca bn"})]}),a.jsx("div",{className:"bg-white rounded-xl border mb-6",children:a.jsx("div",{className:"flex overflow-x-auto",children:m.map(T=>a.jsx("button",{onClick:()=>o(T.id),className:`flex-shrink-0 cursor-pointer px-6 py-4 border-b-2 font-medium transition ${c===T.id?"border-orange-500 text-orange-600 bg-orange-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[T.label,a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c===T.id?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:H[T.id]||0})]})},T.id))})}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"ang ti n hng..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(et,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Khng c n hng"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Bn cha c n hng no trong mc ny"}),a.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer",children:"Mua sm ngay"})]}):a.jsx("div",{className:"space-y-4",children:s.map(T=>{var B,P;const V=_(T),Q=M(T);return a.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden hover:shadow-md transition",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"font-mono text-gray-700",children:["#",T.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pi,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:T.CreatedAt})]}),K(T.Status)]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("span",{className:"text-lg font-bold text-red-500",children:[w(T.FinalPrice),""]})})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(yi,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Giao n"}),a.jsx("p",{className:"font-medium truncate max-w-[200px]",children:((B=T.AddressContent)==null?void 0:B.split(",")[0])||"Khng c a ch"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(sl,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Thanh ton"}),a.jsx("p",{className:"font-medium",children:T.MethodName}),a.jsx("p",{className:"text-xs text-gray-500",children:Q})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-2",children:[Array.from({length:Math.min(3,T.itemCount)}).map((D,q)=>a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center",children:a.jsx(et,{className:"w-5 h-5 text-gray-400"})},q)),T.itemCount>3&&a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-orange-100 flex items-center justify-center",children:a.jsxs("span",{className:"text-xs font-bold text-orange-700",children:["+",T.itemCount-3]})})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[T.itemCount," sn phm"]}),a.jsx("p",{className:"text-xs text-gray-500",children:((P=T.AddressContent)==null?void 0:P.split(",").slice(1).join(",").trim())||"ang cp nht..."})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-col gap-3",children:[a.jsxs("button",{onClick:()=>A(T.OrderId),className:"px-4 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 transition",children:[a.jsx(tp,{className:"w-4 h-4"}),"Xem chi tit"]}),V.map((D,q)=>a.jsxs("button",{onClick:D.action,className:`px-4 py-2 text-white rounded-lg flex items-center justify-center gap-2 transition cursor-pointer ${D.color}`,children:[a.jsx(D.icon,{className:"w-4 h-4"}),D.label]},q))]})]})})]},T.OrderId)})}),C>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>b(T=>Math.max(1,T-1)),disabled:g===1,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${g===1?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:C},(T,V)=>a.jsx("button",{onClick:()=>b(V+1),className:`
                          w-9 h-9 rounded-full text-sm font-semibold
                          transition-all duration-200
                          ${g===V+1?"bg-orange-500 text-white shadow":"bg-orange-50 text-orange-500 hover:bg-orange-200 cursor-pointer"}
                        `,children:V+1},V))}),a.jsxs("button",{onClick:()=>b(T=>Math.min(C,T+1)),disabled:g===C||C===0,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${g===C||C===0?"bg-orange-100 text-orange-300 border-orange-200 cursor-not-allowed":"bg-white text-orange-500 border-orange-300 hover:bg-orange-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})]})})}),h&&a.jsx(ae,{}),a.jsx(Nn,{})]})}function H4(){const e=de(),[t,n]=x.useState([]),[s,l]=x.useState([]),[r,i]=x.useState(!0),[c,o]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(new Set),[g,b]=x.useState({status:"all",search:"",dateFrom:"",dateTo:"",orderId:""}),[S,w]=x.useState(1),y=10,[u,m]=x.useState(!1),j=T=>Number(T||0).toLocaleString("vi-VN"),N=T=>T?new Date(T).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",O=T=>T?T.startsWith("http")||T.startsWith("/uploads")?T:`/uploads/ProductImage/${T}`:"https://via.placeholder.com/80",E={1:{label:"Ch chun b",color:"bg-gray-100 text-gray-800",icon:Rr,bgColor:"bg-gray-50"},2:{label:" chun b",color:"bg-green-100 text-green-800",icon:Ln,bgColor:"bg-green-50"},3:{label:"ang giao",color:"bg-purple-100 text-purple-800",icon:rn,bgColor:"bg-purple-50"},4:{label:"Hon thnh",color:"bg-blue-100 text-blue-800",icon:Ln,bgColor:"bg-blue-50"},5:{label:" hy",color:"bg-red-100 text-red-800",icon:da,bgColor:"bg-red-50"},7:{label:"Ch gian hng khc",color:"bg-orange-100 text-orange-800",icon:Rr,bgColor:"bg-orange-50"}},v=x.useCallback(async()=>{var T,V,Q;try{const B=JSON.parse(sessionStorage.getItem("account")),P=sessionStorage.getItem("token");if(!B||!P){e("/login");return}i(!0);const D={status:g.status==="all"?"":g.status,search:g.search,dateFrom:g.dateFrom,dateTo:g.dateTo,orderId:g.orderId},q=await G.get("/orders/seller/orders",{headers:{Authorization:`Bearer ${P}`},params:D});if(q.data&&Array.isArray(q.data)){const Y=q.data.map(z=>{var F;const J=z.preparedCount||0,X=z.itemCount||0;return{...z,CreatedAt:N(z.CreatedAt),UpdatedAt:N(z.UpdatedAt),OrderDate:N(z.OrderDate),details:((F=z.details)==null?void 0:F.map(ee=>({...ee,Image:O(ee.Image)})))||[],preparedCount:J,totalItems:X,preparedPercentage:X>0?Math.round(J/X*100):0,allPrepared:X>0&&J===X,canShip:(z.OrderStatus===2||z.OrderStatus===7)&&J===X&&X>0}});n(Y)}else n([])}catch(B){console.error("Fetch orders error:",B),((T=B.response)==null?void 0:T.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert(((Q=(V=B.response)==null?void 0:V.data)==null?void 0:Q.message)||"Khng th ti danh sch n hng"),n([])}finally{i(!1)}},[g,e]);x.useEffect(()=>{v()},[v]);const C=x.useMemo(()=>t.filter(T=>{if(g.status!=="all"&&String(T.OrderStatus)!==g.status||g.orderId&&!String(T.OrderId).includes(g.orderId))return!1;if(g.dateFrom||g.dateTo){const V=new Date(T.CreatedAt);if(g.dateFrom){const Q=new Date(g.dateFrom);if(Q.setHours(0,0,0,0),V<Q)return!1}if(g.dateTo){const Q=new Date(g.dateTo);if(Q.setHours(23,59,59,999),V>Q)return!1}}return!0}),[t,g]),A=x.useMemo(()=>{const T=(S-1)*y,V=T+y;return C.slice(T,V)},[C,S,y]),M=Math.ceil(C.length/y);x.useEffect(()=>{w(1)},[g]),x.useEffect(()=>{l(A)},[A]);const k=async T=>{var V,Q;if(window.confirm("Xc nhn chuyn tt c sn phm sang trng thi ang giao?"))try{const B=sessionStorage.getItem("token"),D=(await G.put(`/orders/seller/orders/${T}/ship`,{},{headers:{Authorization:`Bearer ${B}`}})).data.newOrderStatus;D===3?alert("n hng  c chuyn sang trng thi ang giao"):D===7&&alert(" gi hng thnh cng. ang ch gian hng khc vn chuyn..."),n(q=>q.map(Y=>Y.OrderId===T?{...Y,OrderStatus:D,canShip:!1}:Y)),c&&c.order.OrderId===T&&(o(q=>({...q,order:{...q.order,OrderStatus:D,canShip:!1},details:q.details.map(Y=>({...Y,Status:Y.Status===2?3:Y.Status}))})),m(!1)),setTimeout(()=>v(),1e3),f(!1)}catch(B){console.error("Shipping error:",B),alert(((Q=(V=B.response)==null?void 0:V.data)==null?void 0:Q.message)||"Khng th chuyn trng thi n hng")}},I=async T=>{var V,Q;try{const B=sessionStorage.getItem("token"),P=await G.get(`/orders/seller/orders/${T}`,{headers:{Authorization:`Bearer ${B}`}});if(P.data){const D=P.data.order||{},q=P.data.details||[];let Y=0,z=0;const J=q.map(je=>{const $t=je.UnitPrice*je.Quantity,ql=je.PlatformFeePercent?Math.round($t*je.PlatformFeePercent/100):0;return Y+=ql,z+=$t,{...je,Image:O(je.Image),itemTotal:$t,feeAmount:ql,finalPrice:$t+je.ShipFee,isPrepared:je.Status===2}}),X=z-Y,ee=J.filter(je=>je.Status===2).length===J.length&&J.length>0;o({order:{...D,CreatedAt:N(D.CreatedAt),OrderDate:N(D.OrderDate),canShip:(D.OrderStatus===2||D.OrderStatus===7)&&ee,SubTotal:z,TotalFee:Y,Revenue:X},details:J,itemCount:P.data.itemCount||0,allPrepared:ee}),m(ee),f(!0)}}catch(B){console.error("Fetch order detail error:",B),alert(((Q=(V=B.response)==null?void 0:V.data)==null?void 0:Q.message)||"Khng th ti chi tit n hng")}},H=async(T,V)=>{var Q,B;try{const P=sessionStorage.getItem("token");if((await G.get(`/orders/seller/order-details/${T}/check`,{headers:{Authorization:`Bearer ${P}`}})).data.currentStatus>=3){alert("Khng th thay i trng thi khi  bt u vn chuyn");return}const Y=V===1;if(await G.put(`/orders/seller/order-details/${T}/prepare`,{isPrepared:Y},{headers:{Authorization:`Bearer ${P}`}}),n(z=>z.map(J=>{var X;return{...J,details:(X=J.details)==null?void 0:X.map(F=>F.OrderDetailId===T?{...F,Status:Y?2:1}:F)}})),c){const z=c.details.map(ee=>ee.OrderDetailId===T?{...ee,Status:Y?2:1,isPrepared:Y}:ee),J=z.filter(ee=>ee.Status===2).length,X=z.length,F=J===X&&X>0;o(ee=>({...ee,details:z,allPrepared:F,order:{...ee.order,canShip:(ee.order.OrderStatus===2||ee.order.OrderStatus===7)&&F}})),m(F)}alert(Y?" nh du  chun b hng":" b nh du chun b hng"),setTimeout(()=>v(),500)}catch(P){console.error("Update prepare status error:",P),alert(((B=(Q=P.response)==null?void 0:Q.data)==null?void 0:B.message)||"Khng th cp nht trng thi chun b hng")}},K=async()=>{var Q,B;if(!c)return;const T=sessionStorage.getItem("token"),V=!u;try{const P=c.details.filter(X=>X.Status===1||X.Status===2?V?X.Status===1:X.Status===2:!1);if(P.length===0){alert(V?"Khng c sn phm no ang ch chun b":"Khng c sn phm no  chun b");return}const D=P.map(X=>G.put(`/orders/seller/order-details/${X.OrderDetailId}/prepare`,{isPrepared:V},{headers:{Authorization:`Bearer ${T}`}}));await Promise.all(D);const q=c.details.map(X=>P.some(F=>F.OrderDetailId===X.OrderDetailId)?{...X,Status:V?2:1,isPrepared:V}:X),Y=q.filter(X=>X.Status===2).length,z=q.filter(X=>X.Status===1||X.Status===2).length,J=Y===z&&z>0;o(X=>({...X,details:q,allPrepared:J,order:{...X.order,canShip:(X.order.OrderStatus===2||X.order.OrderStatus===7)&&J}})),m(J),alert(V?" nh du tt c sn phm  chun b":" b nh du tt c sn phm"),setTimeout(()=>v(),500)}catch(P){console.error("Prepare all error:",P),alert(((B=(Q=P.response)==null?void 0:Q.data)==null?void 0:B.message)||"Khng th cp nht trng thi")}},L=T=>{p(V=>{const Q=new Set(V);return Q.has(T)?Q.delete(T):Q.add(T),Q})},_=(T,V="normal")=>{const Q=E[T]||{label:"Khng xc nh",color:"bg-gray-100 text-gray-800",icon:Xn},B=Q.icon,P=V==="small"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm";return a.jsxs("span",{className:`inline-flex items-center gap-1.5 ${P} rounded-full font-medium ${Q.color}`,children:[a.jsx(B,{className:"w-3 h-3"}),Q.label]})},U=(T,V)=>{b(Q=>({...Q,[T]:V}))},Z=()=>{const T=["M n","Ngy t","Khch hng","ST","Trng thi","Tng tin","S SP"," chun b","a ch"],V=s.map(q=>{var Y;return[q.OrderId,q.OrderDate,q.CustomerName,q.CustomerPhone,((Y=E[q.OrderStatus])==null?void 0:Y.label)||"Khng xc nh",`${j(q.FinalPrice)}`,q.itemCount||0,`${q.preparedPercentage}%`,q.AddressContent?q.AddressContent.substring(0,50)+"...":""]}),Q=[T.join(","),...V.map(q=>q.join(","))].join(`
`),B=new Blob([Q],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),D=URL.createObjectURL(B);P.setAttribute("href",D),P.setAttribute("download",`don-hang-${new Date().toISOString().split("T")[0]}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)},W=()=>{const T={total:C.length,processing:C.filter(V=>V.OrderStatus===2).length,shipping:C.filter(V=>V.OrderStatus===3).length,completed:C.filter(V=>V.OrderStatus===4).length,waiting:C.filter(V=>V.OrderStatus===7).length};return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Tng n hng"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:j(T.total)})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(sp,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"ang x l"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.processing})]}),a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:a.jsx(et,{className:"w-6 h-6 text-blue-500"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Ch gian hng khc"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T.waiting})]}),a.jsx("div",{className:"p-3 bg-orange-50 rounded-lg",children:a.jsx(Rr,{className:"w-6 h-6 text-orange-500"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"ang giao"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:T.shipping})]}),a.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:a.jsx(rn,{className:"w-6 h-6 text-purple-500"})})]})}),a.jsx("div",{className:"bg-white border rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Hon thnh"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.completed})]}),a.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:a.jsx(Ln,{className:"w-6 h-6 text-green-500"})})]})})]})},ae=()=>{if(!c)return null;const{order:T,details:V}=c,Q=V.length,B=V.filter(z=>z.Status===2).length,P=B===Q&&Q>0,D=V.reduce((z,J)=>z+J.itemTotal,0),q=V.reduce((z,J)=>z+(J.feeAmount||0),0),Y=D-q;return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>f(!1)}),a.jsxs("div",{className:"relative bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto z-10",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Chi tit n hng"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:"font-mono text-gray-700",children:["#",T.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pi,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:T.OrderDate})]}),_(T.OrderStatus)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-2 border border-gray-300 text-gray-700 cursor-pointer rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(z3,{className:"w-4 h-4"}),"In n"]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 cursor-pointer rounded-lg transition",children:a.jsx(da,{className:"w-6 h-6 text-gray-500"})})]})]}),a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{className:"border rounded-xl p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(yi,{className:"w-5 h-5 text-green-600"})}),a.jsx("h4",{className:"font-semibold text-gray-800",children:"a ch giao hng"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Tn ngi nhn: "}),T.AddressName]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"S in thoi: "}),T.AddressPhone]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"a ch: "}),T.AddressContent]})]})]})}),a.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 p-4 border-b flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(bi,{className:"w-5 h-5 text-gray-500"}),a.jsxs("h4",{className:"font-semibold text-gray-800",children:["Sn phm trong n (",Q,")"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[B,"/",Q," sn phm  chun b"]}),a.jsx("div",{className:`px-3 py-1 text-sm rounded-lg ${P?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P?" sn sng giao":"ang chun b"})]})]}),(T.OrderStatus===2||T.OrderStatus===7)&&a.jsx("div",{className:"px-4 py-3 border-b bg-gray-50 flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"checkAll",checked:u,onChange:K,className:"w-5 h-5 text-blue-600 bg-gray-100 cursor-pointer border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"checkAll",className:"ml-2 text-sm font-medium text-gray-900",children:`Chn tt c (${V.filter(z=>z.Status===1).length} sn phm c th chun b)`})]})}),a.jsx("div",{className:"divide-y",children:V.map((z,J)=>{var X,F;return a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex gap-4 items-start",children:[a.jsxs("div",{className:"flex-shrink-0 pt-2",children:[(T.OrderStatus===2||T.OrderStatus===7)&&(z.Status===1||z.Status===2)&&a.jsx("button",{onClick:()=>H(z.OrderDetailId,z.Status),className:`w-6 h-6 rounded border-2 cursor-pointer flex items-center justify-center transition ${z.Status===2?"bg-green-100 border-green-500":"border-gray-300 hover:border-green-500 hover:bg-green-50"}`,title:z.Status===2?" chun b - Nhn  b":"Cha chun b - Nhn  nh du",children:z.Status===2&&a.jsx(wl,{className:"w-4 h-4 text-green-600"})}),z.Status===3&&a.jsx("div",{className:"w-6 h-6 rounded bg-purple-100 border-2 border-purple-500 flex items-center justify-center",children:a.jsx(rn,{className:"w-4 h-4 text-purple-600"})}),z.Status===4&&a.jsx("div",{className:"w-6 h-6 rounded bg-blue-100 border-2 border-blue-500 flex items-center justify-center",children:a.jsx(Ln,{className:"w-4 h-4 text-blue-600"})}),z.Status===5&&a.jsx("div",{className:"w-6 h-6 rounded bg-red-100 border-2 border-red-500 flex items-center justify-center",children:a.jsx(da,{className:"w-4 h-4 text-red-600"})})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:z.Image,alt:z.ProductName,className:"w-20 h-20 rounded-lg object-cover border",onError:ee=>{ee.target.onerror=null,ee.target.src="https://via.placeholder.com/80"}})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800",children:z.ProductName}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["n gi: ",j(z.UnitPrice),""]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["S lng: ",z.Quantity]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Tng: ",j(z.itemTotal),""]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[a.jsxs("span",{className:"text-blue-600",children:["Ph ship: ",j(z.ShipFee),""]}),z.PlatformFeePercent&&a.jsxs("span",{className:"text-purple-600",children:["Ph sn: ",z.PlatformFeePercent,"% (",j(z.feeAmount),")"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-red-500",children:[j(z.finalPrice),""]}),a.jsx("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs mt-2 ${((X=E[z.Status])==null?void 0:X.color)||"bg-gray-100 text-gray-800"}`,children:((F=E[z.Status])==null?void 0:F.label)||"Khng xc nh"}),z.Status===2&&a.jsx("div",{className:"text-xs text-green-600 mt-1",children:"  chun b"}),z.Status===3&&a.jsx("div",{className:"text-xs text-purple-600 mt-1",children:" ang giao hng"}),z.Status===4&&a.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"  giao hng"})]})]})})]})},J)})})]}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Q||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"S sn phm"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[j(D),""]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tng tin hng"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[j(q),""]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ph sn"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[j(Y),""]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Doanh thu"})]})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-gray-500",children:(T.OrderStatus===2||T.OrderStatus===7)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"w-4 h-4"}),a.jsx("span",{children:"Click vo  vung  nh du/b nh du sn phm  chun b xong"})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"ng"}),(T.OrderStatus===2||T.OrderStatus===7)&&P&&a.jsxs("button",{onClick:()=>k(T.OrderId),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[a.jsx(rn,{className:"w-4 h-4"}),"Gi hng ngay"]})]})]})]})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(Kt,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l n hng"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Xem v qun l n hng t khch hng"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:Z,className:"px-4 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[a.jsx(p3,{className:"w-4 h-4"}),"Xut CSV"]}),a.jsxs("button",{onClick:v,className:"px-4 py-2 bg-blue-600 cursor-pointer text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[a.jsx(V3,{className:"w-4 h-4"}),"Lm mi"]})]})]})}),a.jsx(W,{}),a.jsxs("div",{className:"bg-white rounded-xl border p-6 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trng thi"}),a.jsxs("select",{className:"w-full p-2.5 border cursor-pointer rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:g.status,onChange:T=>U("status",T.target.value),children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:"2",children:"ang x l"}),a.jsx("option",{value:"7",children:"Ch gian hng khc"}),a.jsx("option",{value:"3",children:"ang giao"}),a.jsx("option",{value:"4",children:"Hon thnh"}),a.jsx("option",{value:"5",children:" hy"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M n hng"}),a.jsxs("div",{className:"relative",children:[a.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",className:"w-full pl-10 p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"VD: 1234",value:g.orderId||"",onChange:T=>U("orderId",T.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:g.dateFrom,onChange:T=>U("dateFrom",T.target.value),max:g.dateTo||new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:g.dateTo,onChange:T=>U("dateTo",T.target.value),min:g.dateFrom||"",max:new Date().toISOString().split("T")[0]})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:()=>{b({status:"all",search:"",dateFrom:"",dateTo:"",orderId:""})},className:"px-4 py-2 text-gray-600 cursor-pointer hover:text-gray-800 transition flex items-center gap-2",children:a.jsx("span",{children:"Xa b lc"})}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Tng: ",a.jsx("span",{className:"font-semibold text-blue-500",children:C.length})," n hng"]})]})]}),r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"ang ti n hng..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(et,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Khng c n hng"}),a.jsx("p",{className:"text-gray-500",children:"Khng tm thy n hng no ph hp vi b lc"})]}):a.jsx("div",{className:"space-y-4",children:s.map(T=>{var Q;const V=h.has(T.OrderId);return a.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden hover:shadow-md transition",children:[a.jsx("div",{className:"p-6 border-b cursor-pointer hover:bg-gray-50",onClick:()=>L(T.OrderId),children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"font-mono font-bold text-gray-800",children:["#",T.OrderId]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pi,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:T.CreatedAt})]}),_(T.OrderStatus)]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-lg font-bold text-red-500",children:[j(T.FinalPrice),""]}),V?a.jsx(u3,{className:"w-5 h-5 text-gray-400"}):a.jsx(l3,{className:"w-5 h-5 text-gray-400"})]})]})}),V&&a.jsx("div",{className:"p-6 border-t",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thng tin khch hng"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(t4,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"font-medium",children:T.CustomerName})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_3,{className:"w-4 h-4 text-gray-400"}),a.jsx("a",{href:`tel:${T.CustomerPhone}`,className:"text-blue-600 hover:underline",children:T.CustomerPhone})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"a ch giao hng"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:T.AddressName}),a.jsx("p",{className:"text-gray-600 text-sm",children:T.AddressPhone}),a.jsx("p",{className:"text-gray-600 text-sm",children:T.AddressContent})]})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:["Sn phm (",T.totalItems||0,")"]}),a.jsxs("div",{className:"space-y-3",children:[(Q=T.details)==null?void 0:Q.slice(0,3).map((B,P)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:B.Image,alt:B.ProductName,className:"w-10 h-10 rounded object-cover",onError:D=>{D.target.onerror=null,D.target.src="https://via.placeholder.com/40"}}),(T.OrderStatus===2||T.OrderStatus===7)&&(B.Status===1||B.Status===2)&&a.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 rounded-full border border-white ${B.Status===2?"bg-green-500":"bg-gray-300"}`,children:B.Status===2&&a.jsx(wl,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:B.ProductName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[B.Quantity,"  ",j(B.UnitPrice),""]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium",children:[j(B.UnitPrice*B.Quantity),""]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:_(B.Status,"small")})]})]},P)),(T.totalItems||0)>3&&a.jsxs("div",{className:"text-center text-sm text-gray-500",children:["+ ",(T.totalItems||0)-3," sn phm khc"]}),(T.OrderStatus===2||T.OrderStatus===7)&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[a.jsx("span",{children:"Tin  chun b"}),a.jsxs("span",{children:[T.preparedCount||0,"/",T.totalItems||0]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${T.preparedPercentage||0}%`}})})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>I(T.OrderId),className:"w-full px-4 py-2 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 transition",children:[a.jsx(tp,{className:"w-4 h-4"}),"Xem chi tit"]}),(T.OrderStatus===2||T.OrderStatus===7)&&T.canShip&&a.jsxs("button",{onClick:()=>k(T.OrderId),className:"w-full px-4 py-2 bg-blue-600 text-white cursor-pointer rounded-lg flex items-center justify-center gap-2 transition hover:bg-blue-700",children:[a.jsx(rn,{className:"w-4 h-4"}),"Gi hng ngay"]}),(T.OrderStatus===2||T.OrderStatus===7)&&!T.canShip&&a.jsx("div",{className:"text-sm text-gray-500 text-center p-2",children:T.preparedCount===0?"Cha c sn phm no c chun b":`Cn chun b thm ${T.totalItems-T.preparedCount} sn phm`}),a.jsxs("button",{onClick:()=>e("/seller/chat"),className:"w-full px-4 py-2 border border-blue-300 cursor-pointer text-blue-600 rounded-lg hover:bg-blue-50 flex items-center justify-center gap-2 transition",children:[a.jsx(np,{className:"w-4 h-4"}),"Nhn tin"]})]})]})})]},T.OrderId)})}),M>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("button",{onClick:()=>w(T=>Math.max(1,T-1)),disabled:S===1,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${S===1?"bg-blue-100 text-blue-300 border-blue-200 cursor-not-allowed":"bg-white text-blue-500 border-blue-300 hover:bg-blue-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-medium",children:"Trc"})]}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:M},(T,V)=>a.jsx("button",{onClick:()=>w(V+1),className:`
                          w-9 h-9 rounded-full text-sm font-semibold
                          transition-all duration-200
                          ${S===V+1?"bg-blue-500 text-white shadow":"bg-blue-50 text-blue-500 hover:bg-blue-200 cursor-pointer"}
                        `,children:V+1},V))}),a.jsxs("button",{onClick:()=>w(T=>Math.min(M,T+1)),disabled:S===M||M===0,className:`
                      flex items-center gap-2 px-4 py-2 rounded-full border
                      transition-all duration-200
                      ${S===M||M===0?"bg-blue-100 text-blue-300 border-blue-200 cursor-not-allowed":"bg-white text-blue-500 border-blue-300 hover:bg-blue-300 hover:text-white shadow-sm cursor-pointer"}
                    `,children:[a.jsx("span",{className:"text-sm font-medium",children:"Sau"}),a.jsx("span",{className:"text-lg",children:""})]})]})]})]})})}),d&&a.jsx(ae,{}),a.jsx(Nn,{})]})}function $4(){const{id:e}=Oa(),t=de(),n=JSON.parse(sessionStorage.getItem("account")),s=n==null?void 0:n.AccountId,[l,r]=x.useState(null),[i,c]=x.useState([]),[o,d]=x.useState({avgScore:0,totalFeedbacks:0,scoreDistribution:{5:0,4:0,3:0,2:0,1:0}}),[f,h]=x.useState(!1),[p,g]=x.useState(!0),[b,S]=x.useState(1),[w,y]=x.useState(!1),u=`${me}/uploads/AccountAvatar`,m=`${me}/uploads/ProductImage`,j=`${me}/uploads/feedback`;x.useEffect(()=>{(async()=>{var I;try{g(!0);const[H,K]=await Promise.all([G.get(`/stalls/${e}`),G.get(`/feedback/stall/${e}/public?page=1&limit=10`)]);r(H.data),K.data.success&&(c(K.data.feedbacks),d({avgScore:parseFloat(K.data.rating.average)||0,totalFeedbacks:K.data.rating.total||0,scoreDistribution:((I=K.data.stats)==null?void 0:I.distribution)||{5:0,4:0,3:0,2:0,1:0}}))}catch(H){console.error("Load stall error:",H),alert("Khng tm thy gian hng"),t("/")}finally{g(!1)}})()},[e,t]);const N=async()=>{if(!w)try{y(!0);const k=b+1,I=await G.get(`/feedback/stall/${e}/public?page=${k}&limit=10`);I.data.success&&(c(H=>[...H,...I.data.feedbacks]),S(k))}catch(k){console.error("Load more feedbacks error:",k)}finally{y(!1)}};if(p)return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("main",{className:"min-h-screen bg-gray-50 pt-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(8)].map((k,I)=>a.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[a.jsx("div",{className:"h-48 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},I))}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})})]})]})})})]});if(!l)return null;const{stall:O,products:E}=l,v=s&&s!==O.AccountId,C=O.Avt?`${u}/${O.Avt}`:`${u}/avtDf.png`,A=(k,I="md")=>{const H={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return a.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((K,L)=>a.jsx(xn,{className:`${H[I]} ${L<Math.floor(k)?"text-yellow-400 fill-yellow-400":L<k?"text-yellow-400":"text-gray-300"}`},L)),a.jsx("span",{className:`ml-2 ${I==="lg"?"text-lg":"text-sm"} text-gray-600 font-medium`,children:k.toFixed(1)})]})},M=k=>{const I=o.totalFeedbacks;return I===0?0:Math.round(o.scoreDistribution[k]/I*100)};return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("main",{className:"min-h-screen bg-gray-50 pt-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-6 mb-8 shadow-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"relative",children:a.jsx("img",{src:C,alt:O.StallName,className:"w-24 h-24 rounded-full border-4 border-white shadow-lg object-cover"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:O.StallName}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:[a.jsx(bi,{size:16,className:"text-gray-600"}),a.jsxs("span",{className:"text-sm font-medium",children:[E.length," sn phm"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:[a.jsx(Df,{size:16,className:"text-amber-500"}),a.jsxs("span",{className:"text-sm font-medium",children:[o.totalFeedbacks," nh gi"]})]}),o.totalFeedbacks>0&&a.jsx("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:A(o.avgScore)})]}),a.jsxs("p",{className:"text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Ch shop:"})," ",O.Name]})]})]}),v&&a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-red-500 cursor-pointer text-white px-6 py-3 rounded-full font-semibold hover:shadow-lg transition-shadow duration-200",children:[a.jsx(vd,{size:20}),"Chat vi shop"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sn phm ca shop"}),a.jsxs("span",{className:"text-gray-500",children:[E.length," sn phm"]})]}),E.length===0?a.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[a.jsx(et,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Shop cha c sn phm no"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:E.map(k=>a.jsxs("div",{onClick:()=>t(`/product/${k.ProductId}`),className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[a.jsx("img",{src:`${m}/${k.Image}`,alt:k.ProductName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),k.Status===0&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold px-3 py-1 bg-red-500 rounded-full text-sm",children:"Ngng bn"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800 line-clamp-2 mb-2 group-hover:text-orange-500",children:k.ProductName}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("span",{className:"text-red-500 font-bold text-lg",children:[Number(k.Price).toLocaleString()," "]})})]})]},k.ProductId))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(Df,{className:"w-5 h-5 text-amber-500"}),"Thng k shop"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"Sn phm:"}),a.jsx("span",{className:"font-semibold",children:E.length})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:"nh gi:"}),a.jsx("span",{className:"font-semibold",children:o.totalFeedbacks})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-gray-600",children:"im nh gi:"}),o.totalFeedbacks>0?A(o.avgScore):a.jsx("span",{className:"text-gray-400 text-sm",children:"Cha c"})]})]})]}),o.totalFeedbacks>0&&a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(Q3,{className:"w-5 h-5 text-yellow-500"}),"Phn phi im"]}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(k=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center w-16",children:[a.jsx("span",{className:"text-sm text-gray-600 w-4",children:k}),a.jsx(xn,{className:"w-4 h-4 text-yellow-400 ml-1"})]}),a.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"bg-yellow-400 h-full rounded-full",style:{width:`${M(k)}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 w-10",children:[M(k),"%"]})]},k))})]})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"nh gi v shop"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[o.totalFeedbacks," nh gi t khch hng"]})]}),o.totalFeedbacks>0&&a.jsx("div",{className:"text-center bg-gradient-to-r from-orange-50 to-amber-50 px-6 py-4 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"text-4xl font-bold text-orange-600",children:o.avgScore.toFixed(1)}),a.jsxs("div",{children:[A(o.avgScore,"lg"),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"trn 5 sao"})]})]})})]}),o.totalFeedbacks===0?a.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(a4,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Cha c nh gi no"}),a.jsx("p",{className:"text-gray-500",children:"Hy l ngi u tin nh gi shop ny"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(k=>a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("img",{src:k.AccountAvatar?k.AccountAvatar.startsWith("http")?k.AccountAvatar:`${u}/${k.AccountAvatar}`:`${u}/avtDf.png`,alt:k.AccountName,className:"w-12 h-12 rounded-full flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:k.AccountName}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["nh gi v: ",k.ProductName||"sn phm"]})]}),a.jsxs("div",{className:"text-right",children:[A(k.Score),a.jsx("span",{className:"text-xs text-gray-400 block mt-1",children:new Date(k.CreatedAt).toLocaleDateString("vi-VN")})]})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:k.Content}),k.Images&&k.Images.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:k.Images.map((I,H)=>{const K=typeof I=="string"?I.startsWith("http")?I:`${j}/${I}`:"";return a.jsx("img",{src:K,alt:`Hnh ${H+1}`,className:"h-24 w-24 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>{const L=document.getElementById("modal-image"),_=document.getElementById("image-modal");L&&_&&(L.src=K,_.classList.remove("hidden"))}},H)})})]})]})},k.FeedbackId))}),i.length<o.totalFeedbacks&&a.jsx("div",{className:"text-center mt-8",children:a.jsx("button",{onClick:N,disabled:w,className:"px-6 py-2.5 bg-white border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition inline-flex items-center gap-2",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-orange-500"}),"ang ti..."]}):a.jsxs(a.Fragment,{children:["Xem thm nh gi",a.jsx(ChevronLeft,{className:"w-4 h-4 rotate-90"})]})})})]})]})]})}),a.jsx("div",{id:"image-modal",className:"hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[a.jsx("button",{onClick:()=>document.getElementById("image-modal").classList.add("hidden"),className:"absolute -top-10 right-0 p-2 text-white hover:text-gray-300 cursor-pointer"}),a.jsx("img",{id:"modal-image",src:"",alt:"nh nh gi",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})]})}),v&&a.jsxs(a.Fragment,{children:[a.jsx($l,{sellerId:O.AccountId,visible:!f,onOpen:()=>h(!0)}),f&&a.jsx(Nd,{sellerId:O.AccountId,onClose:()=>h(!1)})]})]})}const q4=()=>{var K,L;const[e,t]=x.useState([]),[n,s]=x.useState(!0),[l,r]=x.useState(!1),[i,c]=x.useState(null),[o,d]=x.useState([]),[f,h]=x.useState(null),[p,g]=x.useState({status:"3",search:"",dateFrom:"",dateTo:""}),[b,S]=x.useState({show:!1,message:"",type:"success"});x.useEffect(()=>{j(),m()},[]);const w=(_,U="success")=>{S({show:!0,message:_,type:U}),setTimeout(()=>{S({show:!1,message:"",type:"success"})},3e3)},y={1:"Ch chun b",2:" chun b",3:"ang giao",4:" giao",5:" hy",6:"Tr hng"},u={1:"bg-yellow-100 text-yellow-800",2:"bg-blue-100 text-blue-800",3:"bg-purple-100 text-purple-800",4:"bg-green-100 text-green-800",5:"bg-red-100 text-red-800",6:"bg-gray-100 text-gray-800"},m=()=>{c(null),d([])},j=async()=>{try{r(!0);const _=new URLSearchParams({status:p.status,search:p.search,dateFrom:p.dateFrom,dateTo:p.dateTo}),U=await G.get(`/orders/staff/orders?${_}`);console.log("Orders API response:",U.data),t(U.data.orders||[])}catch(_){console.error("Error fetching orders:",_),w("Li khi ti danh sch n hng","error")}finally{s(!1),r(!1)}},N=async _=>{try{h(null);const U=await G.get(`/orders/staff/orders/${_}`);if(console.log("Order details API response:",U.data),!U.data.details||U.data.details.length===0){w("n hng ny khng c sn phm no","info"),m();return}if(U.data.details.filter(W=>W.Status===3).length===0){w("n hng ny khng c sn phm no ang giao","info"),m();return}d(U.data.details),c(_)}catch(U){console.error("Error fetching order details:",U),w("Li khi ti chi tit n hng","error"),m()}},O=async _=>{var U,Z;try{if(!window.confirm("Xc nhn  giao hng thnh cng?"))return;await G.put(`/orders/staff/order-details/${_}/deliver`);const ae=o.map(V=>V.OrderDetailId===_?{...V,Status:4}:V);d(ae),w(" xc nhn giao hng thnh cng!"),ae.every(V=>V.Status===4)&&(h(i),setTimeout(()=>{w(`n hng #${i}  hon thnh!`),m(),j()},1500))}catch(W){console.error("Error confirming delivery:",W),w(((Z=(U=W.response)==null?void 0:U.data)==null?void 0:Z.message)||"Khng th xc nhn giao hng","error")}},E=async()=>{var _,U;try{if(!window.confirm("Xc nhn tt c sn phm  c giao?"))return;await G.put(`/orders/staff/orders/${i}/deliver-all`);const W=o.map(ae=>({...ae,Status:4}));d(W),w(" xc nhn tt c sn phm!"),h(i),setTimeout(()=>{w(`n hng #${i}  hon thnh!`),m(),j()},1500)}catch(Z){console.error("Error confirming all delivery:",Z),w(((U=(_=Z.response)==null?void 0:_.data)==null?void 0:U.message)||"Li khi xc nhn","error")}},v=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_),C=_=>_?_.startsWith("http")||_.startsWith("/uploads")?_:`/uploads/ProductImage/${_}`:"https://via.placeholder.com/48x48?text=No+Image",A=_=>new Date(_).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),M=()=>{s(!0),m(),h(null),j()},k=_=>{m(),h(null),N(_)},I=()=>{const _=o.reduce((ae,T)=>ae+T.Quantity,0),U=o.filter(ae=>ae.Status===3).length,Z=o.filter(ae=>ae.Status===4).length,W=o.reduce((ae,T)=>ae+T.UnitPrice*T.Quantity,0);return{totalProducts:_,shippingProducts:U,deliveredProducts:Z,totalAmount:W}};if(n)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});const H=I();return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.show&&a.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg ${b.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[b.type==="success"?a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),b.message]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l n hng ang giao"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Xc nhn n hng  c giao n khch hng"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tm kim"}),a.jsx("input",{type:"text",placeholder:"M n hng, tn khch hng...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.search,onChange:_=>g({...p,search:_.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.dateFrom,onChange:_=>g({...p,dateFrom:_.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:p.dateTo,onChange:_=>g({...p,dateTo:_.target.value})})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:M,disabled:l,className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ti..."]}):"p dng b lc"})})]})}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden sticky top-6",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"n hng ang giao"}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[e.length," n"]})]})}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-250px)]",children:e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("p",{children:"Khng c n hng no ang vn chuyn"})]}):e.map(_=>a.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${i===_.OrderId?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>k(_.OrderId),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"font-medium text-gray-800",children:["#",_.OrderId]}),a.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:[_.itemCount," sp"]})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate mb-1",children:_.CustomerName}),a.jsx("p",{className:"text-sm text-gray-500 truncate",children:_.CustomerPhone})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"font-medium text-gray-900 block",children:v(_.FinalPrice)}),a.jsx("span",{className:"text-xs text-gray-500",children:A(_.OrderDate)})]})]})},_.OrderId))})]})}),a.jsx("div",{className:"col-span-12 lg:col-span-8",children:a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden min-h-[400px]",children:f?a.jsx("div",{className:"p-12 text-center",children:a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 max-w-md mx-auto",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto text-green-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Hon thnh!"}),a.jsxs("p",{className:"text-green-600 mb-6",children:["n hng #",f,"  c xc nhn giao hng thnh cng."]}),a.jsx("button",{onClick:()=>{h(null),m()},className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Xem n hng khc"})]})}):i&&o.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Chi tit n hng #",i]}),a.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:[o.length," sn phm"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsx("span",{className:"text-gray-600",children:(K=o[0])==null?void 0:K.CustomerName})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.jsx("span",{className:"text-gray-600",children:(L=o[0])==null?void 0:L.CustomerPhone})]})]})]}),o.some(_=>_.Status===3)&&a.jsxs("button",{onClick:E,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Xc nhn tt c"]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sn phm"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S lng"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"n gi"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[_.Image&&a.jsx("img",{src:C(_.Image),alt:_.ProductName,className:"w-12 h-12 object-cover rounded-lg mr-3",onError:U=>{U.target.src="https://via.placeholder.com/48x48?text=No+Image"}}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 mb-1",children:_.ProductName}),a.jsx("p",{className:"text-xs text-gray-500",children:_.StallName})]})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium bg-gray-100 px-2 py-1 rounded",children:_.Quantity})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-medium",children:v(_.UnitPrice)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u[_.Status]||"bg-gray-100 text-gray-800"}`,children:y[_.Status]||`Trng thi ${_.Status}`})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:_.Status===3?a.jsxs("button",{onClick:()=>O(_.OrderDetailId),className:"bg-green-100 text-green-800 px-3 py-1 rounded-lg hover:bg-green-200 transition-colors flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})," giao"]}):_.Status===4?a.jsxs("span",{className:"text-green-600 font-medium flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})," xc nhn"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"Khng th thao tc"})})]},_.OrderDetailId))})]})}),a.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tng sn phm"}),a.jsxs("p",{className:"font-medium text-lg",children:[H.totalProducts," sn phm"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ang vn chuyn"}),a.jsxs("p",{className:"font-medium text-lg text-blue-600",children:[H.shippingProducts," sn phm"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" giao"}),a.jsxs("p",{className:"font-medium text-lg text-green-600",children:[H.deliveredProducts," sn phm"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tng tin"}),a.jsx("p",{className:"font-medium text-lg",children:v(H.totalAmount)})]})]})})]})]}):a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("svg",{className:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Chn mt n hng"}),a.jsx("p",{className:"text-gray-500",children:"Chn n hng t danh sch bn tri  xem chi tit v xc nhn giao hng"})]})})})]})]})]}),a.jsx(Nn,{})]})};function G4(){const{orderId:e}=Oa(),t=de(),[n,s]=x.useState([]),[l,r]=x.useState(!0),[i,c]=x.useState(null),[o,d]=x.useState(!1),[f,h]=x.useState(5),[p,g]=x.useState(""),[b,S]=x.useState([]),[w,y]=x.useState([]),[u,m]=x.useState(!1),[j,N]=x.useState(""),O=x.useRef(null);x.useEffect(()=>{E()},[e]);const E=async()=>{var I,H,K,L,_;try{const U=sessionStorage.getItem("token");r(!0);const Z=await G.get(`/feedback/order/${e}/products`,{headers:{Authorization:`Bearer ${U}`}});if(console.log("Response data:",Z.data),Z.data.success)s(Z.data.products);else throw new Error(Z.data.message||"Khng th ly danh sch sn phm")}catch(U){console.error("Fetch order products error:",U),((I=U.response)==null?void 0:I.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),t("/login")):(N(((K=(H=U.response)==null?void 0:H.data)==null?void 0:K.message)||U.message),(((L=U.response)==null?void 0:L.status)===404||((_=U.response)==null?void 0:_.status)===403)&&s([]))}finally{r(!1)}},v=I=>{if(I.hasFeedback){alert("Bn  nh gi sn phm ny ri!");return}c(I),h(5),g(""),S([]),y([]),N(""),d(!0)},C=I=>{const H=Array.from(I.target.files);if(b.length+H.length>5){N("Ch c ti ln ti a 5 nh");return}const K=[],L=[];if(H.forEach(U=>{if(U.size>5*1024*1024){L.push({file:U,reason:"Kch thc nh ti a l 5MB"});return}if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(U.type)){L.push({file:U,reason:"Ch chp nhn file nh (JPEG, PNG, GIF)"});return}K.push(U)}),L.length>0){N(L.map(U=>U.reason).join(", "));return}if(K.length===0)return;N("");const _=[];K.forEach(U=>{const Z=new FileReader;Z.onloadend=()=>{_.push(Z.result),_.length===K.length&&y(W=>[...W,..._])},Z.readAsDataURL(U)}),S(U=>[...U,...K])},A=I=>{S(H=>H.filter((K,L)=>L!==I)),y(H=>H.filter((K,L)=>L!==I))},M=async()=>{var I,H;if(i){if(!p.trim()){N("Vui lng nhp ni dung nh gi");return}if(p.trim().length<10){N("Ni dung nh gi phi c t nht 10 k t");return}if(p.trim().length>500){N("Ni dung nh gi khng c vt qu 500 k t");return}N(""),m(!0);try{const K=sessionStorage.getItem("token"),L=new FormData;L.append("OrderDetailId",i.OrderDetailId),L.append("Score",f),L.append("Content",p.trim()),b.forEach((U,Z)=>{L.append("Images",U)});const _=await G.post("/feedback",L,{headers:{Authorization:`Bearer ${K}`,"Content-Type":"multipart/form-data"}});if(_.data.success)alert("nh gi thnh cng!"),s(U=>U.map(Z=>Z.OrderDetailId===i.OrderDetailId?{...Z,hasFeedback:!0,canFeedback:!1}:Z)),d(!1),c(null),h(5),g(""),S([]),y([]);else throw new Error(_.data.message||"nh gi tht bi")}catch(K){console.error("Submit feedback error:",K);const L=((H=(I=K.response)==null?void 0:I.data)==null?void 0:H.message)||"nh gi tht bi. Vui lng th li.";N(L)}finally{m(!1)}}},k=I=>new Intl.NumberFormat("vi-VN").format(I)+"";return l?a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}),a.jsx(Nn,{})]}):a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(sa,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 mb-4 cursor-pointer",children:[a.jsx(i3,{className:"w-4 h-4"}),"Quay li n hng"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"nh gi sn phm"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full",children:[a.jsx(et,{className:"w-4 h-4"}),a.jsxs("span",{children:["n hng #",e]})]}),a.jsxs("div",{className:"text-gray-600",children:[n.filter(I=>I.canFeedback).length," sn phm cha nh gi"]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(et,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Khng c sn phm no"}),a.jsx("p",{className:"text-gray-500",children:"n hng ny khng c sn phm no  nh gi."})]}):a.jsx("div",{className:"divide-y",children:n.map(I=>a.jsx("div",{className:"p-6 hover:bg-gray-50",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:I.ProductImage||"https://via.placeholder.com/100",alt:I.ProductName,className:"w-20 h-20 rounded-lg object-cover border",onError:H=>{H.target.onerror=null,H.target.src="https://via.placeholder.com/100"}})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-800",children:I.ProductName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.StallName}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["S lng: ",I.Quantity]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Gi: ",k(I.UnitPrice)]})]})]}),a.jsx("div",{className:"flex flex-col items-end gap-3",children:I.hasFeedback?a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(wl,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:" nh gi"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cha nh gi"}),a.jsxs("button",{onClick:()=>v(I),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer flex items-center gap-2",children:[a.jsx(xn,{className:"w-4 h-4"}),"nh gi ngay"]})]})})]})})]})},I.OrderDetailId))})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Tng sn phm"}),a.jsx("div",{className:"text-2xl font-bold text-gray-800",children:n.length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:" nh gi"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(I=>I.hasFeedback).length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Cha nh gi"}),a.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.filter(I=>I.canFeedback).length})]})]})]})]})})}),o&&i&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>!u&&d(!1)}),a.jsxs("div",{className:"relative bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto z-10",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"nh gi sn phm"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:i.ProductName})]}),a.jsx("button",{onClick:()=>!u&&d(!1),disabled:u,className:"p-2 cursor-pointer hover:bg-gray-100 rounded-lg transition",children:a.jsx(i4,{className:"w-6 h-6 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("img",{src:i.ProductImage||"https://via.placeholder.com/60",alt:i.ProductName,className:"w-16 h-16 rounded-lg object-cover"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-800",children:i.ProductName}),a.jsx("p",{className:"text-sm text-gray-600",children:i.StallName})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Cht lng sn phm (ty chn)",a.jsx("span",{className:"text-gray-400 ml-1 text-xs",children:"Mc nh: 5 sao"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(I=>a.jsx("button",{type:"button",onClick:()=>h(I),disabled:u,className:"cursor-pointer p-1 hover:scale-110 transition-transform",children:a.jsx(xn,{className:`w-10 h-10 ${I<=f?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},I)),a.jsxs("span",{className:"ml-4 text-lg font-bold text-gray-700",children:[f," sao"]})]}),a.jsxs("div",{className:"flex gap-2 mt-2 text-sm text-gray-500",children:[a.jsx("span",{children:"Rt t"}),a.jsx("span",{className:"flex-1"}),a.jsx("span",{children:"Tuyt vi"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ni dung nh gi",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:p,onChange:I=>g(I.target.value),disabled:u,className:"w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",placeholder:"Hy chia s cm nhn ca bn v sn phm ny (sn phm c tt khng, c ng vi m t khng, c nn mua khng...)",maxLength:500}),a.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:[p.length,"/500"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[a.jsx(np,{className:"w-4 h-4"}),a.jsx("span",{children:"Vit nh gi chi tit s c cng thm im tch ly!"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Hnh nh nh km (ty chn, ti a 5 nh)"}),a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-500 transition-colors",children:w.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-3 gap-4",children:w.map((I,H)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:I,alt:`Preview ${H+1}`,className:"h-32 w-full object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>A(H),disabled:u,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition cursor-pointer",children:a.jsx(jd,{className:"w-4 h-4"})})]},H))}),w.length<5&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Nhp  thm nh (",w.length,"/5)"]}),a.jsxs("label",{className:"cursor-pointer inline-block",children:[a.jsx("input",{ref:O,type:"file",className:"hidden",accept:"image/*",onChange:C,disabled:u,multiple:!0}),a.jsxs("div",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition inline-flex items-center gap-2 mt-2",children:[a.jsx(ap,{className:"w-4 h-4"}),"Thm nh"]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(j3,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 mb-3",children:"Ko th nh vo y hoc"}),a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{ref:O,type:"file",className:"hidden",accept:"image/*",onChange:C,disabled:u,multiple:!0}),a.jsxs("div",{className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition inline-flex items-center gap-2",children:[a.jsx(W3,{className:"w-4 h-4"}),"Chn nh t my tnh"]})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"JPEG, PNG, GIF (ti a 5MB mi nh)"})]})})]}),j&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 text-red-700 rounded-lg",children:[a.jsx(Xn,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:j})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[a.jsx("button",{onClick:()=>!u&&d(!1),disabled:u,className:"px-6 py-2.5 border border-gray-300 cursor-pointer text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Hy"}),a.jsx("button",{onClick:M,disabled:u||p.trim().length<1,className:`px-6 py-2.5 text-white rounded-lg flex items-center gap-2 transition ${u||p.trim().length<1?"bg-gray-400 cursor-not-allowed":"bg-orange-500 cursor-pointer hover:bg-orange-600"}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"ang gi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xn,{className:"w-4 h-4"}),"Gi nh gi"]})})]})]})]})]}),a.jsx(Nn,{})]})}function F4(){var w,y;const e=de(),[t,n]=x.useState([]),[s,l]=x.useState(!0),[r,i]=x.useState(null),[c,o]=x.useState({score:"",dateFrom:"",dateTo:"",page:1,limit:10}),[d,f]=x.useState(1);x.useEffect(()=>{h()},[c.page,c.score,c.dateFrom,c.dateTo]);const h=async()=>{var u;try{const m=sessionStorage.getItem("token");l(!0);const j=new URLSearchParams({page:c.page,limit:c.limit,...c.score&&{score:c.score},...c.dateFrom&&{dateFrom:c.dateFrom},...c.dateTo&&{dateTo:c.dateTo}}),N=await G.get(`/feedback/my-feedbacks?${j}`,{headers:{Authorization:`Bearer ${m}`}});n(N.data.feedbacks),i(N.data.stats),f(N.data.pagination.totalPages)}catch(m){console.error("Fetch feedbacks error:",m),((u=m.response)==null?void 0:u.status)===401?(sessionStorage.removeItem("token"),sessionStorage.removeItem("account"),e("/login")):alert("Khng th ti danh sch nh gi")}finally{l(!1)}},p=async u=>{if(window.confirm("Bn c chc chn mun xa nh gi ny?"))try{const m=sessionStorage.getItem("token");await G.delete(`/feedback/${u}`,{headers:{Authorization:`Bearer ${m}`}}),alert("Xa nh gi thnh cng"),h()}catch(m){console.error("Delete feedback error:",m),alert("Xa nh gi tht bi")}},g=async(u,m,j)=>{e(`/feedback/edit/${u}`)},b=u=>new Date(u).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),S=u=>Array(5).fill(0).map((m,j)=>a.jsx(xn,{className:`w-4 h-4 ${j<u?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},j));return a.jsxs(a.Fragment,{children:[a.jsx(pe,{}),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:"hidden md:block w-64",children:a.jsx(sa,{})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"nh gi ca ti"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l tt c nh gi bn  vit"})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Tng s nh gi"}),a.jsx("div",{className:"text-2xl font-bold text-gray-800 mt-2",children:r.total})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"im trung bnh"}),a.jsxs("div",{className:"text-2xl font-bold text-yellow-500 mt-2",children:[r.average,a.jsx("span",{className:"text-lg ml-1",children:"/5"})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"5 sao"}),a.jsx("div",{className:"text-2xl font-bold text-green-600 mt-2",children:((w=r.distribution)==null?void 0:w[5])||0})]}),a.jsxs("div",{className:"bg-white p-5 rounded-xl border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"1 sao"}),a.jsx("div",{className:"text-2xl font-bold text-red-600 mt-2",children:((y=r.distribution)==null?void 0:y[1])||0})]})]}),a.jsx("div",{className:"bg-white rounded-xl border p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lc theo sao"}),a.jsxs("select",{value:c.score,onChange:u=>o({...c,score:u.target.value,page:1}),className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"",children:"Tt c"}),a.jsx("option",{value:"5",children:"5 sao"}),a.jsx("option",{value:"4",children:"4 sao"}),a.jsx("option",{value:"3",children:"3 sao"}),a.jsx("option",{value:"2",children:"2 sao"}),a.jsx("option",{value:"1",children:"1 sao"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",value:c.dateFrom,onChange:u=>o({...c,dateFrom:u.target.value,page:1}),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",value:c.dateTo,onChange:u=>o({...c,dateTo:u.target.value,page:1}),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"ang ti nh gi..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:a.jsx(xn,{className:"w-10 h-10 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Cha c nh gi no"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Bn cha vit nh gi no cho sn phm"}),a.jsx("button",{onClick:()=>e("/orders"),className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition cursor-pointer",children:"n n hng  nh gi"})]}):a.jsx("div",{className:"space-y-4",children:t.map(u=>a.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:u.ProductImage||"https://via.placeholder.com/80",alt:u.ProductName,className:"w-20 h-20 rounded-lg object-cover border"})}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-800",children:u.ProductName}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.StallName}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("div",{className:"flex",children:S(u.Score)}),a.jsx("span",{className:"text-sm text-gray-500",children:b(u.CreatedAt)})]}),a.jsx("p",{className:"mt-3 text-gray-700",children:u.Content}),u.Image&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:u.Image.startsWith("http")?u.Image:`http://localhost:3000${u.Image}`,alt:"Feedback",className:"h-40 rounded-lg object-cover"})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("button",{onClick:()=>g(u.FeedbackId),className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition cursor-pointer flex items-center gap-2",children:[a.jsx(G3,{className:"w-4 h-4"}),"Sa"]}),a.jsxs("button",{onClick:()=>p(u.FeedbackId),className:"px-3 py-1.5 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition cursor-pointer flex items-center gap-2",children:[a.jsx(jd,{className:"w-4 h-4"}),"Xa"]})]})]})})]})})},u.FeedbackId))}),d>1&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>o({...c,page:Math.max(1,c.page-1)}),disabled:c.page===1,className:`px-3 py-1.5 rounded-lg ${c.page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 cursor-pointer"}`,children:"Trc"}),Array.from({length:Math.min(5,d)},(u,m)=>{let j;return d<=5||c.page<=3?j=m+1:c.page>=d-2?j=d-4+m:j=c.page-2+m,a.jsx("button",{onClick:()=>o({...c,page:j}),className:`px-3 py-1.5 rounded-lg ${c.page===j?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 cursor-pointer"}`,children:j},j)}),a.jsx("button",{onClick:()=>o({...c,page:Math.min(d,c.page+1)}),disabled:c.page===d,className:`px-3 py-1.5 rounded-lg ${c.page===d?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 cursor-pointer"}`,children:"Sau"})]})})]})]})})}),a.jsx(Nn,{})]})}function Q4(){return a.jsxs(a.Fragment,{children:[a.jsx(MN,{}),a.jsxs(s1,{children:[a.jsx(ce,{path:"/",element:a.jsx(f4,{})}),a.jsx(ce,{path:"/search",element:a.jsx(m4,{})}),a.jsx(ce,{path:"/login",element:a.jsx(x4,{})}),a.jsx(ce,{path:"/register",element:a.jsx(g4,{})}),a.jsxs(ce,{element:a.jsx(U1,{}),children:[a.jsx(ce,{path:"/admin/accounts",element:a.jsx($N,{})}),a.jsx(ce,{path:"/admin/products",element:a.jsx(qN,{})}),a.jsx(ce,{path:"/admin/ads",element:a.jsx(D4,{})}),a.jsx(ce,{path:"/admin/accounts/:id",element:a.jsx(p4,{})}),a.jsx(ce,{path:"/admin/vouchers",element:a.jsx(z4,{})}),a.jsx(ce,{path:"/admin/voucher/create",element:a.jsx(L4,{})}),a.jsx(ce,{path:"/admin/platform-fee",element:a.jsx(U4,{})})]}),a.jsxs(ce,{element:a.jsx(I1,{}),children:[a.jsx(ce,{path:"/seller/products",element:a.jsx(c4,{})}),a.jsx(ce,{path:"/seller/profile",element:a.jsx(N4,{})}),a.jsx(ce,{path:"/seller/products/:id",element:a.jsx(v4,{})}),a.jsx(ce,{path:"/seller/chat",element:a.jsx(O4,{})}),a.jsx(ce,{path:"/seller/voucher",element:a.jsx(_4,{})}),a.jsx(ce,{path:"/seller/voucher/create",element:a.jsx(k4,{})}),a.jsx(ce,{path:"/seller/voucher/update/:id",element:a.jsx(R4,{})}),a.jsx(ce,{path:"/seller/orders",element:a.jsx(H4,{})})]}),a.jsx(ce,{element:a.jsx($1,{}),children:a.jsx(ce,{path:"/staff/manage-orders",element:a.jsx(q4,{})})}),a.jsxs(ce,{element:a.jsx(H1,{}),children:[a.jsx(ce,{path:"/profile",element:a.jsx(j4,{})}),a.jsx(ce,{path:"/address",element:a.jsx(w4,{})}),a.jsx(ce,{path:"/address/add",element:a.jsx(S4,{})}),a.jsx(ce,{path:"/address/update/:id",element:a.jsx(B4,{})}),a.jsx(ce,{path:"/my-voucher",element:a.jsx(V4,{})}),a.jsx(ce,{path:"/orders",element:a.jsx(I4,{})}),a.jsx(ce,{path:"/stall/:id",element:a.jsx($4,{})}),a.jsx(ce,{path:"/checkout",element:a.jsx(M4,{})}),a.jsx(ce,{path:"/feedback/order/:orderId",element:a.jsx(G4,{})}),a.jsx(ce,{path:"/my-feedbacks",element:a.jsx(F4,{})})]}),a.jsx(ce,{path:"/cart",element:a.jsx(y4,{})}),a.jsx(ce,{path:"/product/:id",element:a.jsx(b4,{})})]})]})}lb.createRoot(document.getElementById("root")).render(a.jsx(Vn.StrictMode,{children:a.jsx(O1,{children:a.jsx(Hv,{children:a.jsx(Q4,{})})})}));
